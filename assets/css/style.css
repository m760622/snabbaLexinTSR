/* Noto Color Emoji for cross-platform emoji support */
@import url('https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap');

/* Consolidated CSS imports */
@import url('points-style.css');
@import url('themes.css');

@view-transition {
  navigation: auto;
}

:root {
  --primary: #1e3a8a;
  /* Synonymer Deep Blue */
  --primary-hover: #004a7a;
  --accent: #33a1fd;
  /* Synonymer Bright Blue (Card Border) */
  --background: #f9fafb;
  /* Clean White/Gray from image */
  --surface: #ffffff;
  --surface-secondary: #edf7ff;
  /* Very faint blue for secondary */
  --text-main: #2c3e50;
  /* Dark Blue-Gray */
  --text-secondary: #586e82;
  --border: #e5e7eb;
  --shadow: 0 2px 8px rgba(0, 91, 150, 0.1);
  /* Subtle blue shadow */
  --radius: 1rem;
  --header-font: "Inter", sans-serif;
  --body-font: "Inter", sans-serif;
  font-family: "Tajawal", sans-serif;
}

[data-theme="dark"] {
  /* Primary Colors - Modern blue accent */
  --primary: #3b82f6;
  --primary-hover: #60a5fa;
  --accent: #3b82f6;
  /* Blue for interactive elements */

  /* Backgrounds - True Black (OLED) */
  --background: #000000;
  /* OLED Black */
  --surface: #121212;
  /* Material Dark Surface */
  --surface-raised: #1e1e1e;
  --surface-hover: #2a2a2a;

  /* Text - High Contrast for Readability */
  --text-main: #ffffff;
  /* Pure white */
  --text-secondary: rgba(255, 255, 255, 0.85);
  /* Increased opacity for better contrast */
  --text-tertiary: rgba(255, 255, 255, 0.6);
  --text-disabled: rgba(255, 255, 255, 0.3);

  /* Arabic text color */
  --text-arabic: #ffffff;
  /* Pure white for Arabic */

  /* Global 3D Mobile Toggle Button (Highest Priority) */
  .mobile-toggle-btn,
  #mobileToggle {
    background: linear-gradient(145deg, #1e1e2f, #151525) !important;
    border: none !important;
    border-radius: 12px !important;
    width: 44px !important;
    height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    color: rgba(255, 255, 255, 0.7) !important;
    padding: 0 !important;

    /* 3D Effect - Raised State */
    box-shadow:
      5px 5px 10px rgba(0, 0, 0, 0.5),
      -2px -2px 6px rgba(255, 255, 255, 0.05),
      inset 0 0 0 1px rgba(255, 255, 255, 0.05) !important;

    transition: all 0.15s ease !important;
    position: relative !important;
    top: 0 !important;
    margin-left: 0.5rem !important;
    z-index: 50 !important;
  }

  .mobile-toggle-btn:hover,
  #mobileToggle:hover {
    color: #fff !important;
    transform: translateY(-1px) !important;
    box-shadow:
      6px 6px 12px rgba(0, 0, 0, 0.6),
      -2px -2px 8px rgba(255, 255, 255, 0.08) !important;
  }

  .mobile-toggle-btn.active,
  #mobileToggle.active {
    background: linear-gradient(145deg, #151525, #1e1e2f) !important;
    color: #4ade80 !important;

    /* 3D Effect - Pressed State */
    box-shadow:
      inset 5px 5px 10px rgba(0, 0, 0, 0.6),
      inset -2px -2px 6px rgba(255, 255, 255, 0.05) !important;

    transform: translateY(2px) !important;
  }

  .mobile-toggle-btn svg,
  #mobileToggle svg {
    width: 24px;
    height: 24px;
    stroke-width: 2;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    transition: transform 0.3s ease;
  }

  .mobile-toggle-btn.active svg,
  #mobileToggle.active svg {
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
    transform: scale(0.95);
  }

  /* Borders */
  --border: #27272a;
  --border-subtle: #18181b;
  --border-focus: #3b82f6;

  /* Shadows - Subtle on black */
  --shadow-up: 0 -2px 8px rgba(0, 0, 0, 0.5);
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.8);
}

/* ========================================
   NATIVE APP FEEL
   ======================================== */
body {
  /* Emoji font support for cross-platform compatibility */
  font-family: "Inter", "Tajawal", "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "Twemoji Mozilla", sans-serif;

  /* Prevent text selection */
  -webkit-user-select: none;
  user-select: none;

  /* Prevent tap highlight flicker */
  -webkit-tap-highlight-color: transparent;

  /* Prevent pull-to-refresh */
  overscroll-behavior-y: none;

  /* Improve touch response */
  touch-action: manipulation;
}

/* ========================================
   MOBILE VIEW SIMULATION (iPhone Mode)
   ======================================== */
body.iphone-view {
  max-width: 414px !important;
  /* iPhone Max width */
  margin: 0 auto !important;
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
  min-height: 100vh;
  box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
  background-color: var(--background);
  overflow-x: hidden;
}

/* Ensure fixed elements stay within the mobile container */
body.iphone-view .fixed-bottom,
body.iphone-view .navbar,
body.iphone-view .fab-container,
body.iphone-view .toast-container {
  max-width: 414px;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
}

/* Reset transform for toasts since they might have their own */
body.iphone-view .toast-container {
  transform: translateX(-50%) translateY(0);
}

body.iphone-view .fab-container {
  right: auto;
  left: 50%;
  margin-left: 140px;
  /* Offset to right side of 414px container */
  transform: none;
}


/* Ensure emoji text renders with emoji fonts */
.quick-icon,
.stat-icon,
.challenge-icon,
.path-icon,
.wod-speak-btn,
.fc-emoji,
.icon-box {
  font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "Twemoji Mozilla", sans-serif;
}

/* Twemoji emoji images - global styling */
img.emoji,
.emoji {
  height: 1em;
  width: 1em;
  vertical-align: -0.1em;
  display: inline-block;
}

/* Global Text Sizing Classes (Managed by TextSizeManager) */
.text-xs {
  font-size: 0.8rem !important;
}

.text-sm {
  font-size: 0.95rem !important;
}

.text-md {
  font-size: 1.15rem !important;
}

.text-lg {
  font-size: 1.4rem !important;
}

.text-xl {
  font-size: 1.75rem !important;
}

.cursor-pointer {
  cursor: pointer;
}

.hidden {
  display: none !important;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.grad-amber {
  background: linear-gradient(135deg, #f59e0b, #d97706) !important;
}

.grad-indigo {
  background: linear-gradient(135deg, #2563eb, #1e40af) !important;
}

.challenge-progress-fill {
  width: 0%;
  /* Default starting width */
}

/* Mobile specific optimisations */
@media (max-width: 480px) {
  .text-xl {
    font-size: 1.3em !important;
  }
}

/* Allow selection in inputs */
input,
textarea,
[contenteditable] {
  -webkit-user-select: text;
  user-select: text;
}

/* ========================================
   COLOR THEMES
   ======================================== */

/* Ocean Blue Theme */
[data-color-theme="ocean"] {
  --primary: #0ea5e9;
  --primary-hover: #38bdf8;
  --accent: #0ea5e9;
  --theme-gradient-start: #0ea5e9;
  --theme-gradient-end: #0284c7;
}

[data-color-theme="ocean"][data-theme="dark"] {
  --background: #0c1929;
  --surface: #0f2438;
  --border: rgba(14, 165, 233, 0.2);
}

/* Sunset Orange Theme */
[data-color-theme="sunset"] {
  --primary: #f97316;
  --primary-hover: #fb923c;
  --accent: #f97316;
  --theme-gradient-start: #f97316;
  --theme-gradient-end: #ea580c;
}

[data-color-theme="sunset"][data-theme="dark"] {
  --background: #1c1410;
  --surface: #2a1f18;
  --border: rgba(249, 115, 22, 0.2);
}

/* Forest Green Theme */
[data-color-theme="forest"] {
  --primary: #22c55e;
  --primary-hover: #4ade80;
  --accent: #22c55e;
  --theme-gradient-start: #22c55e;
  --theme-gradient-end: #16a34a;
}

[data-color-theme="forest"][data-theme="dark"] {
  --background: #0f1f14;
  --surface: #162b1c;
  --border: rgba(34, 197, 94, 0.2);
}

/* blue Haze Theme */
[data-color-theme="blue"] {
  --primary: #3b82f6;
  --primary-hover: #60a5fa;
  --accent: #3b82f6;
  --theme-gradient-start: #3b82f6;
  --theme-gradient-end: #1e40af;
}

[data-color-theme="darkblue"][data-theme="dark"] {
  --background: #0f172a;
  --surface: #1e293b;
  --border: rgba(30, 58, 138, 0.2);
}

/* ========== NEW THEMES FROM REDESIGN ========== */

/* Rose Pink Theme -> Ruby Red Theme */
[data-color-theme="rose"] {
  --primary: #ef4444;
  --primary-hover: #b91c1c;
  --accent: #ef4444;
  --theme-gradient-start: #ef4444;
  --theme-gradient-end: #b91c1c;
}

[data-color-theme="rose"][data-theme="dark"] {
  --background: #1f1010;
  --surface: #2d1a1a;
  --border: rgba(239, 68, 68, 0.2);
}

/* Midnight Blue Theme - أزرق ليلي */
[data-color-theme="midnight"] {
  --primary: #3b82f6;
  --primary-hover: #60a5fa;
  --accent: #3b82f6;
  --theme-gradient-start: #1e3a8a;
  --theme-gradient-end: #172554;
}

[data-color-theme="midnight"][data-theme="dark"] {
  --background: #020617;
  --surface: #0f172a;
  --border: rgba(59, 130, 246, 0.2);
}

/* Mint Green Theme - نعناعي */
[data-color-theme="mint"] {
  --primary: #10b981;
  --primary-hover: #34d399;
  --accent: #10b981;
  --theme-gradient-start: #10b981;
  --theme-gradient-end: #059669;
}

[data-color-theme="mint"][data-theme="dark"] {
  --background: #0d1f17;
  --surface: #132f23;
  --border: rgba(16, 185, 129, 0.2);
}

/* Coral Theme - مرجاني */
[data-color-theme="coral"] {
  --primary: #f43f5e;
  --primary-hover: #fb7185;
  --accent: #f43f5e;
  --theme-gradient-start: #f43f5e;
  --theme-gradient-end: #0d9488;
}

[data-color-theme="coral"][data-theme="dark"] {
  --background: #1f1014;
  --surface: #2d171c;
  --border: rgba(244, 63, 94, 0.2);
}

/* Neon Cyber Theme - نيون سايبر */
[data-color-theme="neon"] {
  --primary: #06b6d4;
  --primary-hover: #22d3ee;
  --accent: #06b6d4;
  --theme-gradient-start: #06b6d4;
  --theme-gradient-end: #0891b2;
}

[data-color-theme="neon"][data-theme="dark"] {
  --background: #0a1a1e;
  --surface: #0f252b;
  --border: rgba(6, 182, 212, 0.2);
}

/* Stealth Black Theme - أسود خفي */
[data-color-theme="stealth"] {
  --primary: #71717a;
  --primary-hover: #a1a1aa;
  --accent: #71717a;
  --theme-gradient-start: #52525b;
  --theme-gradient-end: #3f3f46;
  --background: #09090b;
  --surface: #18181b;
  --border: rgba(113, 113, 122, 0.15);
  --text-main: #e4e4e7;
  --text-secondary: #a1a1aa;
}

[data-color-theme="stealth"][data-theme="light"] {
  --background: #fafafa;
  --surface: #f4f4f5;
  --text-main: #18181b;
  --text-secondary: #52525b;
}

/* Aurora Night Theme - شفق ليلي */
[data-color-theme="aurora"] {
  --primary: #4ade80;
  --primary-hover: #86efac;
  --accent: #4ade80;
  --theme-gradient-start: #22c55e;
  --theme-gradient-end: #059669;
  --background: #020617;
  --surface: #0f172a;
  --border: rgba(74, 222, 128, 0.15);
  --text-main: #e2e8f0;
  --text-secondary: #94a3b8;
}

[data-color-theme="aurora"][data-theme="light"] {
  --background: #f0fdf4;
  --surface: #dcfce7;
  --text-main: #14532d;
  --text-secondary: #0d9488;
}

/* Ember Glow Theme - جمر متوهج */
[data-color-theme="ember"] {
  --primary: #ef4444;
  --primary-hover: #f87171;
  --accent: #ef4444;
  --theme-gradient-start: #dc2626;
  --theme-gradient-end: #b91c1c;
  --background: #0c0a09;
  --surface: #1c1917;
  --border: rgba(239, 68, 68, 0.15);
  --text-main: #fafaf9;
  --text-secondary: #a8a29e;
}

[data-color-theme="ember"][data-theme="light"] {
  --background: #fef2f2;
  --surface: #fee2e2;
  --text-main: #450a0a;
  --text-secondary: #991b1b;
}

/* ========================================
   Bilingual Visibility Rules
   ======================================== */
/* When language is Arabic (ar), hide Swedish text */
body.lang-ar .sv-text {
  display: none !important;
}

/* When language is Swedish (sv), hide Arabic text */
body.lang-sv .ar-text {
  display: none !important;
}

/* When language is Both (both), show both via flex/block logic handled by parents */
/* Typically we want them inline or block depending on context */
.streak-counter {
  background: rgba(255, 150, 50, 0.15);
  color: #ff9632;
  padding: 6px 12px;
  border-radius: 20px;
  font-weight: 700;
  font-size: 0.9rem;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-right: 10px;
  border: 1px solid rgba(255, 150, 50, 0.3);
  animation: pulse-fire 2s infinite;
}

@keyframes pulse-fire {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 150, 50, 0.4);
  }

  70% {
    box-shadow: 0 0 0 6px rgba(255, 150, 50, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(255, 150, 50, 0);
  }
}

/* Ember Glow Theme - جمر متوهج */
[data-color-theme="ember"] {
  --primary: #ef4444;
  --primary-hover: #f87171;
  --accent: #ef4444;
  --theme-gradient-start: #dc2626;
  --theme-gradient-end: #b91c1c;
  --background: #0c0a09;
  --surface: #1c1917;
  --border: rgba(239, 68, 68, 0.15);
  --text-main: #fafaf9;
  --text-secondary: #a8a29e;
}

[data-color-theme="ember"][data-theme="light"] {
  --background: #fef2f2;
  --surface: #fee2e2;
  --text-main: #450a0a;
  --text-secondary: #991b1b;
}

/* ========================================
   LOADING SKELETONS
   ======================================== */

/* Base Skeleton */
.skeleton {
  background: linear-gradient(90deg,
      var(--surface) 0%,
      var(--surface-secondary, rgba(255, 255, 255, 0.1)) 50%,
      var(--surface) 100%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  border-radius: var(--radius, 8px);
  position: relative;
  overflow: hidden;
}

[data-theme="dark"] .skeleton {
  background: linear-gradient(90deg, #2a2a2a 0%, #3a3a3a 50%, #2a2a2a 100%);
  background-size: 200% 100%;
}

@keyframes skeleton-shimmer {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* ========================================
   GLOBAL TEXT SIZE UTILITIES
   Dynamic font sizing for cards, modals, etc.
   ======================================== */

/* Base text sizing with smooth transition */
[class*="text-"] {
  transition: font-size 0.2s ease;
  word-break: break-word;
  overflow-wrap: break-word;
}

/* Size definitions - can be used anywhere */
.text-xl {
  font-size: 1.75rem !important;
  line-height: 1.2;
}

.text-lg {
  font-size: 1.4rem !important;
  line-height: 1.25;
}

.text-md {
  font-size: 1.15rem !important;
  line-height: 1.3;
}

.text-sm {
  font-size: 0.95rem !important;
  line-height: 1.35;
}

.text-xs {
  font-size: 0.8rem !important;
  line-height: 1.4;
}

/* Auto-size container - keeps text within bounds */
.auto-size-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  max-width: 100%;
  overflow: hidden;
  text-align: center;
}

/* Skeleton Shapes */
.skeleton-text {
  height: 1em;
  width: 100%;
  margin-bottom: 0.5em;
}

.skeleton-text.short {
  width: 60%;
}

.skeleton-text.medium {
  width: 80%;
}

.skeleton-text.long {
  width: 95%;
}

.skeleton-title {
  height: 1.5em;
  width: 70%;
  margin-bottom: 0.75em;
}

.skeleton-card {
  height: 120px;
  width: 100%;
  margin-bottom: 1rem;
  border-radius: 16px;
}

.skeleton-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
}

.skeleton-button {
  height: 44px;
  width: 120px;
  border-radius: 22px;
}

/* Skeleton Card Template */
.skeleton-word-card {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1.25rem;
  background: var(--surface);
  border-radius: 16px;
  margin-bottom: 1rem;
  border: 1px solid var(--border);
}

/* ========================================
   MICRO-ANIMATIONS
   ======================================== */

/* Bounce Animation */
@keyframes bounce {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.1);
  }
}

.bounce {
  animation: bounce 0.3s ease-in-out;
}

/* Pulse Animation (for favorites, notifications) */
@keyframes pulse {
  0% {
    transform: scale(1);
  }

  25% {
    transform: scale(1.15);
  }

  50% {
    transform: scale(0.95);
  }

  75% {
    transform: scale(1.05);
  }

  100% {
    transform: scale(1);
  }
}

.pulse {
  animation: pulse 0.4s ease-in-out;
}

/* Heart Beat (for adding to favorites) */
@keyframes heartbeat {

  0%,
  100% {
    transform: scale(1);
  }

  10% {
    transform: scale(1.3);
  }

  20% {
    transform: scale(1);
  }

  30% {
    transform: scale(1.2);
  }

  50% {
    transform: scale(1);
  }
}

.heartbeat {
  animation: heartbeat 0.6s ease-in-out;
}

/* Shake Animation (for errors) */
@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

.shake {
  animation: shake 0.5s ease-in-out;
}

/* Success Check Animation */
@keyframes checkmark {
  0% {
    transform: scale(0) rotate(-45deg);
    opacity: 0;
  }

  50% {
    transform: scale(1.2) rotate(-45deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(-45deg);
    opacity: 1;
  }
}

.checkmark {
  animation: checkmark 0.4s ease-out forwards;
}

/* Slide In Animations */
@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-in-up {
  animation: slideInUp 0.3s ease-out forwards;
}

.slide-in-down {
  animation: slideInDown 0.3s ease-out forwards;
}

.slide-in-left {
  animation: slideInLeft 0.3s ease-out forwards;
}

.slide-in-right {
  animation: slideInRight 0.3s ease-out forwards;
}

/* Staggered Animation Delays */
.stagger-1 {
  animation-delay: 0.05s;
}

.stagger-2 {
  animation-delay: 0.1s;
}

.stagger-3 {
  animation-delay: 0.15s;
}

.stagger-4 {
  animation-delay: 0.2s;
}

.stagger-5 {
  animation-delay: 0.25s;
}

/* Ripple Effect */
.ripple-container {
  position: relative;
  overflow: hidden;
}

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: scale(0);
  animation: ripple-effect 0.6s linear;
  pointer-events: none;
}

[data-theme="dark"] .ripple {
  background: rgba(56, 189, 248, 0.3);
}

@keyframes ripple-effect {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* Button Press Effect - Enhanced */
.btn-press {
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}

.btn-press:active {
  transform: scale(0.95);
  box-shadow: none !important;
}

/* Card Hover Lift - Enhanced */
.card-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

@media (hover: hover) {
  .card-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
}

.card-lift:active {
  transform: scale(0.98);
}

/* Glow Effect */
@keyframes glow {

  0%,
  100% {
    box-shadow: 0 0 5px var(--primary);
  }

  50% {
    box-shadow: 0 0 20px var(--primary), 0 0 30px var(--primary);
  }
}

.glow {
  animation: glow 2s ease-in-out infinite;
}

/* Fade In/Out */
@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.9);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.fade-in-scale {
  animation: fadeInScale 0.3s ease-out forwards;
}

/* Success/Error Flash */
@keyframes flashSuccess {

  0%,
  100% {
    background-color: inherit;
  }

  50% {
    background-color: rgba(56, 189, 248, 0.3);
  }
}

@keyframes flashError {

  0%,
  100% {
    background-color: inherit;
  }

  50% {
    background-color: rgba(239, 68, 68, 0.3);
  }
}

.flash-success {
  animation: flashSuccess 0.5s ease-in-out;
}

.flash-error {
  animation: flashError 0.5s ease-in-out;
}

/* Floating Animation (for icons/badges) */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-5px);
  }
}

.float {
  animation: float 2s ease-in-out infinite;
}

/* Spin Animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.spin {
  animation: spin 1s linear infinite;
}

/* Loading Dots */
@keyframes loadingDots {

  0%,
  80%,
  100% {
    opacity: 0;
  }

  40% {
    opacity: 1;
  }
}

.loading-dots span {
  animation: loadingDots 1.4s infinite ease-in-out both;
}

.loading-dots span:nth-child(1) {
  animation-delay: -0.32s;
}

.loading-dots span:nth-child(2) {
  animation-delay: -0.16s;
}

.loading-dots span:nth-child(3) {
  animation-delay: 0;
}

/* --- Ambient Background --- */
.ambient-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;
  background: var(--bg-main);
  /* Fallback */
}

.orb {
  display: none;
  /* Removed for cleaner design */
}

.orb-1 {
  width: 50vw;
  height: 50vw;
  top: -10%;
  left: -10%;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.3) 0%,
      rgba(168, 85, 247, 0) 70%);
  animation-delay: 0s;
}

.orb-2 {
  width: 40vw;
  height: 40vw;
  top: 20%;
  right: -10%;
  background: radial-gradient(circle,
      rgba(59, 130, 246, 0.3) 0%,
      rgba(59, 130, 246, 0) 70%);
  animation-delay: -5s;
}

.orb-3 {
  width: 60vw;
  height: 60vw;
  bottom: -20%;
  left: 20%;
  background: radial-gradient(circle,
      rgba(236, 72, 153, 0.2) 0%,
      rgba(236, 72, 153, 0) 70%);
  animation-delay: -10s;
}

@keyframes floatOrb {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }

  33% {
    transform: translate(30px, 50px) rotate(10deg);
  }

  66% {
    transform: translate(-20px, 20px) rotate(-5deg);
  }

  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}

[data-theme="dark"] .orb-1 {
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.2) 0%,
      rgba(30, 41, 59, 0) 70%);
}

[data-theme="dark"] .orb-2 {
  background: radial-gradient(circle,
      rgba(59, 130, 246, 0.2) 0%,
      rgba(30, 41, 59, 0) 70%);
}

[data-theme="dark"] .orb-3 {
  background: radial-gradient(circle,
      rgba(168, 85, 247, 0.15) 0%,
      rgba(30, 41, 59, 0) 70%);
}

/* --- Tactile Interactions --- */
button,
.action-btn,
.game-btn,
.menu-item,
.card,
.filter-chip {
  transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s ease,
    background 0.2s ease;
}

button:active,
.action-btn:active,
.game-btn:active,
.menu-item:active,
.filter-chip:active {
  transform: scale(0.96);
}

/* Card Hover Lift (Desktop) */
@media (hover: hover) {
  .card:hover {
    transform: translateY(-3px);
    /* box-shadow controlled by JavaScript tilt effect */
  }

  .card:active {
    transform: scale(0.99);
  }
}

/* ===== PWA / Native Feel Enhancements ===== */

/* Safe Area Insets for iPhone Notch/Dynamic Island */
html {
  /* Ensure safe area is respected */
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Native Feel: Disable text selection on UI elements */
.top-nav,
.game-btn,
.theme-toggle,
.menu-item,
.action-btn,
.card,
.word-card,
.nav-left,
.nav-right,
.nav-center,
.settings-menu,
.pwa-prompt,
.modal-header,
.quiz-options button,
.wod-header,
.wod-action {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* Allow text selection for actual content (translations, definitions) */
.translation,
.swe-text,
.arb-text,
.definition,
.example-text,
.wod-swe,
.wod-arb,
.wod-def-text,
.wod-example-text,
.search-input {
  -webkit-user-select: text;
  user-select: text;
}

/* Native Feel: Prevent double-tap zoom and improve touch response */
html {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Native Feel: Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Prevent pull-to-refresh on PWA */
body {
  overscroll-behavior-y: contain;
}

/* ===== End PWA Enhancements ===== */

* {
  box-sizing: border-box;
  padding: 0;
}

/* Expert Touch: Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--background);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}

/* Expert Touch: Tactile Feedback */
button:active,
.action-btn:active,
.menu-item:active,
.nav-btn:active,
.game-btn:active {
  transform: scale(0.95);
}

/* Clear Button */
.clear-btn {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s;
}

.clear-btn:hover {
  color: var(--primary);
}

body {
  font-family: var(--body-font);
  background: var(--background);
  /* Solid color from image */
  /* Light blue gradient */
  color: var(--text-main);
  line-height: 1.6;
  min-height: 100vh;
  padding: 2rem;
  overflow-x: hidden;
  /* Prevent scrollbar from orbs */
  position: relative;
}

/* Ambient Background */
body::before,
body::after {
  content: "";
  position: fixed;
  width: 600px;
  height: 600px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: -1;
  opacity: 0.4;
  animation: float-orb 20s infinite alternate;
}

body::before {
  background: var(--primary);
  top: -100px;
  left: -100px;
}

body::after {
  background: var(--accent);
  bottom: -100px;
  right: -100px;
  animation-delay: -10s;
}

@keyframes float-orb {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }

  100% {
    transform: translate(100px, 50px) rotate(20deg);
  }
}

[data-theme="dark"] body::before {
  opacity: 0.2;
  background: #4f46e5;
}

[data-theme="dark"] body::after {
  opacity: 0.2;
  background: #0ea5e9;
}

[data-theme="dark"] body {
  background: #121212;
  /* Solid dark background for elegance */
}

/* Moving spotlights behind glass cards */
.bg-spotlight {
  display: none;
  /* Removed for cleaner design */
}

[data-theme="dark"] .bg-spotlight {
  display: none;
}

.bg-spotlight-1 {
  width: 300px;
  height: 300px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.4) 0%,
      transparent 70%);
  top: 10%;
  left: -100px;
  animation: spotlight-float-1 12s ease-in-out infinite;
}

.bg-spotlight-2 {
  width: 250px;
  height: 250px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.3) 0%,
      transparent 70%);
  top: 40%;
  right: -80px;
  animation: spotlight-float-2 15s ease-in-out infinite;
}

.bg-spotlight-3 {
  width: 200px;
  height: 200px;
  background: radial-gradient(circle,
      rgba(6, 182, 212, 0.35) 0%,
      transparent 70%);
  bottom: 20%;
  left: 20%;
  animation: spotlight-float-3 18s ease-in-out infinite;
}

@keyframes spotlight-float-1 {

  0%,
  100% {
    transform: translate(0, 0);
  }

  25% {
    transform: translate(150px, 100px);
  }

  50% {
    transform: translate(100px, 200px);
  }

  75% {
    transform: translate(-50px, 150px);
  }
}

@keyframes spotlight-float-2 {

  0%,
  100% {
    transform: translate(0, 0);
  }

  25% {
    transform: translate(-100px, -80px);
  }

  50% {
    transform: translate(-150px, 50px);
  }

  75% {
    transform: translate(-50px, 100px);
  }
}

@keyframes spotlight-float-3 {

  0%,
  100% {
    transform: translate(0, 0);
  }

  25% {
    transform: translate(80px, -60px);
  }

  50% {
    transform: translate(120px, 40px);
  }

  75% {
    transform: translate(40px, -30px);
  }
}

/* ========================================
   PROGRESS STATS BADGE
   ======================================== */

.progress-stats-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.2rem;
  padding: 0.3rem 0.5rem;
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.1) 0%,
      rgba(59, 130, 246, 0.1) 100%);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  border: 1px solid rgba(56, 189, 248, 0.2);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.progress-stats-badge:hover {
  transform: scale(1.05);
  border-color: rgba(56, 189, 248, 0.4);
  box-shadow: 0 4px 15px rgba(56, 189, 248, 0.2);
}

.progress-stat {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.progress-stat .stat-icon {
  font-size: 0.9rem;
}

.progress-stat span:last-child {
  color: var(--text-main);
  font-weight: 700;
}

.progress-divider {
  display: none;
}

[data-theme="dark"] .progress-stats-badge {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.15) 0%,
      rgba(59, 130, 246, 0.15) 100%);
  border-color: rgba(56, 189, 248, 0.3);
}

[data-theme="dark"] .progress-stats-badge:hover {
  border-color: rgba(56, 189, 248, 0.5);
  box-shadow: 0 4px 20px rgba(56, 189, 248, 0.3);
}

/* Responsive - hide on very small screens */
@media (max-width: 360px) {
  .progress-stats-badge {
    display: none;
  }
}

/* ========================================
   PROGRESS DASHBOARD MODAL
   ======================================== */

/* ========================================
   FLASHCARD MODAL
   ======================================== */
.flashcard-modal {
  z-index: 9999 !important;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.flashcard-modal-content {
  max-width: 420px;
  width: 95%;
  max-height: 90vh;
  border-radius: 24px;
  background: var(--surface);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  overflow: hidden;
  position: relative;
}

.flashcard-modal .close-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: rgba(128, 128, 128, 0.2);
  color: var(--text-main);
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

.flashcard-modal .close-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

/* Flashcard Inline Component */
.flashcard-inline {
  margin-bottom: 1rem;
  border-radius: 20px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.15);
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.flashcard-progress-inline {
  font-weight: 700;
  color: #3b82f6;
  font-size: 0.9rem;
}

.flashcard-stats-inline {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.flashcard-body-inline {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.flashcard-container-inline {
  perspective: 1000px;
  width: 100%;
  max-width: 300px;
  position: relative;
}

.flashcard-inline-card {
  width: 100%;
  height: 180px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.flashcard-inline-card.flipped {
  transform: rotateY(180deg);
}

/* Base styles for both faces */
.flashcard-inline-card .flashcard-face {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
}

.flashcard-front-inline {
  background: linear-gradient(135deg,
      rgba(59, 130, 246, 0.85) 0%,
      rgba(37, 99, 235, 0.9) 100%);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
}

.flashcard-back-inline {
  background: linear-gradient(135deg,
      rgba(245, 158, 11, 0.85) 0%,
      rgba(217, 119, 6, 0.9) 100%);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  transform: rotateY(180deg);
  box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
}

.flashcard-text-inline {
  font-size: 1.75rem;
  font-weight: 700;
  text-align: center;
  word-break: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
  line-height: 1.3;
  transition: font-size 0.2s ease;
}

/* Dynamic text sizing for flashcards */
.flashcard-text-inline.text-xl {
  font-size: 1.75rem;
}

.flashcard-text-inline.text-lg {
  font-size: 1.4rem;
}

.flashcard-text-inline.text-md {
  font-size: 1.15rem;
}

.flashcard-text-inline.text-sm {
  font-size: 0.95rem;
}

.flashcard-text-inline.text-xs {
  font-size: 0.8rem;
}

.flashcard-hint-inline {
  font-size: 0.75rem;
  opacity: 0.7;
  margin-top: 0.5rem;
}

.flashcard-speak-btn-inline {
  position: absolute;
  bottom: 0.75rem;
  right: 0.75rem;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 1.25rem;
  cursor: pointer;
}

/* Flashcard Favorite Button - Always Visible */
.flashcard-fav-btn {
  position: absolute;
  top: -15px;
  right: -5px;
  width: 44px;
  height: 44px;
  border: none;
  background: rgba(255, 255, 255, 0.9);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s, box-shadow 0.2s;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
}

.flashcard-fav-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.flashcard-fav-btn.active {
  animation: heartbeat 0.6s ease-in-out;
}

@keyframes heartbeat {

  0%,
  100% {
    transform: scale(1);
  }

  25% {
    transform: scale(1.2);
  }

  50% {
    transform: scale(1);
  }

  75% {
    transform: scale(1.15);
  }
}

[data-theme="dark"] .flashcard-fav-btn {
  background: rgba(30, 30, 40, 0.9);
}

.flashcard-controls-inline {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.5rem;
  width: 100%;
  max-width: 340px;
}

.fc-btn-inline {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.6rem 0.4rem;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.15s;
  color: white;
}

.fc-btn-inline:active {
  transform: scale(0.95);
}

/* Dark Mode Glassmorphism for Flashcards */
[data-theme="dark"] .flashcard-inline {
  background: rgba(30, 30, 40, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .flashcard-front-inline {
  background: linear-gradient(135deg,
      rgba(59, 130, 246, 0.7) 0%,
      rgba(37, 99, 235, 0.8) 100%);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .flashcard-back-inline {
  background: linear-gradient(135deg,
      rgba(245, 158, 11, 0.7) 0%,
      rgba(217, 119, 6, 0.8) 100%);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.flashcard-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--border);
}

.flashcard-header h2 {
  margin: 0;
  font-size: 1.25rem;
}

.flashcard-progress {
  font-weight: 700;
  color: #3b82f6;
  font-size: 0.95rem;
}

.flashcard-body {
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

.flashcard-container {
  perspective: 1000px;
  width: 100%;
  max-width: 320px;
}

.flashcard {
  width: 100%;
  height: 220px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.flashcard.flipped {
  /* transform: rotateY(180deg); REMOVED - Handled by inner element in specific component CSS */
}

.flashcard-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.flashcard-front {
  background: linear-gradient(135deg, #3b82f6 0%, #dc2626 100%);
  color: white;
}

.flashcard-back {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: white;
  transform: rotateY(180deg);
}

.flashcard-text {
  font-size: 2rem;
  font-weight: 700;
  text-align: center;
  line-height: 1.3;
}

.flashcard-hint {
  font-size: 0.85rem;
  opacity: 0.8;
  margin-top: 1rem;
}

.flashcard-speak-btn {
  position: absolute;
  bottom: 1rem;
  right: 1rem;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  font-size: 1.5rem;
  cursor: pointer;
  transition: background 0.2s;
}

.flashcard-speak-btn:hover {
  background: rgba(255, 255, 255, 0.3);
}

.flashcard-controls {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.5rem;
  width: 100%;
}

.fc-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.75rem 0.5rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
}

.fc-btn:active {
  transform: scale(0.95);
}

.fc-emoji {
  font-size: 1.5rem;
  margin-bottom: 0.25rem;
}

.fc-label {
  font-size: 0.7rem;
  font-weight: 600;
  text-align: center;
}

.fc-again {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
}

.fc-hard {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  color: white;
}

.fc-good {
  background: linear-gradient(135deg, #38bdf8, #0284c7);
  color: white;
}

.fc-easy {
  background: linear-gradient(135deg, #3b82f6, #1e40af);
  color: white;
}

.flashcard-stats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  padding: 1rem;
  border-top: 1px solid var(--border);
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.flashcard-stats span:first-child span {
  color: #3b82f6;
  font-weight: 700;
}

.flashcard-stats span:last-child span {
  color: #38bdf8;
  font-weight: 700;
}

/* ========================================
   PROGRESS MODAL
   ======================================== */

/* Swipe Hint for Mobile */
.swipe-hint {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 1rem 2rem;
  border-radius: 50px;
  z-index: 2000;
  pointer-events: none;
  animation: fadeOutHint 3s forwards;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-weight: bold;
}

.swipe-hand-icon {
  font-size: 2rem;
  animation: swipeAnim 1.5s infinite;
}

@keyframes swipeAnim {
  0% {
    transform: translateX(0);
  }

  50% {
    transform: translateX(-20px);
  }

  100% {
    transform: translateX(0);
  }
}

@keyframes fadeOutHint {
  0% {
    opacity: 1;
  }

  70% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    display: none;
  }
}

/* Daily Challenges */
.challenge-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.8rem;
  background: var(--bg);
  border-radius: 10px;
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.challenge-item.done {
  background: rgba(16, 185, 129, 0.1);
  border-color: #10b981;
}

.challenge-icon {
  font-size: 1.5rem;
}

.challenge-text {
  flex: 1;
  font-size: 0.95rem;
}

.challenge-status {
  font-size: 1.2rem;
}

/* Base Modal Overlay */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  z-index: 9999;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  overflow-y: auto;
}

.progress-modal-content {
  max-width: 480px;
  width: 95%;
  max-height: 85vh;
  overflow-y: auto;
  border-radius: 24px;
  background: var(--surface);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.progress-modal-header {
  position: sticky;
  top: 0;
  background: var(--surface);
  z-index: 10;
  border-bottom: 1px solid var(--border);
  padding: 1rem 1.5rem;
}

.progress-modal-header h2 {
  font-size: 1.25rem;
  margin: 0;
}

.progress-modal-body {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.progress-section {
  background: var(--surface-secondary, rgba(56, 189, 248, 0.05));
  border-radius: 16px;
  padding: 1rem;
  border: 1px solid var(--border);
}

.progress-section h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.95rem;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Daily Progress Section */
.daily-progress-section {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.1) 0%,
      rgba(59, 130, 246, 0.1) 100%);
}

.progress-ring-container {
  position: relative;
  width: 120px;
  height: 120px;
  flex-shrink: 0;
}

.progress-ring {
  transform: rotate(-90deg);
}

.progress-ring-bg {
  stroke: rgba(128, 128, 128, 0.2);
}

.progress-ring-circle {
  stroke: #3b82f6;
  stroke-linecap: round;
  transition: stroke-dashoffset 0.5s ease;
}

.progress-ring-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.progress-ring-value {
  font-size: 2rem;
  font-weight: 700;
  color: #3b82f6;
  line-height: 1;
}

.progress-ring-goal {
  font-size: 1rem;
  color: var(--text-secondary);
}

.daily-progress-info h3 {
  margin: 0 0 0.25rem 0;
  font-size: 1.1rem;
}

.progress-subtitle {
  margin: 0 0 0.75rem 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
}

.goal-adjuster {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
}

.goal-adjuster label {
  color: var(--text-secondary);
}

.goal-adjuster input {
  width: 60px;
  padding: 0.3rem 0.5rem;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--surface);
  color: var(--text-main);
  font-size: 0.9rem;
  text-align: center;
}

.mini-btn {
  padding: 0.3rem 0.5rem;
  border: none;
  background: #3b82f6;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.2s;
}

.mini-btn:hover {
  background: #dc2626;
}

/* Weekly Progress Section */
.weekly-progress-section {
  background: linear-gradient(135deg,
      rgba(245, 158, 11, 0.1) 0%,
      rgba(59, 130, 246, 0.1) 100%);
}

.weekly-progress-bar {
  height: 12px;
  background: rgba(128, 128, 128, 0.2);
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.weekly-progress-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #f59e0b, #3b82f6);
  border-radius: 6px;
  transition: width 0.6s ease;
}

.weekly-progress-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.weekly-progress-text {
  font-size: 0.95rem;
  color: var(--text-secondary);
}

.weekly-progress-text span:first-child {
  font-weight: 700;
  color: #f59e0b;
  font-size: 1.2rem;
}

.weekly-progress-percent {
  font-weight: 700;
  color: #3b82f6;
  font-size: 1.1rem;
}

.weekly-goal-adjuster {
  justify-content: center;
}

/* Streak Section */
.streak-section {
  display: flex;
  gap: 1rem;
}

.streak-card {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: var(--surface);
  border-radius: 12px;
  border: 1px solid var(--border);
}

.streak-icon {
  font-size: 1.75rem;
}

.streak-info {
  display: flex;
  flex-direction: column;
}

.streak-value {
  font-size: 1.5rem;
  font-weight: 700;
  line-height: 1.2;
}

.streak-label {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

/* Activity Chart - Enhanced */
.activity-chart {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  height: 100px;
  gap: 8px;
  padding: 0.75rem 0;
  background: rgba(56, 189, 248, 0.05);
  border-radius: 12px;
  padding-inline: 0.5rem;
}

.activity-bar {
  flex: 1;
  background: linear-gradient(to top, #0284c7, #38bdf8, #7dd3fc);
  border-radius: 6px 6px 2px 2px;
  min-height: 6px;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  cursor: pointer;
}

.activity-bar:hover {
  transform: scaleY(1.05);
  filter: brightness(1.1);
}

.activity-bar.empty {
  background: rgba(128, 128, 128, 0.15);
}

.activity-bar.today {
  background: linear-gradient(to top, #0ea5e9, #38bdf8, #e0f2fe);
  box-shadow: 0 0 12px rgba(56, 189, 248, 0.6);
  animation: todayPulse 2s ease-in-out infinite;
}

@keyframes todayPulse {

  0%,
  100% {
    box-shadow: 0 0 12px rgba(56, 189, 248, 0.6);
  }

  50% {
    box-shadow: 0 0 20px rgba(56, 189, 248, 0.9);
  }
}

.activity-legend {
  display: flex;
  justify-content: space-between;
  font-size: 0.7rem;
  color: var(--text-secondary);
  margin-top: 0.5rem;
  padding-inline: 0.5rem;
}

/* Stats Grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.75rem;
}

.stat-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.75rem;
  background: var(--surface);
  border-radius: 12px;
  border: 1px solid var(--border);
  text-align: center;
}

.stat-card .stat-icon {
  font-size: 1.5rem;
  margin-bottom: 0.25rem;
}

.stat-card .stat-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: #3b82f6;
}

.stat-card .stat-label {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

/* Achievements Grid */
.achievements-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.75rem;
}

.achievement-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.75rem 0.5rem;
  background: var(--surface);
  border-radius: 12px;
  border: 1px solid var(--border);
  text-align: center;
  transition: all 0.3s ease;
}

.achievement-badge.locked {
  opacity: 0.4;
  filter: grayscale(1);
}

.achievement-badge.unlocked {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.1),
      rgba(59, 130, 246, 0.1));
  border-color: rgba(56, 189, 248, 0.3);
}

.achievement-icon {
  font-size: 1.75rem;
  margin-bottom: 0.25rem;
}

.achievement-name {
  font-size: 0.65rem;
  color: var(--text-secondary);
  line-height: 1.2;
}

#achievementCount {
  font-weight: 400;
  color: #3b82f6;
}

/* Share Button */
.share-section {
  padding: 0;
  background: transparent;
  border: none;
}

.share-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 1rem;
  background: linear-gradient(135deg, #3b82f6, #1e40af);
  color: white;
  border: none;
  border-radius: 16px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.share-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(56, 189, 248, 0.4);
}

.share-btn svg {
  stroke: white;
}

/* Export/Import Buttons */
.export-section h4 {
  margin-bottom: 1rem;
  color: var(--text-main);
}

.export-buttons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.export-btn,
.import-btn {
  flex: 1;
  min-width: 140px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border: none;
}

.export-btn {
  background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
  color: white;
}

.export-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(56, 189, 248, 0.4);
}

.import-btn {
  background: var(--surface-secondary);
  color: var(--text-main);
  border: 1px dashed var(--border);
}

.import-btn:hover {
  background: var(--surface-hover);
  border-style: solid;
}

/* Color Theme Selector in Settings */
.color-theme-selector {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.color-theme-selector select {
  flex: 1;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text-main);
  font-size: 0.9rem;
  cursor: pointer;
}

[data-theme="dark"] .color-theme-selector select {
  background: var(--surface-hover);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Dark Theme Adjustments */
[data-theme="dark"] .progress-modal-content {
  background: var(--surface);
  border: 1px solid var(--border);
}

[data-theme="dark"] .daily-progress-section {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.15) 0%,
      rgba(59, 130, 246, 0.15) 100%);
}

[data-theme="dark"] .progress-section {
  background: rgba(255, 255, 255, 0.03);
  border-color: var(--border);
}

[data-theme="dark"] .streak-card,
[data-theme="dark"] .stat-card,
[data-theme="dark"] .achievement-badge {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--border);
}

/* Responsive */
@media (max-width: 400px) {
  .daily-progress-section {
    flex-direction: column;
    text-align: center;
  }

  .achievements-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* iPhone View Simulation */
body.iphone-view {
  max-width: 393px;
  margin: 2rem auto;
  border: 12px solid #333;
  border-radius: 50px;
  min-height: calc(100vh - 4rem);
  box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
  overflow-x: hidden;
  position: relative;
}

body.iphone-view::before {
  /* Notch / Dynamic Island Simulation */
  content: "";
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 35px;
  background-color: #000;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
  z-index: 1000;
  pointer-events: none;
}

/* iPhone View specific navigation fixes */
body.iphone-view .top-nav {
  padding: 0.5rem 0.25rem;
}

body.iphone-view .nav-right,
body.iphone-view .nav-left {
  max-width: 100px;
  /* Increased to fit the word count badge and buttons */
}

body.iphone-view .game-btn,
body.iphone-view .theme-toggle {
  width: 38px;
  height: 38px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

/* Header & Search */
header {
  text-align: center;
  margin-bottom: 0.5rem;
  /* Reduced further */
  animation: fadeIn 0.8s ease-out;
  position: relative;
  padding-top: 4.5rem;
  /* Increased for breathing room from phone edge */
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
  /* Slight blur for header area */
}

.main-title-text {
  font-size: 1.5rem;
  font-weight: 900;
  color: #3b82f6;
  /* Solid green accent - no gradient glow */
  margin-bottom: 0.1rem;
  letter-spacing: -0.5px;
}

/* Physics Char Styling */
.physics-char {
  display: inline-block;
  transition: transform 0.3s ease-out, color 0.3s;
  cursor: default;
}

.subtitle-delay {
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.6);
  /* Subtle grey - no gradient glow */
  font-weight: 500;
  margin-top: 0;
  font-family: var(--arabic-font);
  opacity: 0;
  animation: fadeIn 0.8s ease-out 0.4s forwards;
}

.sticky-header {
  position: sticky;
  top: 1rem;
  /* Adjusted for nav bar */
  z-index: 100;
  background: transparent;
  padding: 0.5rem 0;
  margin-top: 0;
}

.search-container {
  max-width: 100%;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Word Count Bubble - More Subtle */
.word-count-bubble {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 32px;
  padding: 0.3rem 0.8rem;
  background: rgba(0, 0, 0, 0.05);
  /* More transparent */
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  border-radius: 20px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: none;
  /* Removed shadow for less distraction */
  transition: transform 0.3s ease;
}

.word-count-bubble:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.word-count-bubble span {
  font-size: 0.9rem;
  font-weight: 700;
  /* Light mode: Dark blue for better contrast */
  color: #1e40af;
  -webkit-text-fill-color: #1e40af;
}

@keyframes bubbleSway {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  25% {
    transform: translateY(-3px) rotate(2deg);
  }

  50% {
    transform: translateY(0) rotate(0deg);
  }

  75% {
    transform: translateY(-2px) rotate(-2deg);
  }
}

[data-theme="dark"] .word-count-bubble {
  background: rgba(30, 41, 59, 0.8);
  /* Darker background for better contrast */
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: none;
}

[data-theme="dark"] .word-count-bubble span {
  color: #3b82f6;
  /* Green to match theme accent */
  -webkit-text-fill-color: #3b82f6;
}

.search-row {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  margin-bottom: 0.75rem;
}

.search-wrapper {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  background: rgba(255, 255, 255, 0.08);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  border-radius: 50px;
  padding: 0.5rem 0.2rem 0.5rem 1rem;
  /* Reduced right padding for mic */
  /* Increased padding for comfort */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.search-wrapper:focus-within {
  border-color: rgba(56, 189, 248, 0.6);
  /* Sky blue accent border on focus */
  box-shadow: 0 2px 12px rgba(56, 189, 248, 0.15);
}

[data-theme="dark"] .search-wrapper {
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

[data-theme="dark"] .search-wrapper:focus-within {
  border-color: rgba(56, 189, 248, 0.5);
  /* Sky blue border on focus */
  box-shadow: 0 4px 16px rgba(56, 189, 248, 0.2);
}

/* Voice Search Button */
.voice-search-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  padding: 0.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border-radius: 50%;
  border-radius: 50%;
  margin-right: 0;
  /* Removed margin to fit edge */
}

.voice-search-btn:hover {
  color: #38bdf8;
  background: rgba(56, 189, 248, 0.1);
}

.voice-search-btn.listening {
  color: #ef4444;
  animation: voicePulse 1s ease-in-out infinite;
}

@keyframes voicePulse {

  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
  }

  50% {
    transform: scale(1.1);
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
  }
}

/* Search Result Badge - Small badge above mic */
.search-result-badge {
  position: relative;
  /* In Flex Flow */
  background: transparent;
  color: #38bdf8;
  font-size: 0.75rem;
  font-weight: 800;
  padding: 2px 8px;
  border-radius: 12px;
  box-shadow: none;
  z-index: 10;
  pointer-events: none;
  min-width: 18px;
  text-align: center;
  border: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
  text-shadow: 0 0 10px rgba(56, 189, 248, 0.3);
  margin-right: 12px;
  /* Increased space between badge and mic */
  margin-left: 8px;
  /* Added space between input and badge */
  white-space: nowrap;
}

.search-result-badge:empty,
.search-result-badge[data-count="0"] {
  display: none;
  /* Hide completely so mic moves next to input */
  transform: scale(0);
  opacity: 0;
}

/* Pulse animation when count updates */
@keyframes badgePulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.4);
  }

  50% {
    transform: scale(1.1);
    box-shadow: 0 0 0 4px rgba(56, 189, 248, 0);
  }

  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0);
  }
}

.search-result-badge.pulse {
  animation: badgePulse 0.3s ease-out;
}

[data-theme="dark"] .voice-search-btn {
  color: rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .voice-search-btn:hover {
  color: #38bdf8;
  background: rgba(56, 189, 248, 0.15);
}

[data-theme="dark"] .voice-search-btn.listening {
  color: #f87171;
}

/* Filter Toggle Button - Glass Effect */

.filter-toggle-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  /* Light Mode Glassmorphism - Blue Tint */
  background: rgba(240, 248, 255, 0.7);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  backdrop-filter: blur(20px) saturate(180%);
  color: #33a1fd;
  border: 1px solid rgba(51, 161, 253, 0.4);
  padding: 0;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 16px rgba(0, 100, 200, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.filter-toggle-btn:hover,
.filter-toggle-btn.active {
  background: #33a1fd;
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 6px 25px rgba(51, 161, 253, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.filter-toggle-btn:hover,
.filter-toggle-btn.active {
  background: #38bdf8;
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(56, 189, 248, 0.4);
}

/* Fun Slide Down (Bounce) Animation */
@keyframes popIn {
  0% {
    transform: translateY(-30px);
    opacity: 0;
  }

  60% {
    transform: translateY(10px);
    opacity: 1;
  }

  80% {
    transform: translateY(-5px);
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes popOut {
  0% {
    transform: translateY(0);
    opacity: 1;
  }

  100% {
    transform: translateY(-30px);
    opacity: 0;
  }
}

/* Filter Chips Container */
.filter-chips-container {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  padding: 0.25rem 0.25rem 1rem 0.25rem;
  scrollbar-width: none;
  -ms-overflow-style: none;
  margin-top: -0.25rem;
  /* Appear animation */
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  transform-origin: top center;
}

.filter-chips-container.closing {
  animation: popOut 0.3s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards;
}

.filter-chips-container::-webkit-scrollbar {
  display: none;
}

/* Filter Chip */
.filter-chip {
  padding: 0.5rem 1.25rem;
  border-radius: 50px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s ease;

  /* Staggered Pop In for chips */
  opacity: 0;
  /* Star invisible */
  animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* Stagger delays */
.filter-chip:nth-child(1) {
  animation-delay: 0.05s;
}

.filter-chip:nth-child(2) {
  animation-delay: 0.1s;
}

.filter-chip:nth-child(3) {
  animation-delay: 0.15s;
}

.filter-chip:nth-child(4) {
  animation-delay: 0.2s;
}

.filter-chip:nth-child(5) {
  animation-delay: 0.25s;
}

.filter-chip:nth-child(6) {
  animation-delay: 0.3s;
}

[data-theme="dark"] .filter-chip {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

.filter-chip:hover {
  background: var(--surface-hover);
  transform: translateY(-1px);
}

.filter-chip.active {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
  box-shadow: 0 2px 8px rgba(56, 189, 248, 0.3);
}

/* Select Chip Wrapper (The Pill) */
.select-chip-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 50px;
  padding-left: 0.4rem;
  transition: all 0.2s ease;
  height: 32px;
  box-sizing: border-box;
}

.select-chip-wrapper:hover {
  background: var(--surface-hover);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.select-chip-wrapper:focus-within {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(51, 161, 253, 0.2);
}

/* Label inside Pill */
.chip-label {
  font-size: 0.65rem;
  font-weight: 600;
  color: var(--text-tertiary);
  /* Muted label color */
  pointer-events: none;
  white-space: nowrap;
}

/* Chip Styled Select (Transparent) */
.chip-select {
  -webkit-appearance: none;
  appearance: none;
  padding: 0.25rem 0.25rem 0.25rem 0.2rem;
  /* Left padding small gap */
  border-radius: 50px;
  /* To match parents radius if clickable area hits edge */
  background: transparent;
  border: none;
  color: var(--text-main);
  /* Stronger color for value */
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap;
  height: 100%;
  font-family: inherit;
  line-height: inherit;
  outline: none;
}

.chip-select:hover {
  background: transparent;
  /* Wrapper handles hover */
}

.chip-select:focus {
  box-shadow: none;
  /* Wrapper handles focus */
}

/* Custom Arrow for Chip Select */
.chip-arrow {
  position: absolute;
  right: 0.2rem;
  pointer-events: none;
  font-size: 0.6rem;
  color: #ef4444;
}

/* Dark Mode Filter Chips - Sky Blue Accent */
[data-theme="dark"] .select-chip-wrapper {
  background: rgba(56, 189, 248, 0.1);
  border-color: rgba(56, 189, 248, 0.3);
}

[data-theme="dark"] .select-chip-wrapper:hover {
  background: rgba(56, 189, 248, 0.2);
  border-color: rgba(56, 189, 248, 0.5);
  box-shadow: 0 4px 12px rgba(56, 189, 248, 0.25);
}

[data-theme="dark"] .select-chip-wrapper:focus-within {
  border-color: #38bdf8;
  box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.3);
}

[data-theme="dark"] .chip-label {
  color: rgba(56, 189, 248, 0.8);
}

[data-theme="dark"] .chip-select {
  color: #7dd3fc;
}

[data-theme="dark"] .chip-arrow {
  color: #ef4444;
}

/* Filter Mode Select - Smaller width */
#filterModeSelect {
  max-width: 80px;
}

/* Dark Mode Shadow (Lighter shadow/glow for contrast) */
[data-theme="dark"] .main-title-text {
  color: #3b82f6;
  /* Clean solid color - no drop shadow */
}

.subtitle-delay {
  animation-delay: 1s;
  /* Staggered animation like in details view */
  margin-top: -0.5rem;
  /* Pull closer to the first line */
}

.main-title-text:hover {
  animation-play-state: paused;
  filter: drop-shadow(2px 2px 0px rgba(0, 0, 0, 0.6));
}

/* Fun Animation for Details Page */
.details-anim {
  background-size: 200% auto;
  animation: gradient-flow 3s linear infinite,
    fun-bounce 2s ease-in-out infinite;
}

@keyframes gradient-flow {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@keyframes fun-bounce {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  25% {
    transform: translateY(-5px) rotate(-2deg);
  }

  50% {
    transform: translateY(0) rotate(0deg);
  }

  75% {
    transform: translateY(-3px) rotate(2deg);
  }
}

/* Opposite Animation for Subtitle */
.subtitle-anim {
  /* Gradient: Blue, Yellow */
  background: linear-gradient(to right, #3b82f6 0%, #eab308 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  background-size: 200% auto;
  font-weight: 700;

  /* Reverse Gradient Flow + Exact Counter Bounce */
  animation: reverse-gradient-flow 3s linear infinite,
    counter-bounce 2s ease-in-out infinite;
  animation-delay: 0s !important;

  display: inline-block;
}

@keyframes reverse-gradient-flow {
  0% {
    background-position: 100% 50%;
  }

  50% {
    background-position: 0% 50%;
  }

  100% {
    background-position: 100% 50%;
  }
}

@keyframes counter-bounce {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  25% {
    transform: translateY(5px) rotate(2deg);
  }

  /* Exact inverse of -5px, -2deg */
  50% {
    transform: translateY(0) rotate(0deg);
  }

  75% {
    transform: translateY(3px) rotate(-2deg);
  }

  /* Exact inverse of -3px, 2deg */
}

@keyframes heartbeat {
  0% {
    transform: scale(1);
  }

  5% {
    transform: scale(1.1);
  }

  10% {
    transform: scale(1);
  }

  15% {
    transform: scale(1.1);
  }

  20% {
    transform: scale(1);
  }

  100% {
    transform: scale(1);
  }
}

.header-center {
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  padding-top: max(1rem, env(safe-area-inset-top));
  /* Safe area for Notch/Dynamic Island */
  z-index: 10;
}

.header-left-controls {
  display: flex;
  flex-direction: row;
  /* Changed from column to row */
  gap: 0.5rem;
  pointer-events: auto;
}

.header-right-controls {
  display: flex;
  flex-direction: row;
  /* Changed to row for consistency */
  gap: 0.5rem;
  align-items: center;
  pointer-events: auto;
  z-index: 20;
}

.theme-toggle {
  background-color: var(--surface);
  border: 2px solid transparent;
  cursor: pointer;
  color: var(--text-main);
  padding: 0;
  border-radius: 50%;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  width: 45px;
  height: 45px;
  box-shadow: var(--shadow);
}

.theme-toggle:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Game Buttons (Matching Settings Button) */
.game-btn {
  background-color: var(--surface);
  border: 2px solid transparent;
  cursor: pointer;
  color: var(--text-main);
  padding: 0;
  border-radius: 50%;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  width: 45px;
  height: 45px;
  box-shadow: var(--shadow);
  text-decoration: none;
}

.game-btn:hover {
  background-color: rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

[data-theme="dark"] .game-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Add Button in Header */
.add-button {
  /* Removed absolute positioning */
  color: var(--text-main);
  text-decoration: none;
  padding: 0.5rem;
  border-radius: 50%;
  transition: background 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  /* Re-enable clicks */
}

.add-button:hover {
  background: rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .add-button:hover {
  background: rgba(255, 255, 255, 0.1);
}

.sun-icon {
  display: none;
}

.moon-icon {
  display: block;
}

[data-theme="dark"] .sun-icon {
  display: block;
}

[data-theme="dark"] .moon-icon {
  display: none;
}

/* Action Buttons (Export/Import) */
.action-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 50%;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  color: var(--text-main);
}

.export-btn {
  color: #3b82f6;
  /* Blue */
  border-color: rgba(59, 130, 246, 0.2);
  background-color: rgba(59, 130, 246, 0.05);
}

.import-btn {
  color: #38bdf8;
  /* Green */
  border-color: rgba(56, 189, 248, 0.2);
  background-color: rgba(56, 189, 248, 0.05);
}

.export-btn:hover {
  background-color: #3b82f6;
  color: white;
  border-color: #3b82f6;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.import-btn:hover {
  background-color: #38bdf8;
  color: white;
  border-color: #38bdf8;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(56, 189, 248, 0.25);
}

[data-theme="dark"] .export-btn:hover {
  background-color: rgba(59, 130, 246, 0.2);
}

[data-theme="dark"] .import-btn:hover {
  background-color: rgba(56, 189, 248, 0.2);
}

/* Settings Dropdown */
/* Settings Dropdown - Premium Redesign */
.settings-dropdown {
  position: relative;
}

.settings-menu {
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  width: min(340px, 92vw);
  max-height: 80vh;
  overflow-y: auto;
  overflow-x: hidden;

  /* Premium Glassmorphism - Optimized */
  background: rgba(255, 255, 255, 0.95);
  /* More opaque, less blur work needed */
  -webkit-backdrop-filter: blur(12px);
  /* Reduced from 25px */
  backdrop-filter: blur(12px);

  border-radius: 20px;
  padding: 0.75rem;

  /* Simplified Shadow */
  box-shadow:
    0 15px 35px -5px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);

  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  z-index: 1000;

  /* Border for separation */
  border: 1px solid rgba(255, 255, 255, 0.6);

  /* Transformation origin for animation */
  transform-origin: top left;

  /* Performance Optimization */
  will-change: transform, opacity;
  contain: content;
}

/* Animation handling for display: block/none toggles */
.settings-menu:not(.hidden) {
  animation: menuPopIn 0.35s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes menuPopIn {
  0% {
    opacity: 0;
    transform: scale(0.92) translateY(-10px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

[data-theme="dark"] .settings-menu {
  background: rgba(20, 20, 27, 0.95);
  /* More solid */
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.7),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  /* Simplified */
}

/* Section Headers */
.settings-section-header {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-secondary);
  margin-top: 0.75rem;
  margin-bottom: 0.25rem;
  padding: 0 0.75rem;
  opacity: 0.8;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.settings-section-header:first-child {
  margin-top: 0.25rem;
}

/* Version Badge */
.settings-version {
  text-align: center;
  padding: 1rem 0.5rem 0.5rem;
  margin-top: 0.5rem;
  font-size: 0.7rem;
  color: var(--text-secondary);
  opacity: 0.5;
  border-top: 1px solid var(--border);
}

/* Menu Items - Premium Feel */
.menu-item {
  display: flex;
  align-items: center;
  gap: 0.85rem;
  padding: 0.85rem 1rem;
  border-radius: 14px;
  color: var(--text-main);
  text-decoration: none;
  background: transparent;
  border: 1px solid transparent;
  width: 100%;
  text-align: left;
  font-size: 0.95rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.menu-item:hover {
  background: rgba(0, 0, 0, 0.03);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .menu-item:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.icon-box {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 8px;
  /* Subtle background for icons */
  background: rgba(var(--primary-rgb), 0.1);
  color: var(--primary);
  transition: all 0.3s ease;
}

.menu-item:hover .icon-box {
  transform: scale(1.1);
}

.menu-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border), transparent);
  margin: 0.5rem 1rem;
}

/* TTS Speed Control */
.tts-speed-control {
  flex-direction: column;
  align-items: flex-start;
  gap: 0.5rem;
}

.tts-speed-control .icon-box {
  align-self: flex-start;
}

.tts-speed-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.tts-speed-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
}

.tts-speed-badge {
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  color: white;
  padding: 0.15rem 0.5rem;
  border-radius: 1rem;
  font-size: 0.75rem;
  font-weight: 600;
}

.tts-slider {
  width: 100%;
  height: 6px;
  -webkit-appearance: none;
  appearance: none;
  background: var(--border);
  border-radius: 3px;
  outline: none;
  cursor: pointer;
}

.tts-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(30, 58, 138, 0.4);
  transition: transform 0.2s, box-shadow 0.2s;
}

.tts-slider::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 3px 10px rgba(30, 58, 138, 0.6);
}

.tts-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  border-radius: 50%;
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 6px rgba(30, 58, 138, 0.4);
}

.tts-test-btn {
  width: 100%;
  padding: 0.5rem;
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.tts-test-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(30, 58, 138, 0.4);
}

.tts-test-btn:active {
  transform: scale(0.98);
}

/* Reminder Notifications Control */
.reminder-control {
  flex-direction: column;
  align-items: flex-start;
  gap: 0.5rem;
}

.reminder-control .icon-box {
  align-self: flex-start;
}

.reminder-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.reminder-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
}

/* Toggle Switch */
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--border);
  transition: 0.3s ease;
  border-radius: 24px;
}

.toggle-slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.3s ease;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.toggle-switch input:checked+.toggle-slider {
  background: linear-gradient(135deg, #f59e0b, #f97316);
}

.toggle-switch input:checked+.toggle-slider:before {
  transform: translateX(20px);
}

.toggle-switch input:focus+.toggle-slider {
  box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.3);
}

/* Reminder Time Container */
.reminder-time-container {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  animation: slideDown 0.2s ease-out;
}

.reminder-time-input {
  flex: 1;
  padding: 0.5rem;
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  background: var(--surface);
  color: var(--text-main);
  font-size: 0.9rem;
  font-family: inherit;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.reminder-time-input:focus {
  border-color: #f59e0b;
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
}

[data-theme="dark"] .reminder-time-input {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Top Navigation Bar */
.top-nav {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  z-index: 2000;
  /* Ensure on top of everything including sticky headers */
  pointer-events: none;
  /* Let clicks pass through empty space */
  overflow: visible !important;
  /* Fix for menu clipping */
}

.nav-left {
  display: flex;
  position: relative;
  /* Context for absolute children */
  pointer-events: auto;
  /* Re-enable clicks for buttons */
  z-index: 1001;
  /* Ensure above other nav elements */
  /* Fix for menu clipping */

  flex-direction: column;
  /* Stack buttons vertically */
  gap: 0.5rem;
  pointer-events: auto;
  flex: 0 0 88px;
  /* Fixed width for perfect balance */
  justify-content: center;
  /* Center vertically within top-nav */
  margin-left: 0.5rem;
}

.nav-center {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  pointer-events: none;
  /* Let clicks pass */
  text-align: center;
  margin-left: -2rem;
}

.nav-right {
  display: flex;
  flex-direction: column;
  /* Stack buttons vertically */
  gap: 0.5rem;
  pointer-events: auto;
  flex: 0 0 88px;
  /* Fixed width for perfect balance */
  align-items: flex-end;
  /* Align to the right */
  justify-content: center;
  margin-right: 0.5rem;
}

.nav-center .main-title-text {
  font-size: 1rem;
  /* Smaller base size */
  font-weight: 700;
  color: #3b82f6;
  /* Solid green - no gradient */
  margin: 0;
  line-height: 1.2;
  white-space: nowrap;
  /* Force single line */
  text-align: center;
}

/* Brand Header - Full Bilingual Title */
.brand-header {
  display: flex;
  flex-direction: column-reverse;
  align-items: center;
  gap: 0.15rem;
  text-align: center;
}

.brand-title-swe {
  font-size: clamp(0.9rem, 2.5vw, 1.2rem);
  font-weight: 800;
  margin: 0;
  letter-spacing: 2px;
  white-space: nowrap;
  /* Glassmorphism Effect */
  background: rgba(59, 130, 246, 0.15);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  padding: 0.15rem 1rem;
  border-radius: 1rem;
  border: 1px solid rgba(59, 130, 246, 0.3);
  color: #3b82f6;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
  /* Slow floating animation - moving right */
  animation: floatRight 6s ease-in-out infinite;
}

.brand-title-swe:hover {
  background: rgba(59, 130, 246, 0.25);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.brand-title-swe:hover .reveal-char {
  text-shadow: 0 0 15px rgba(59, 130, 246, 0.8);
}

/* Split Letter Reveal Animation - Swedish */
.brand-title-swe .reveal-char {
  display: inline-block;
  opacity: 0;
  transform: rotateY(90deg) translateY(-15px);
  animation: letterReveal 0.6s ease forwards;
  /* Gradient Text Effect */
  background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 50%, #93c5fd 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Subtle Glow */
  filter: drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3));
  transition: transform 0.3s ease, filter 0.3s ease;
}

@keyframes letterReveal {
  0% {
    opacity: 0;
    transform: rotateY(90deg) translateY(-15px) scale(0.8);
  }

  60% {
    opacity: 1;
    transform: rotateY(-10deg) translateY(3px) scale(1.05);
  }

  100% {
    opacity: 1;
    transform: rotateY(0deg) translateY(0) scale(1);
  }
}

.brand-title-swe .reveal-char:hover {
  transform: scale(1.2) translateY(-3px) rotateY(10deg);
  filter: drop-shadow(0 4px 12px rgba(59, 130, 246, 0.6));
}

/* Split Letter Reveal Animation - Arabic */
.brand-title-arb .reveal-char {
  display: inline-block;
  opacity: 0;
  transform: rotateY(-90deg) translateY(-15px);
  animation: letterRevealArabic 0.6s ease forwards;
  /* Gold Gradient Effect */
  background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #fcd34d 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Subtle Glow */
  filter: drop-shadow(0 2px 4px rgba(251, 191, 36, 0.3));
  transition: transform 0.3s ease, filter 0.3s ease;
}

@keyframes letterRevealArabic {
  0% {
    opacity: 0;
    transform: rotateY(-90deg) translateY(-15px) scale(0.8);
  }

  60% {
    opacity: 1;
    transform: rotateY(10deg) translateY(3px) scale(1.05);
  }

  100% {
    opacity: 1;
    transform: rotateY(0deg) translateY(0) scale(1);
  }
}

.brand-title-arb .reveal-char:hover {
  transform: scale(1.2) translateY(-3px) rotateY(-10deg);
  filter: drop-shadow(0 4px 12px rgba(251, 191, 36, 0.6));
}

/* Word-level reveal animation for Arabic */
.brand-title-arb .reveal-word {
  display: inline-block;
  opacity: 0;
  transform: translateY(-20px) scale(0.8);
  animation: wordRevealArabic 0.7s ease forwards;
  /* Gold Gradient Effect */
  background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 50%, #fcd34d 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Subtle Glow */
  filter: drop-shadow(0 2px 6px rgba(251, 191, 36, 0.4));
  transition: transform 0.3s ease, filter 0.3s ease;
  margin: 0 2px;
}

@keyframes wordRevealArabic {
  0% {
    opacity: 0;
    transform: translateY(-20px) scale(0.8) rotateX(45deg);
  }

  50% {
    opacity: 1;
    transform: translateY(5px) scale(1.05) rotateX(-5deg);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotateX(0deg);
  }
}

.brand-title-arb .reveal-word:hover {
  transform: scale(1.1) translateY(-3px);
  filter: drop-shadow(0 6px 16px rgba(251, 191, 36, 0.7));
}

.pulse-char:hover {
  transform: scale(1.4) translateY(-4px) !important;
  animation-play-state: paused;
}

/* Kinetic Wave Keyframes */
@keyframes kineticWave {

  0%,
  100% {
    transform: translateY(0);
  }

  25% {
    transform: translateY(-3px);
  }

  50% {
    transform: translateY(0);
  }

  75% {
    transform: translateY(1px);
  }
}

/* Dark mode reveal-char */
[data-theme="dark"] .brand-title-swe .reveal-char {
  background: linear-gradient(135deg, #60a5fa 0%, #93c5fd 50%, #bfdbfe 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 8px rgba(96, 165, 250, 0.5));
}

[data-theme="dark"] .brand-title-arb .reveal-char {
  background: linear-gradient(135deg, #fcd34d 0%, #fde68a 50%, #fef3c7 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 8px rgba(252, 211, 77, 0.5));
}

/* Dark mode for word reveal */
[data-theme="dark"] .brand-title-arb .reveal-word {
  background: linear-gradient(135deg, #fcd34d 0%, #fde68a 50%, #fef3c7 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 3px 10px rgba(252, 211, 77, 0.6));
}

/* Dark mode char pulse */
[data-theme="dark"] .brand-title-swe .pulse-char {
  color: #3b82f6;
  /* Solid green in dark mode */
}

[data-theme="dark"] .brand-title-arb .pulse-char {
  color: #3b82f6 !important;
  -webkit-text-fill-color: #3b82f6 !important;
  /* Green to match Swedish title in dark mode */
}

[data-theme="dark"] .pulse-char:hover {
  transform: scale(1.4) translateY(-4px) !important;
}

@keyframes charPulseDark {

  0%,
  100% {
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 0 0 transparent);
  }

  25% {
    transform: translateY(-2px) scale(1.05);
    filter: drop-shadow(0 2px 6px rgba(255, 255, 255, 0.5));
  }

  50% {
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 0 0 transparent);
  }

  75% {
    transform: translateY(-1px) scale(1.02);
    filter: drop-shadow(0 1px 4px rgba(251, 191, 36, 0.4));
  }
}

.brand-divider {
  font-size: 0.9rem;
  opacity: 0.7;
  line-height: 1;
  margin: -0.1rem 0;
}

.brand-title-arb {
  font-size: 1.2rem;
  font-weight: 700;
  font-family: var(--arabic-font);
  margin: 0;
  direction: rtl;
  white-space: nowrap;
  /* Glassmorphism Effect - Golden */
  background: rgba(251, 191, 36, 0.15);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  padding: 0.15rem 1rem;
  border-radius: 1rem;
  border: 1px solid rgba(251, 191, 36, 0.3);
  color: #f59e0b;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: 0 4px 16px rgba(251, 191, 36, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
  /* Reverse floating animation - moving left (opposite to Swedish) */
  animation: floatLeft 6s ease-in-out infinite;
}

.brand-title-arb:hover {
  background: rgba(251, 191, 36, 0.25);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(251, 191, 36, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

/* Synchronized floating animations for titles */
@keyframes floatRight {

  0%,
  100% {
    transform: translateX(0);
  }

  50% {
    transform: translateX(8px);
  }
}

@keyframes floatLeft {

  0%,
  100% {
    transform: translateX(0);
  }

  50% {
    transform: translateX(-8px);
  }
}

@keyframes gradientFlowTitle {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

.brand-title-arb:hover .reveal-char {
  text-shadow: 0 0 15px rgba(251, 191, 36, 0.8);
}

/* Arabic title pulse animation */
@keyframes arabicPulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.02);
  }
}

/* Dark mode for Arabic title */
[data-theme="dark"] .brand-title-arb {
  color: #3b82f6;
  /* Green to match Swedish title */
}

/* Brand Animations */
@keyframes brandPulse {

  0%,
  100% {
    filter: drop-shadow(0 0 3px rgba(251, 191, 36, 0.4));
    transform: scale(1);
  }

  50% {
    filter: drop-shadow(0 0 12px rgba(251, 191, 36, 0.7));
    transform: scale(1.02);
  }
}

@keyframes gradientFlow {
  0% {
    background-position: 0% 50%;
  }

  100% {
    background-position: 200% 50%;
  }
}

@keyframes gradientFlowReverse {
  0% {
    background-position: 200% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* Dark Mode Brand Titles - Glassmorphism */
[data-theme="dark"] .brand-title-swe {
  background: rgba(96, 165, 250, 0.2);
  border: 1px solid rgba(96, 165, 250, 0.4);
  color: #93c5fd;
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .brand-title-arb {
  background: rgba(251, 191, 36, 0.2);
  border: 1px solid rgba(251, 191, 36, 0.4);
  color: #fcd34d;
  box-shadow: 0 4px 20px rgba(251, 191, 36, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .brand-title-swe:hover,
[data-theme="dark"] .brand-title-arb:hover {
  transform: translateY(-2px);
}

@keyframes brandPulseDark {

  0%,
  100% {
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3));
  }

  50% {
    filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.6));
  }
}

/* Header Glow Animation */
@keyframes headerGlow {
  0% {
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
  }

  100% {
    text-shadow: 0 0 20px rgba(59, 130, 246, 0.6),
      0 0 30px rgba(37, 99, 235, 0.3);
  }
}

/* Legacy Brand Logo - Keep for compatibility */
.brand-logo {
  font-size: 1.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 50%, #06b6d4 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 0;
  letter-spacing: -0.5px;
  text-shadow: none;
  animation: brandGlow 3s ease-in-out infinite alternate;
}

@keyframes brandGlow {
  0% {
    filter: drop-shadow(0 0 2px rgba(56, 189, 248, 0.3));
  }

  100% {
    filter: drop-shadow(0 0 8px rgba(30, 58, 138, 0.5));
  }
}

/* Mobile responsive for brand header */
@media (max-width: 480px) {
  .brand-title-swe {
    font-size: 0.75rem;
    letter-spacing: 1px;
  }

  /* تبسيط التأثير على الجوال */
  .brand-title-swe .reveal-char,
  .brand-title-arb .reveal-char,
  .brand-title-arb .reveal-word {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }

  .brand-title-swe .reveal-char {
    background: linear-gradient(135deg, #3b82f6, #60a5fa);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .brand-title-arb .reveal-char,
  .brand-title-arb .reveal-word {
    background: linear-gradient(135deg, #f59e0b, #fbbf24);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .brand-title-arb {
    font-size: 0.75rem;
  }

  .brand-divider {
    font-size: 0.6rem;
    margin: 0 3px;
  }
}

@media (max-width: 400px) {
  .nav-center .main-title-text {
    font-size: 0.8rem;
    /* Even smaller on mobile to fit */
  }

  .top-nav {
    padding: 0.5rem;
    /* Reduce padding on small screens */
  }

  /* Fix right buttons to stay within screen */
  .nav-right {
    flex: 0 0 auto;
    max-width: 45px;
    align-items: center;
    margin-right: 0;
    padding-right: 0;
  }

  .nav-left {
    flex: 0 0 auto;
    max-width: 45px;
    margin-left: 0;
    padding-left: 0;
  }

  /* Ensure buttons fit */
  .game-btn,
  .theme-toggle {
    width: 40px;
    height: 40px;
  }
}

.nav-center .subtitle-delay {
  font-size: 1rem;
  /* Match main title */
  opacity: 1;
  display: block;
  margin-top: 0.1rem;
  white-space: nowrap;
  /* Force single line */

  /* Contrast & Color Update */
  background: none;
  -webkit-text-fill-color: initial;
  color: #dc2626;
  /* Darker Blue (WCAG AA Compliant) */
  text-shadow: 0 2px 4px rgba(37, 99, 235, 0.1);
  /* Soft glow/shadow */
  font-weight: 800;
}

@media (max-width: 400px) {
  .nav-center .subtitle-delay {
    font-size: 0.8rem;
  }
}

#stats {
  margin-bottom: 1rem;
  /* Breathing room */
  display: block;
  font-weight: 500;
  color: var(--text-secondary);
}

/* Hide subtitle on very small screens if needed, or keep stacked */
@media (max-width: 360px) {
  .nav-center .subtitle-delay {
    display: none;
  }
}

.menu-section-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-secondary);
  padding: 0.5rem 1rem 0.25rem 1rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.sort-wrapper-menu {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0 0.5rem;
}

.menu-select {
  width: 100%;
  padding: 0.6rem 1rem;
  font-size: 0.9rem;
  border: 1px solid transparent;
  /* Cleaner look */
  border-radius: 0.5rem;
  background-color: var(--surface-secondary);
  /* Ice Blue */
  color: var(--text-main);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23205E8E' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1em;
  transition: background-color 0.2s;
}

.menu-select:focus {
  outline: none;
  border-color: var(--primary);
}

[data-theme="dark"] .menu-select {
  background-color: rgba(30, 41, 59, 0.8);
  border-color: var(--border);
  color: var(--text-main);
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
}

/* Sticky Header for Search */
.sticky-header {
  position: sticky;
  top: 0;
  z-index: 40;
  background: transparent;
  /* Matches light theme background */
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  padding: 0 0 0.5rem 0;
  margin: 0 -2rem;
  /* Extend to edges */
  padding-left: 2rem;
  padding-right: 2rem;
  transition: background 0.3s ease;
}

[data-theme="dark"] .sticky-header {
  background: transparent;
  /* Matches dark theme background */
}

/* Adjust search container within sticky header */
.search-container {
  margin-bottom: 0.5rem;
}

.main-actions>button,
.main-actions>a {
  width: 40px !important;
  height: 40px !important;
  padding: 0;
}

.main-actions svg {
  width: 20px;
  height: 20px;
}

h1 {
  font-family: var(--header-font);
  font-size: clamp(2rem, 8vw, 4.5rem);
  /* Responsive font size */
  font-weight: 800;
  color: var(--primary);
  /* blue color */
  margin-bottom: 1rem;
  /* Breathing room */
  letter-spacing: 0;
  text-shadow: 0 0 30px rgba(56, 189, 248, 0.4);
  animation: float 6s ease-in-out infinite;
  pointer-events: none;
  /* Let clicks pass to buttons underneath */
}

.subtitle {
  color: var(--text-secondary);
  font-size: 1.2rem;
  font-family: "Tajawal", sans-serif;
  animation: float 6s ease-in-out infinite;
  animation-delay: 1s;
  /* Slight delay for wave effect */
}

.search-container {
  position: relative;
  max-width: none;
  margin: 0 -1.5rem 1rem -0.5rem;
  /* Less negative margin on left */
  padding: 0 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

@keyframes pulse-border {
  0% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.4);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(56, 189, 248, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0);
  }
}

.search-wrapper {
  position: relative;
  flex-grow: 1;
  transition: transform 0.3s ease;
}

.search-wrapper:focus-within {
  transform: scale(1.02);
}

.search-wrapper:focus-within input {
  animation: pulse-border 2s infinite;
  border-color: var(--primary);
}

.search-icon {
  position: absolute;
  right: 1.2rem;
  /* Moved to right */
  top: 50%;
  transform: translateY(-50%);
  color: var(--primary);
  /* Deep Blue Icon */
  pointer-events: none;
  transition: opacity 0.2s ease, width 0.2s ease, margin 0.2s ease,
    color 0.3s ease;
  overflow: hidden;
}

#searchInput {
  width: 100%;
  /* Compact height - matching filter button */
  height: 40px;
  padding: 0 3rem 0 1rem;
  font-size: 0.9rem;
  /* Light Mode Glassmorphism - Blue Tint */
  background: rgba(240, 248, 255, 0.7);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1.5px solid rgba(51, 161, 253, 0.4);
  border-radius: 50px;
  color: var(--text-main);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 16px rgba(0, 100, 200, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

#searchInput:focus {
  border-color: rgba(51, 161, 253, 0.7);
  box-shadow: 0 4px 20px rgba(51, 161, 253, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  outline: none;
}

/* Dark Mode Glass Effect - Search Input */
[data-theme="dark"] #searchInput {
  background: rgba(30, 41, 59, 0.6);
  border: 1.5px solid rgba(56, 189, 248, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

[data-theme="dark"] #searchInput:focus {
  border-color: rgba(56, 189, 248, 0.5);
  box-shadow: 0 4px 24px rgba(56, 189, 248, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Dark Mode Glass Effect - Filter Button */
[data-theme="dark"] .filter-toggle-btn {
  background: rgba(30, 41, 59, 0.6);
  border: 1px solid rgba(56, 189, 248, 0.25);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

[data-theme="dark"] .filter-toggle-btn:hover {
  background: rgba(56, 189, 248, 0.8);
  border-color: rgba(56, 189, 248, 0.6);
  box-shadow: 0 6px 24px rgba(56, 189, 248, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Standalone Result Counter (Top Right Nav) */
.nav-counter-badge {
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(51, 161, 253, 0.3);
  color: var(--accent);
  font-weight: 700;
  font-size: 0.85rem;
  padding: 0.3rem 0.8rem;
  border-radius: 12px;
  font-family: "Inter", sans-serif;
  white-space: nowrap;
  min-width: 60px;
}

/* Standalone Result Counter (Left of Search) */
.search-counter-badge {
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.05);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(51, 161, 253, 0.3);
  color: var(--accent);
  font-weight: 700;
  font-size: 0.9rem;
  padding: 0 1rem;
  height: 54px;
  /* Match input height */
  border-radius: 1rem;
  /* Same radius as filter button */
  font-family: "Inter", sans-serif;
  white-space: nowrap;
  min-width: 80px;
  /* Ensure consistent width */
}

/* --- Smart Empty State (Reference Design) --- */
.empty-state {
  padding: 8rem 1.5rem 2rem 1.5rem;
  max-width: 600px;
  margin: 0 auto;
  animation: fadeIn 0.4s ease-out;
}

.empty-state h2 {
  font-size: 1.1rem;
  color: var(--text-tertiary);
  margin-bottom: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding-bottom: 10px;
  display: flex;
  justify-content: space-between;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Recent Tags (Horizontal Scroll) - Enhanced */
.recent-tags {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding: 8px 4px 16px 4px;
  margin-bottom: 24px;
  scrollbar-width: none;
  scroll-snap-type: x mandatory;
}

.recent-tags::-webkit-scrollbar {
  display: none;
}

.tag {
  position: relative;
  padding: 10px 18px;
  border-radius: 50px;
  font-size: 0.9rem;
  font-weight: 600;
  white-space: nowrap;
  cursor: pointer;
  scroll-snap-align: start;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  display: flex;
  align-items: center;
  gap: 8px;

  /* Default style */
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.15) 0%,
      rgba(56, 189, 248, 0.08) 100%);
  color: var(--primary);
  border: 1px solid rgba(56, 189, 248, 0.25);
  box-shadow: 0 2px 8px rgba(56, 189, 248, 0.1);
}

/* Remove or style the clock icon as a dot */
.tag .tag-clock {
  width: 6px;
  height: 6px;
  background: currentColor;
  border-radius: 50%;
  opacity: 0.6;
}

/* Unique tag colors based on nth-child */
.tag:nth-child(1) {
  background: linear-gradient(135deg,
      rgba(6, 182, 212, 0.18) 0%,
      rgba(6, 182, 212, 0.08) 100%);
  color: #06b6d4;
  border-color: rgba(6, 182, 212, 0.3);
}

.tag:nth-child(2) {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.18) 0%,
      rgba(56, 189, 248, 0.08) 100%);
  color: #3b82f6;
  border-color: rgba(56, 189, 248, 0.3);
}

.tag:nth-child(3) {
  background: linear-gradient(135deg,
      rgba(30, 58, 138, 0.18) 0%,
      rgba(30, 58, 138, 0.08) 100%);
  color: #1d4ed8;
  border-color: rgba(30, 58, 138, 0.3);
}

.tag:nth-child(4) {
  background: linear-gradient(135deg,
      rgba(249, 115, 22, 0.18) 0%,
      rgba(249, 115, 22, 0.08) 100%);
  color: #f97316;
  border-color: rgba(249, 115, 22, 0.3);
}

.tag:nth-child(5) {
  background: linear-gradient(135deg,
      rgba(236, 72, 153, 0.18) 0%,
      rgba(236, 72, 153, 0.08) 100%);
  color: #ec4899;
  border-color: rgba(236, 72, 153, 0.3);
}

/* Hover state */
.tag:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
}

.tag:nth-child(1):hover {
  box-shadow: 0 6px 16px rgba(6, 182, 212, 0.25);
}

.tag:nth-child(2):hover {
  box-shadow: 0 6px 16px rgba(56, 189, 248, 0.25);
}

.tag:nth-child(3):hover {
  box-shadow: 0 6px 16px rgba(30, 58, 138, 0.25);
}

.tag:nth-child(4):hover {
  box-shadow: 0 6px 16px rgba(249, 115, 22, 0.25);
}

.tag:nth-child(5):hover {
  box-shadow: 0 6px 16px rgba(236, 72, 153, 0.25);
}

/* Active/tap state */
.tag:active {
  transform: scale(0.95);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Light theme adjustments */
[data-theme="light"] .tag {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .tag:nth-child(1) {
  color: #0891b2;
}

[data-theme="light"] .tag:nth-child(2) {
  color: #dc2626;
}

[data-theme="light"] .tag:nth-child(3) {
  color: #3b82f6;
}

[data-theme="light"] .tag:nth-child(4) {
  color: #ea580c;
}

[data-theme="light"] .tag:nth-child(5) {
  color: #db2777;
}

/* ========================================
   EXPLORE CARDS - Premium Design
   ======================================== */

/* Section Header */
.explore-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.explore-section-header h3 {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.explore-section-header h3::before {
  content: "🧭";
  font-size: 1.2rem;
}

/* Grid Menu (Explore) */
.grid-menu {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Base Explore Card */
.explore-card {
  position: relative;
  padding: 24px 16px;
  border-radius: 20px;
  text-align: center;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 140px;
  overflow: hidden;

  /* Default gradient */
  background: linear-gradient(145deg,
      rgba(56, 189, 248, 0.12) 0%,
      rgba(56, 189, 248, 0.04) 100%);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-left: 4px solid var(--primary);

  /* Smooth transitions */
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);

  /* Glass effect */
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

/* Category-specific gradients and colors */
.explore-card[data-category="food"] {
  background: linear-gradient(145deg,
      rgba(249, 115, 22, 0.15) 0%,
      rgba(234, 88, 12, 0.05) 100%);
  border-color: rgba(249, 115, 22, 0.2);
  border-left-color: #f97316;
}

.explore-card[data-category="travel"] {
  background: linear-gradient(145deg,
      rgba(6, 182, 212, 0.15) 0%,
      rgba(14, 165, 233, 0.05) 100%);
  border-color: rgba(6, 182, 212, 0.2);
  border-left-color: #06b6d4;
}

.explore-card[data-category="health"] {
  background: linear-gradient(145deg,
      rgba(239, 68, 68, 0.12) 0%,
      rgba(220, 38, 38, 0.04) 100%);
  border-color: rgba(239, 68, 68, 0.2);
  border-left-color: #ef4444;
}

.explore-card[data-category="work"] {
  background: linear-gradient(145deg,
      rgba(30, 58, 138, 0.15) 0%,
      rgba(124, 58, 237, 0.05) 100%);
  border-color: rgba(30, 58, 138, 0.2);
  border-left-color: #1d4ed8;
}

.explore-card[data-category="family"] {
  background: linear-gradient(145deg,
      rgba(56, 189, 248, 0.15) 0%,
      rgba(5, 150, 105, 0.05) 100%);
  border-color: rgba(56, 189, 248, 0.2);
  border-left-color: #3b82f6;
}

.explore-card[data-category="greetings"] {
  background: linear-gradient(145deg,
      rgba(245, 158, 11, 0.15) 0%,
      rgba(217, 119, 6, 0.05) 100%);
  border-color: rgba(245, 158, 11, 0.2);
  border-left-color: #f59e0b;
}

/* Hover effects */
.explore-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
}

.explore-card[data-category="food"]:hover {
  box-shadow: 0 20px 40px -12px rgba(249, 115, 22, 0.3);
  border-color: rgba(249, 115, 22, 0.4);
}

.explore-card[data-category="travel"]:hover {
  box-shadow: 0 20px 40px -12px rgba(6, 182, 212, 0.3);
  border-color: rgba(6, 182, 212, 0.4);
}

.explore-card[data-category="health"]:hover {
  box-shadow: 0 20px 40px -12px rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.4);
}

.explore-card[data-category="work"]:hover {
  box-shadow: 0 20px 40px -12px rgba(30, 58, 138, 0.3);
  border-color: rgba(30, 58, 138, 0.4);
}

.explore-card[data-category="family"]:hover {
  box-shadow: 0 20px 40px -12px rgba(56, 189, 248, 0.3);
  border-color: rgba(56, 189, 248, 0.4);
}

.explore-card[data-category="greetings"]:hover {
  box-shadow: 0 20px 40px -12px rgba(245, 158, 11, 0.3);
  border-color: rgba(245, 158, 11, 0.4);
}

/* Active/tap effect */
.explore-card:active {
  transform: scale(0.96);
  transition: transform 0.1s ease;
}

/* Card Icon - Enhanced */
.card-icon {
  font-size: 2.8rem;
  margin-bottom: 14px;
  display: block;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
  transition: transform 0.3s ease;
}

.explore-card:hover .card-icon {
  transform: scale(1.15) translateY(-2px);
}

/* Card Text - Swedish */
.card-text {
  font-size: 1.1rem;
  color: var(--text-main);
  font-weight: 700;
  display: block;
  letter-spacing: 0.02em;
}

/* Sub Text - Arabic */
.sub-text {
  font-size: 1rem;
  font-family: var(--arabic-font);
  display: block;
  margin-top: 6px;
  font-weight: 500;
  transition: color 0.3s ease;
}

/* Category-specific Arabic text colors */
.explore-card[data-category="food"] .sub-text {
  color: #fb923c;
}

.explore-card[data-category="travel"] .sub-text {
  color: #22d3ee;
}

.explore-card[data-category="health"] .sub-text {
  color: #f87171;
}

.explore-card[data-category="work"] .sub-text {
  color: #a78bfa;
}

.explore-card[data-category="family"] .sub-text {
  color: #60a5fa;
}

.explore-card[data-category="greetings"] .sub-text {
  color: #fbbf24;
}

/* Default sub-text for cards without category */
.explore-card:not([data-category]) .sub-text {
  color: var(--accent);
}

/* Ripple effect container */
.explore-card::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.4s ease, height 0.4s ease, opacity 0.4s ease;
  opacity: 0;
  pointer-events: none;
}

.explore-card:active::after {
  width: 200px;
  height: 200px;
  opacity: 1;
  transition: width 0s, height 0s, opacity 0s;
}

/* Light theme adjustments */
[data-theme="light"] .explore-card {
  background: linear-gradient(145deg,
      rgba(56, 189, 248, 0.08) 0%,
      rgba(56, 189, 248, 0.02) 100%);
}

[data-theme="light"] .explore-card[data-category="food"] {
  background: linear-gradient(145deg,
      rgba(249, 115, 22, 0.1) 0%,
      rgba(234, 88, 12, 0.03) 100%);
}

[data-theme="light"] .explore-card[data-category="travel"] {
  background: linear-gradient(145deg,
      rgba(6, 182, 212, 0.1) 0%,
      rgba(14, 165, 233, 0.03) 100%);
}

[data-theme="light"] .explore-card[data-category="health"] {
  background: linear-gradient(145deg,
      rgba(239, 68, 68, 0.08) 0%,
      rgba(220, 38, 38, 0.02) 100%);
}

[data-theme="light"] .explore-card[data-category="work"] {
  background: linear-gradient(145deg,
      rgba(30, 58, 138, 0.1) 0%,
      rgba(124, 58, 237, 0.03) 100%);
}

[data-theme="light"] .explore-card[data-category="family"] {
  background: linear-gradient(145deg,
      rgba(56, 189, 248, 0.1) 0%,
      rgba(5, 150, 105, 0.03) 100%);
}

[data-theme="light"] .explore-card[data-category="greetings"] {
  background: linear-gradient(145deg,
      rgba(245, 158, 11, 0.1) 0%,
      rgba(217, 119, 6, 0.03) 100%);
}

/* Arabic text colors for light theme */
[data-theme="light"] .explore-card[data-category="food"] .sub-text {
  color: #ea580c;
}

[data-theme="light"] .explore-card[data-category="travel"] .sub-text {
  color: #0891b2;
}

[data-theme="light"] .explore-card[data-category="health"] .sub-text {
  color: #dc2626;
}

[data-theme="light"] .explore-card[data-category="work"] .sub-text {
  color: #3b82f6;
}

[data-theme="light"] .explore-card[data-category="family"] .sub-text {
  color: #dc2626;
}

[data-theme="light"] .explore-card[data-category="greetings"] .sub-text {
  color: #d97706;
}

[data-theme="dark"] .search-icon {
  color: var(--text-secondary);
}

/* Removed sort-wrapper from here as it is moved to top-nav */

/* Select styles moved to generic block above */

#sortSelect:focus,
#searchMode:focus,
#typeSelect:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1);
}

#sortSelect:hover,
#searchMode:hover,
#typeSelect:hover {
  border-color: var(--primary);
}

/* Mobile Tweaks */
/* Mobile Tweaks (Consolidated & Polished) */
@media (max-width: 800px) {
  body {
    padding: 1rem;
    padding-bottom: calc(2rem + env(safe-area-inset-bottom));
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 0.25rem;
  }

  .main-title-text {
    white-space: nowrap;
    font-size: 1.1rem;
    /* Adjusted to fit on one line */
  }

  .subtitle {
    font-size: 1rem;
  }

  .header-center {
    padding: 0.5rem;
    padding-top: max(3.5rem, env(safe-area-inset-top));
    /* More space for top nav */
  }

  .sticky-header {
    margin: 0 -1rem;
    /* Match mobile body padding */
    padding-left: 1rem;
    padding-right: 1rem;
    top: 0;
  }

  .search-container {
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 0;
  }

  .sort-wrapper {
    gap: 0.25rem;
  }

  #sortSelect,
  #searchMode,
  #typeSelect {
    font-size: 0.75rem;
    padding: 0.3rem 1.2rem 0.3rem 0.5rem;
    max-width: 100px;
    /* Force compact on mobile */
  }

  .search-wrapper,
  .sort-wrapper,
  #sortSelect,
  #searchMode,
  #typeSelect {
    width: 100%;
    min-height: 50px;
    /* Larger touch target */
  }

  #sortSelect,
  #searchMode,
  #typeSelect {
    font-size: 0.8rem;
    padding: 0.6rem 1.75rem 0.6rem 0.65rem;
    min-width: 0;
    flex: 1;
  }

  #searchInput {
    padding: 1rem 3rem 1rem 1.25rem;
    font-size: 1.1rem;
  }

  /* Card Polish on Mobile */
  .card {
    padding: 1rem;
    border-radius: 0.75rem;
    /* box-shadow controlled by JavaScript tilt effect */
  }

  .word-swe {
    font-size: 1.25rem;
  }

  .word-arb {
    font-size: 1.2rem;
    margin: 0.5rem 0 1rem 0;
  }

  .word-type {
    font-size: 0.65rem;
    padding: 0.2rem 0.6rem;
  }

  .def-swe,
  .def-arb {
    font-size: 0.9rem;
  }

  .definitions {
    margin-bottom: 1rem;
  }
}

/* Add Word Form */
.add-form {
  background: var(--surface);
  padding: 2rem;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  max-width: 600px;
  margin: 0 auto;
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: var(--text-main);
  font-size: 0.95rem;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  padding: 0.8rem;
  border: 2px solid var(--border);
  border-radius: 0.5rem;
  background: var(--background);
  color: var(--text-main);
  font-family: inherit;
  font-size: 1rem;
  transition: border-color 0.2s;
  appearance: none;
  /* Remove default arrow */
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 1em;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  outline: none;
  border-color: var(--primary);
}

.submit-btn {
  width: 100%;
  padding: 1rem;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}

.submit-btn:hover {
  background: var(--primary-hover);
  transform: translateY(-2px);
}

.submit-btn:active {
  transform: translateY(0);
}

.stats {
  margin-top: 0.5rem;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 0.9rem;
  color: var(--text-secondary);
  border-radius: 0;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  text-shadow: none;
  opacity: 0.8;
}

[data-theme="dark"] .stats {
  background: transparent;
  text-shadow: none;
  color: var(--text-secondary);
}

/* Results Area */
#resultsArea {
  display: grid;
  gap: 1rem;
  animation: slideUp 0.5s ease-out;
}

.placeholder-mes.stats {
  text-align: center;
  margin-top: 1rem;
  color: var(--text-secondary);
  font-size: 0.9rem;
}

.results-area {
  display: grid;
  gap: 0.75rem;
  /* Reduced gap for compact cards */
  margin-top: 1rem;
}

/* Search Results Grid - Hidden by default */
#searchResults {
  display: none;
  gap: 0.75rem;
  padding: 0 1rem;
  margin-top: 1rem;
}

#searchResults.visible {
  display: grid !important;
}

/* Landing Page Content - Visible by default */
#landingPageContent {
  display: block;
}

#landingPageContent.hidden {
  display: none !important;
}

.card-link {
  text-decoration: none;
  color: inherit;
  display: block;
}

.card {
  /* Glassmorphism effect */
  background: rgba(255, 255, 255, 0.7);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  border-radius: 0.75rem;
  padding: 0.5rem 0.75rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.3);
  /* Light mode: Blueish shadow for cleaner look */
  box-shadow: 0 4px 12px rgba(0, 100, 200, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  content-visibility: auto;
  overflow: hidden;
  /* Default border for unknown types */
  border-left: 4px solid #9ca3af;
}

@keyframes dazzle-pulse {
  0% {
    box-shadow: 0 0 10px rgba(56, 189, 248, 0.1);
    border-color: rgba(56, 189, 248, 0.1);
  }

  50% {
    box-shadow: 0 0 20px rgba(56, 189, 248, 0.25);
    border-color: rgba(56, 189, 248, 0.3);
  }

  100% {
    box-shadow: 0 0 10px rgba(56, 189, 248, 0.1);
    border-color: rgba(56, 189, 248, 0.1);
  }
}

[data-theme="dark"] .card {
  /* Dark mode glassmorphism */
  background: rgba(30, 30, 30, 0.6);
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.card-header-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;
  /* Reduced margin */
}

.result-number {
  font-size: 0.75rem;
  color: var(--text-secondary);
  opacity: 0.5;
  font-family: var(--body-font);
  font-weight: 500;
}

.card:hover {
  transform: translateY(-4px) scale(1.01);
  /* box-shadow controlled by JavaScript tilt effect */
  border-color: #33a1fd;
  /* Bright Sky Blue on Hover */
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  /* Changed to center alignment */
  margin-bottom: 0.15rem;
  /* Minimal margin */
}

.word-swe {
  font-size: 1rem;
  /* Reduced for compact cards */
  font-weight: 700;
  color: var(--text-main);
  line-height: 1.2;
  direction: ltr;
}

.word-type {
  font-size: 0.7rem;
  /* Smaller size to not compete with main word */
  text-transform: capitalize;
  letter-spacing: 0.03em;
  color: var(--primary);
  background: rgba(56, 189, 248, 0.1);
  padding: 0.25rem 0.7rem;
  border-radius: 50px;
  /* Pill shape */
  font-weight: 600;
  border: none;
  /* No border for cleaner look */
}

/* Dark mode - Soft Tag for word type */
[data-theme="dark"] .word-type {
  background: rgba(56, 189, 248, 0.1);
  /* Soft green */
  color: #3b82f6;
  border: none;
}

.word-arb {
  font-family: var(--arabic-font);
  font-size: 1.15rem;
  /* Slightly larger for visual balance with Swedish */
  color: #111827;
  text-align: right;
  margin: 0;
  font-weight: 800;
  /* Increased from 700 - Arabic needs heavier weight */
  line-height: 1.3;
  direction: rtl;
}

[data-theme="dark"] .word-arb {
  color: rgba(255, 255, 255, 0.85);
  /* Increased brightness for better readability */
}

/* ========================================
   UX ENHANCEMENTS - Grammar Badges & Colors
   ======================================== */

/* Word Header Group - contains word and grammar badge */
.word-header-group {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* Grammar Badges - En/Ett for nouns, Groups for verbs */
/* Soft Tags Style - transparent bg, colored text, pill shape */
.grammar-badge {
  font-size: 0.65rem;
  font-weight: 600;
  padding: 0.2rem 0.6rem;
  border-radius: 50px;
  /* Fully rounded pill shape */
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* Light mode - solid gradients */
/* Light mode - solid gradients */
.grammar-en {
  background: linear-gradient(135deg, #0d9488 0%, #115e59 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(13, 148, 136, 0.3);
}

.grammar-ett {
  background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(22, 163, 74, 0.3);
}

.grammar-verb {
  background: linear-gradient(135deg, #f87171 0%, #b91c1c 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(220, 38, 38, 0.3);
}

.grammar-adj {
  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
}

.grammar-phv {
  background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(6, 182, 212, 0.3);
}

.grammar-adv {
  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(14, 165, 233, 0.3);
}

/* Dark mode - Soft Tags: transparent bg + colored text */
/* Dark mode - Soft Tags: transparent bg + colored text */
[data-theme="dark"] .grammar-en {
  background: rgba(13, 148, 136, 0.15);
  color: #2dd4bf;
  box-shadow: none;
}

[data-theme="dark"] .grammar-ett {
  background: rgba(22, 163, 74, 0.15);
  color: #4ade80;
  box-shadow: none;
}

[data-theme="dark"] .grammar-verb {
  background: rgba(220, 38, 38, 0.15);
  color: #f87171;
  box-shadow: none;
}

[data-theme="dark"] .grammar-adj {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  box-shadow: none;
}

[data-theme="dark"] .grammar-phv {
  background: rgba(6, 182, 212, 0.15);
  color: #22d3ee;
  box-shadow: none;
}

[data-theme="dark"] .grammar-adv {
  background: rgba(234, 88, 12, 0.15);
  color: #fb923c;
  box-shadow: none;
}

/* Card Actions Container */
.card-actions {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  /* Increased gap for better touch separation */
}

/* Copy Button Styling */
.copy-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0.5rem;
  /* Increased padding for better touch target */
  border-radius: 50%;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.8;
  /* Increased from 0.6 for better visibility */
}

.copy-btn:hover {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
  opacity: 1;
  transform: scale(1.1);
}

.copy-btn:active {
  transform: scale(0.95);
}

[data-theme="dark"] .copy-btn:hover {
  background: rgba(59, 130, 246, 0.2);
}

/* Color-coded Left Border Strips by Word Type */
.card[data-type="verb"] {
  border-left: 4px solid #ef4444;
  /* Red for verbs */
}

.card[data-type="noun"] {
  border-left: 4px solid #0d9488;
  /* Turquoise for nouns fallback */
}

.card[data-type="adj"] {
  border-left: 4px solid #3b82f6;
  /* Blue for adjectives */
}

.card[data-type="adv"] {
  border-left: 4px solid #0ea5e9;
  /* Sky Blue for adverbs */
}

.card[data-type="prep"] {
  border-left: 4px solid #facc15;
  /* Yellow for prepositions */
}

.card[data-type="conj"] {
  border-left: 4px solid #fde047;
  /* Light Yellow for conjunctions */
}

.card[data-type="phrasal"],
.card[data-type="phv"] {
  border-left: 4px solid #06b6d4;
  /* Cyan for Phrasal Verbs */
}

.card[data-type="pronoun"] {
  border-left: 4px solid #dc2626;
  /* Indigo for Pronouns */
}

.card[data-type="legal"] {
  border-left: 4px solid #b91c1c;
  /* Red for Legal Terms */
}

.card[data-type="interj"] {
  border-left: 4px solid #fdba74;
  /* Pale Orange for Interjections */
}

.card[data-type="num"] {
  border-left: 4px solid #86efac;
  /* Pale Green for Numbers */
}

.card[data-type="abbr"] {
  border-left: 4px solid #c4b5fd;
  /* Pale Lavender for Abbreviations */
}

.card[data-type="other"],
.card:not([data-type]),
.card[data-type=""] {
  border-left: 4px solid #9ca3af;
  /* Gray for unknown/other types */
}

.definitions {
  margin-bottom: 0.5rem;
  /* Tighter spacing */
}

.def-row {
  margin-bottom: 0.5rem;
}

.def-swe {
  color: var(--text-main);
  margin-bottom: 0.25rem;
}

.def-arb {
  font-family: var(--arabic-font);
  color: #374151;
  /* Darker than before */
  text-align: right;
  font-weight: 600;
}

.examples {
  background: var(--background);
  padding: 0.75rem;
  /* Compact padding */
  border-radius: 0.5rem;
  margin-top: 0.5rem;
  /* Tighter spacing */
}

.ex-label {
  display: block;
  font-size: 0.75rem;
  /* Increased from 0.7rem */
  text-transform: uppercase;
  color: var(--text-secondary);
  margin-bottom: 0.25rem;
  /* Tighter spacing */
  font-weight: 600;
  letter-spacing: 0.05em;
}

.ex-item {
  margin-bottom: 0.5rem;
}

.ex-item:last-child {
  margin-bottom: 0;
}

.ex-swe {
  color: var(--text-main);
  margin-bottom: 0.25rem;
  font-size: 0.95rem;
  /* Added explicit size */
}

.ex-arb {
  font-family: var(--arabic-font);
  color: #374151;
  /* Darker than before */
  text-align: right;
  font-size: 0.95rem;
  font-weight: 600;
  /* Added explicit size */
}

.placeholder-message {
  text-align: center;
  color: var(--text-secondary);
  padding: 4rem 2rem;
  font-size: 1.1rem;
}

/* Animations */
/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(56, 189, 248, 0.1);
  border-left-color: var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto;
  display: inline-block;
}

/* Staggered Animation Base for Cards */
.card-link {
  opacity: 1;
  /* visible by default */
  /* animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; */
}

/* Utility Animations */
.fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

/* Header Animations */
/* header { animation: fadeIn 1s ease-out; } */

/* h1 { animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; } */
/* Optional: To add float after slideUp, we'd need a wrapper or JS. 
   For now, a clean entrance is more premium. */

.subtitle {
  opacity: 1;
  /* animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.2s; */
}

.search-container {
  opacity: 1;
  /* animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.4s; */
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-top: 2rem;
}

.back-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  background: linear-gradient(135deg,
      rgba(0, 91, 150, 0.1) 0%,
      rgba(14, 165, 233, 0.1) 100%);
  color: var(--primary);
  text-decoration: none;
  border-radius: 50px;
  font-weight: 700;
  font-size: 0.95rem;
  letter-spacing: 0.3px;
  box-shadow: 0 4px 15px rgba(0, 91, 150, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 2px solid rgba(0, 91, 150, 0.2);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.back-button::before {
  content: "←";
  font-size: 1.2rem;
  transition: transform 0.3s ease;
}

.back-button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0, 91, 150, 0.2);
  background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
  color: white;
  border-color: transparent;
}

.back-button:hover::before {
  transform: translateX(-5px);
}

.back-button:active {
  transform: translateY(-1px) scale(0.98);
}

/* Dark mode back button */
[data-theme="dark"] .back-button {
  background: rgba(56, 189, 248, 0.1);
  color: #7dd3fc;
  border-color: rgba(56, 189, 248, 0.2);
}

[data-theme="dark"] .back-button:hover {
  background: linear-gradient(135deg, #1e3a8a 0%, #38bdf8 100%);
  color: white;
  border-color: transparent;
  box-shadow: 0 8px 25px rgba(56, 189, 248, 0.25);
}

/* Make cards clickable in list view */
.card-link {
  text-decoration: none;
  color: inherit;
  display: block;
}

/* ... existing animations ... */

@keyframes heartbeat {
  0% {
    transform: scale(1);
  }

  14% {
    transform: scale(1.15);
  }

  28% {
    transform: scale(1);
  }

  42% {
    transform: scale(1.15);
  }

  70% {
    transform: scale(1);
  }
}

@keyframes wave-float {

  0%,
  100% {
    transform: rotate(0deg) translateY(0);
  }

  25% {
    transform: rotate(-10deg) translateY(-2px);
  }

  75% {
    transform: rotate(10deg) translateY(2px);
  }
}

@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.4);
    transform: scale(1);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(56, 189, 248, 0);
    transform: scale(1.05);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0);
    transform: scale(1);
  }
}

/* Apply Animations */
.favorites-toggle {
  animation: heartbeat 3s infinite ease-in-out;
}

.favorites-toggle:hover {
  animation: none;
  /* Stop on hover to allow scale effect */
}

.theme-toggle {
  animation: wave-float 5s ease-in-out infinite;
  transform-origin: center;
}

.add-button {
  animation: pulse-glow 2s infinite;
}

/* PWA Install Button */
#installApp {
  display: none;
  /* Hidden by default, shown via JS */
}

/* iOS Install Prompt */
.ios-prompt {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(255, 255, 255, 0.95);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  padding: 1.5rem 1rem;
  padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
  z-index: 1000;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
  transform: translateY(100%);
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

[data-theme="dark"] .ios-prompt {
  background: rgba(31, 41, 55, 0.95);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.ios-prompt.visible {
  transform: translateY(0);
}

.ios-prompt-content {
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
}

.ios-prompt p {
  margin: 0.5rem 0;
  font-size: 0.95rem;
  line-height: 1.5;
}

.ios-prompt img {
  display: inline-block;
  margin: 0 4px;
}

#closeIosPrompt {
  margin-top: 1rem;
  padding: 0.5rem 2rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 2rem;
  font-weight: 600;
  cursor: pointer;
  font-size: 0.9rem;
}

/* Share Button */
.share-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0.5rem;
  border-radius: 50%;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  right: 1rem;
  top: 1.5rem;
}

.share-btn:hover {
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--primary);
  transform: scale(1.1);
}

[data-theme="dark"] .share-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Custom Actions (Details Page) */
.custom-actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  margin: 1rem 0;
  padding: 1rem;
  background: var(--surface);
  border-radius: 1rem;
  border: 1px solid var(--border-subtle);
}

.local-badge {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  color: var(--primary);
  font-weight: 600;
  background: rgba(56, 189, 248, 0.1);
  padding: 0.5rem 1rem;
  border-radius: 50px;
}

.action-buttons {
  display: flex;
  gap: 1rem;
  width: 100%;
  justify-content: center;
}

.edit-btn,
.delete-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 0.75rem;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  border: none;
  transition: all 0.2s ease;
  flex: 1;
  justify-content: center;
  max-width: 200px;
}

.edit-btn {
  background: var(--surface-raised);
  color: var(--text-main);
  border: 1px solid var(--border);
}

.edit-btn:hover {
  background: var(--border);
}

.delete-btn {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
}

.delete-btn:hover {
  background: rgba(239, 68, 68, 0.2);
}

@media (max-width: 600px) {
  .action-buttons {
    flex-direction: column;
    align-items: stretch;
  }

  .edit-btn,
  .delete-btn {
    max-width: none;
  }
}

/* Toast Notification - Elegant Slide Down Animation */
.toast-notification {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%) translateY(-120%);
  background: linear-gradient(135deg,
      rgba(59, 130, 246, 0.95) 0%,
      rgba(37, 99, 235, 0.95) 100%);
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  color: white;
  padding: 1rem 2rem;
  border-radius: 0 0 20px 20px;
  box-shadow: 0 10px 40px rgba(59, 130, 246, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  z-index: 10000;
  font-weight: 600;
  font-size: 0.95rem;
  opacity: 0;
  pointer-events: none;
  text-align: center;
  white-space: nowrap;
  max-width: 90vw;
  overflow: hidden;
  /* Elegant entrance animation */
  animation: none;
}

.toast-notification.show {
  animation: toastSlideDown 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
    toastSlideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) 2.6s forwards;
  pointer-events: auto;
}

/* Slide down from top with bounce */
@keyframes toastSlideDown {
  0% {
    transform: translateX(-50%) translateY(-120%);
    opacity: 0;
  }

  60% {
    transform: translateX(-50%) translateY(15px);
    opacity: 1;
  }

  80% {
    transform: translateX(-50%) translateY(-5px);
  }

  100% {
    transform: translateX(-50%) translateY(10px);
    opacity: 1;
  }
}

/* Slide up and disappear elegantly */
@keyframes toastSlideUp {
  0% {
    transform: translateX(-50%) translateY(10px);
    opacity: 1;
  }

  100% {
    transform: translateX(-50%) translateY(-120%);
    opacity: 0;
  }
}

/* Success variant */
.toast-notification.success {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.95) 0%,
      rgba(5, 150, 105, 0.95) 100%);
  box-shadow: 0 10px 40px rgba(56, 189, 248, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

/* Error variant */
.toast-notification.error {
  background: linear-gradient(135deg,
      rgba(239, 68, 68, 0.95) 0%,
      rgba(220, 38, 38, 0.95) 100%);
  box-shadow: 0 10px 40px rgba(239, 68, 68, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

/* Warning variant */
.toast-notification.warning {
  background: linear-gradient(135deg,
      rgba(245, 158, 11, 0.95) 0%,
      rgba(217, 119, 6, 0.95) 100%);
  box-shadow: 0 10px 40px rgba(245, 158, 11, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

/* Sparkle effect on toast */
.toast-notification::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent);
  animation: toastShimmer 1.5s ease-in-out 0.5s;
}

@keyframes toastShimmer {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* Legacy .visible class support */
.toast-notification.visible {
  animation: toastSlideDown 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  opacity: 1;
  pointer-events: auto;
}

/* Game Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(5px);
  z-index: 3000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  animation: fadeIn 0.3s ease-out;
}

.game-card {
  background: var(--surface);
  width: 100%;
  max-width: 500px;
  border-radius: 1.5rem;
  padding: 2rem;
  position: relative;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--border-subtle);
  animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.close-modal {
  position: absolute;
  top: 1rem;
  right: 1.5rem;
  background: none;
  border: none;
  font-size: 2rem;
  color: var(--text-secondary);
  cursor: pointer;
  line-height: 1;
}

.game-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.game-header h3 {
  margin: 0;
  font-size: 1.2rem;
  color: var(--primary);
}

.score-badge {
  background: rgba(245, 158, 11, 0.1);
  color: #f59e0b;
  padding: 0.3rem 0.8rem;
  border-radius: 50px;
  font-weight: 700;
  font-size: 0.9rem;
}

.game-question-area {
  text-align: center;
  margin-bottom: 2rem;
}

.game-sentence {
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 1rem;
  line-height: 1.5;
}

.missing-word-slot {
  display: inline-block;
  width: 80px;
  border-bottom: 3px solid var(--primary);
  margin: 0 5px;
}

.brand-title-arb {
  font-family: var(--arabic-font);
  font-size: 1.2rem;
  color: var(--text-secondary);
  pointer-events: none;
}

.game-hint {
  font-family: var(--arabic-font);
  color: var(--text-secondary);
  font-size: 1.1rem;
  direction: rtl;
}

/* Forced Override for Quiz Layout - NUCLEAR OPTION */
html body .container .quiz-options,
html body .game-options,
#quizOptions {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 12px !important;
  width: 100% !important;
  margin-bottom: 2rem;
}

html body .quiz-option,
html body .option-btn,
button.quiz-option {
  width: 80% !important;
  max-width: 400px !important;
  min-width: 250px !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  margin: 0 auto !important;
  background: var(--surface);
  border: 2px solid var(--border);
  padding: 16px 20px;
  border-radius: 16px;
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--text-main);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
}

.option-btn:hover,
.quiz-option:hover {
  border-color: var(--primary);
  background: var(--surface-secondary);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.option-btn.correct {
  background: #3b82f6;
  border-color: #3b82f6;
  color: white;
  animation: pulse-glow 0.5s;
}

.option-btn.wrong {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
  animation: shake 0.4s;
  opacity: 0.6;
}

.next-btn {
  width: 100%;
  padding: 1rem;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 1rem;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s;
  box-shadow: 0 4px 12px rgba(56, 189, 248, 0.3);
}

.next-btn:hover {
  transform: translateY(-2px);
  background: var(--primary-hover);
}

@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-5px);
  }

  75% {
    transform: translateX(5px);
  }
}

/* Mobile Responsiveness (iPhone 16 Pro & others) */
@media (max-width: 450px) {
  .game-card {
    padding: 1.5rem;
    max-width: 95%;
    margin: 0 auto;
  }

  .game-sentence {
    font-size: 1.2rem;
  }

  .game-hint {
    font-size: 1rem;
  }

  .game-options {
    gap: 0.75rem;
  }

  .option-btn {
    padding: 0.8rem;
    font-size: 1rem;
  }

  .missing-word-slot {
    width: 60px;
  }
}

/* PWA Install Prompt - Enhanced */
.pwa-prompt {
  position: fixed;
  bottom: calc(20px + env(safe-area-inset-bottom));
  left: 50%;
  transform: translateX(-50%);
  width: calc(90% - env(safe-area-inset-left) - env(safe-area-inset-right));
  max-width: 400px;
  background: rgba(255, 255, 255, 0.95);
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border-radius: 1.25rem;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15), 0 5px 15px rgba(0, 0, 0, 0.08);
  padding: 1.25rem;
  z-index: 2000;
  animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .pwa-prompt {
  background: rgba(30, 41, 59, 0.95);
  border-color: rgba(255, 255, 255, 0.15);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4), 0 5px 15px rgba(0, 0, 0, 0.3);
}

.pwa-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.pwa-content p {
  margin: 0;
  text-align: center;
  font-weight: 500;
  color: var(--text-main);
}

body.dark-mode .pwa-content p {
  color: var(--text-main);
}

.pwa-buttons {
  display: flex;
  gap: 0.5rem;
}

.pwa-btn {
  flex: 1;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 2.25rem;
}

.pwa-btn.primary {
  background: #dc2626;
  color: white;
}

.pwa-btn.primary:hover {
  background: #4f46e5;
}

.pwa-btn.secondary {
  background: transparent;
  border: 1px solid #e5e7eb;
  color: var(--text-main);
}

body.dark-mode .pwa-btn.secondary {
  border-color: #4b5563;
  color: var(--text-main);
}

.pwa-btn.secondary:hover {
  background: rgba(0, 0, 0, 0.05);
}

body.dark-mode .pwa-btn.secondary:hover {
  background: rgba(255, 255, 255, 0.05);
}

@keyframes slideUp {
  from {
    transform: translate(-50%, 100%);
    opacity: 0;
  }

  to {
    transform: translate(-50%, 0);
    opacity: 1;
  }
}

/* Note: Toast styles are defined above - removed duplicate here */

/* Favorite Button */
.fav-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  /* Increased for better touch target */
  color: var(--text-secondary);
  transition: all 0.2s ease;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  /* Ensure clickable above card link */
  position: relative;
  /* For z-index to work */
  opacity: 0.8;
  /* Increased visibility */
}

.fav-btn:hover {
  background-color: rgba(0, 0, 0, 0.05);
  transform: scale(1.1);
}

.fav-btn.active {
  color: #f59e0b;
  /* Amber/Gold */
}

.fav-btn svg {
  width: 24px;
  height: 24px;
}

[data-theme="dark"] .fav-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Flashcard Mode */
body.flashcard-active .word-arb,
body.flashcard-active .def-arb,
body.flashcard-active .ex-arb,
body.flashcard-active .idiom-arb {
  filter: blur(8px);
  user-select: none;
  cursor: pointer;
  transition: filter 0.3s ease;
  opacity: 0.7;
}

body.flashcard-active .word-arb:hover,
body.flashcard-active .def-arb:hover,
body.flashcard-active .ex-arb:hover {
  filter: blur(4px);
  opacity: 0.9;
}

body.flashcard-active .revealed {
  filter: none !important;
  cursor: default;
  opacity: 1 !important;
}

/* Flashcard Button Active State */
.flashcard-btn.active {
  color: var(--primary);
  background: rgba(56, 189, 248, 0.1);
}

/* Back Button Top */
.back-btn-top {
  position: absolute;
  left: 1rem;
  top: 1rem;
  color: var(--text-primary);
  padding: 0.5rem;
  border-radius: 50%;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 20;
}

.back-btn-top:hover {
  background-color: rgba(0, 0, 0, 0.05);
  transform: translateX(-3px);
}

/* Magic Particles */
.particle {
  position: fixed;
  pointer-events: none;
  width: 6px;
  height: 6px;
  background: #f59e0b;
  border-radius: 50%;
  animation: particle-explode 0.8s ease-out forwards;
  z-index: 9999;
}

@keyframes particle-explode {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(var(--tx), var(--ty)) scale(0);
    opacity: 0;
  }
}

@keyframes particle-anim {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(var(--tx), var(--ty)) scale(0);
    opacity: 0;
  }
}

/* Combo Streak Effects - Enhanced (Blue Theme) */
.streak-3 #quizModal .modal-content {
  border: 2px solid #0ea5e9;
  box-shadow: 0 30px 80px rgba(14, 165, 233, 0.6),
    0 0 50px rgba(14, 165, 233, 0.4), 0 0 0 2px rgba(14, 165, 233, 0.2) inset;
  animation: pulse-glow-blue 1.5s ease-in-out infinite;
}

.streak-5 #quizModal .modal-content {
  border: 3px solid #1e3a8a;
  box-shadow: 0 30px 80px rgba(2, 132, 199, 0.7),
    0 0 60px rgba(2, 132, 199, 0.5), 0 0 0 3px rgba(2, 132, 199, 0.3) inset;
  animation: pulse-glow-cyan 1.2s ease-in-out infinite,
    shake-modal 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

.streak-10 #quizModal .modal-content {
  border: 4px solid transparent;
  background-image: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%),
    linear-gradient(to right,
      #0ea5e9,
      #06b6d4,
      #14b8a6,
      #38bdf8,
      #22c55e,
      #84cc16,
      #eab308);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  box-shadow: 0 30px 100px rgba(14, 165, 233, 0.8),
    0 0 80px rgba(56, 189, 248, 0.6), 0 0 100px rgba(6, 182, 212, 0.4);
  animation: rainbow-pulse 2s linear infinite, shake-celebration 0.8s ease-out;
}

@keyframes pulse-glow-blue {

  0%,
  100% {
    box-shadow: 0 30px 80px rgba(14, 165, 233, 0.6),
      0 0 50px rgba(14, 165, 233, 0.4);
  }

  50% {
    box-shadow: 0 35px 90px rgba(14, 165, 233, 0.8),
      0 0 70px rgba(14, 165, 233, 0.6);
  }
}

@keyframes pulse-glow-cyan {

  0%,
  100% {
    box-shadow: 0 30px 80px rgba(2, 132, 199, 0.7),
      0 0 60px rgba(2, 132, 199, 0.5);
  }

  50% {
    box-shadow: 0 35px 100px rgba(2, 132, 199, 0.9),
      0 0 80px rgba(2, 132, 199, 0.7);
  }
}

@keyframes shake-modal {

  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }

  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }

  30%,
  50%,
  70% {
    transform: translate3d(-4px, 0, 0);
  }

  40%,
  60% {
    transform: translate3d(4px, 0, 0);
  }
}

@keyframes shake-celebration {

  0%,
  100% {
    transform: rotate(0deg);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: rotate(-2deg);
  }

  20%,
  40%,
  60%,
  80% {
    transform: rotate(2deg);
  }
}

@keyframes rainbow-pulse {
  0% {
    filter: hue-rotate(0deg) brightness(1.1);
  }

  100% {
    filter: hue-rotate(360deg) brightness(1.1);
  }
}

/* Physics Logo Characters */
.physics-char {
  display: inline-block;
  transition: transform 0.1s ease-out, color 0.2s;
  cursor: default;
}

/* Word of the Day - Premium Design */
.word-of-day-card {
  background: linear-gradient(135deg, #1e3a8a 0%, #1e3a8a 50%, #0ea5e9 100%);
  color: white;
  padding: 2rem;
  border-radius: 2rem;
  margin: 1.5rem 0;
  width: 100%;
  max-width: none;
  box-shadow: 0 20px 60px rgba(0, 91, 150, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  border: none;
  position: relative;
  overflow: hidden;
  animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.word-of-day-card::before {
  content: "";
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  /* Black rotating glow for subtle depth */
  background: radial-gradient(circle, rgba(0, 0, 0, 0.15) 0%, transparent 70%);
  animation: rotate-glow 20s linear infinite;
  pointer-events: none;
}

.word-of-day-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 25px 70px rgba(0, 91, 150, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.15) inset;
}

@keyframes rotate-glow {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.wod-header {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);
  padding-bottom: 1rem;
  position: relative;
  z-index: 1;
  text-align: center;
}

.wod-header span {
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(255, 255, 255, 0.95);
  font-weight: 800;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.wod-title-col {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.wod-title-col .wod-tts-btn {
  font-size: 1rem;
  width: 32px;
  height: 32px;
  padding: 0;
}

/* Header Actions */
.wod-header-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  width: 100%;
}

/* Unified Action Button Style - Glass Orbs */
.wod-action-btn {
  /* Deep Glass Effect */
  background: rgba(255, 255, 255, 0.05);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-top: 1px solid rgba(255, 255, 255, 0.25);
  /* Top shine */
  color: white;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.wod-action-btn:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.5), 0 0 15px rgba(56, 189, 248, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
  border-color: rgba(56, 189, 248, 0.4);
}

.wod-action-btn:active {
  transform: scale(0.92);
  background: rgba(255, 255, 255, 0.15);
}

.wod-action-btn svg {
  width: 18px;
  height: 18px;
  fill: none;
  stroke: currentColor;
  stroke-width: 2px;
  transition: all 0.3s ease;
}

/* Specific: Favorites Active State */
#wodFavBtn.active svg {
  fill: #ff4757;
  stroke: #ff4757;
  transform: scale(1.1);
  filter: drop-shadow(0 2px 8px rgba(255, 71, 87, 0.5));
}

/* Removed Footer Styles */

/* Quiz Success Shake */
@keyframes success-shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-3px) rotate(-2deg);
  }

  75% {
    transform: translateX(3px) rotate(2deg);
  }
}

.correct-shake {
  animation: success-shake 0.4s ease-in-out;
}

.wod-close {
  background: none;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

.wod-content {
  position: relative;
  z-index: 1;
}

.wod-main-words {
  text-align: center;
  margin-bottom: 1.25rem;
  /* Box styling for words */
  background: #0f172a;
  padding: 1.5rem 1.25rem;
  border-radius: 1rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
}

.wod-swe-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
}

.wod-tts-btn {
  font-size: 1.5rem;
  background: rgba(59, 130, 246, 0.2);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 50%;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.wod-tts-btn:hover {
  background: rgba(59, 130, 246, 0.3);
  transform: scale(1.1);
  box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
}

.wod-tts-btn:active {
  transform: scale(0.95);
}

.wod-swe:hover {
  color: #93c5fd;
  text-shadow: 0 4px 20px rgba(59, 130, 246, 0.5),
    0 0 40px rgba(147, 197, 253, 0.4);
}

.wod-swe {
  font-size: 3rem;
  font-weight: 900;
  margin-bottom: 0.25rem;
  /* Reduced spacing to Arabic */
  color: white;
  letter-spacing: -0.02em;
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(255, 255, 255, 0.2);
  line-height: 1.2;
  animation: float-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.2s backwards;
  word-wrap: break-word;
  overflow-wrap: break-word;
  -webkit-hyphens: none;
  hyphens: none;
}

/* Dynamic font sizing for long Swedish words */
.wod-swe.long-text {
  font-size: 2.4rem;
}

.wod-swe.very-long-text {
  font-size: 1.9rem;
}

.wod-swe.extra-long-text {
  font-size: 1.5rem;
  word-break: keep-all;
}

.wod-arb {
  font-size: 2.2rem;
  /* Larger for visual balance */
  font-family: var(--arabic-font);
  font-weight: 700;
  /* Heavier weight */
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.95);
  direction: rtl;
  text-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
  animation: float-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.3s backwards;
}

/* Preview Sections */
.wod-preview {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-top: 1.5rem;
}

.wod-def-preview,
.wod-example-preview {
  /* Clean Card UI - No borders, shade difference only */
  background: #1e293b;
  /* Solid slate-800 - cleaner than transparent */
  backdrop-filter: none;
  border: none;
  border-radius: 1rem;
  padding: 1.5rem;
  /* Increased padding (24px) */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  animation: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
}

.wod-def-preview {
  animation-delay: 0.4s;
}

.wod-example-preview {
  animation-delay: 0.5s;
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.preview-label {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  margin-bottom: 0.5rem;
  /* Overline style - smaller, grayer, less prominent */
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: rgba(255, 255, 255, 0.5);
  /* Gray - let content stand out */
}

.preview-icon {
  font-size: 1.1rem;
}

.wod-def-text,
.wod-example-text {
  font-size: 1.05rem;
  /* Slightly larger for readability */
  line-height: 1.7;
  color: rgba(255, 255, 255, 0.95);
  text-align: left;
}

.wod-def-text {
  font-weight: 500;
}

.wod-example-text {
  font-style: italic;
  font-weight: 400;
}

@keyframes float-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.wod-action {
  display: block;
  text-align: center;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  color: white;
  width: 100%;
  padding: 1.25rem;
  border-radius: 1.25rem;
  cursor: pointer;
  font-weight: 800;
  font-size: 1.05rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-decoration: none;
  position: relative;
  z-index: 1;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  overflow: hidden;
  margin-top: 1.5rem;
}

.wod-action::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.wod-action:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
}

.wod-action:hover::before {
  width: 300px;
  height: 300px;
}

.wod-action:active {
  transform: translateY(-1px);
}

/* Word Type Badge - Navy Blue */
.wod-type-badge {
  display: inline-block;
  background: #1e293b;
  /* Solid navy/slate - matches theme */
  backdrop-filter: none;
  border: none;
  padding: 0.5rem 1.2rem;
  border-radius: 50px;
  font-size: 0.75rem;
  font-weight: 700;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  animation: float-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.4s backwards;
}

.wod-type-badge:empty {
  display: none;
}

/* Forms Preview Section - Clean Card Style */
.wod-forms-preview {
  /* Clean Card UI - solid background, no border */
  background: #1e293b;
  backdrop-filter: none;
  border: none;
  border-radius: 1rem;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  animation: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.35s backwards;
}

.wod-forms-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.75rem;
}

.wod-form-chip {
  /* Glass Chip */
  background: rgba(255, 255, 255, 0.08);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.12);
  padding: 0.5rem 1rem;
  border-radius: 50px;
  font-size: 0.85rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  transition: all 0.3s ease;
}

.wod-form-chip:hover {
  background: rgba(56, 189, 248, 0.2);
  border-color: rgba(56, 189, 248, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);
}

/* Definitions Preview - Bilingual */
.wod-definitions-preview {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-top: 1.5rem;
}

.wod-def-arb-preview {
  /* Clean Card UI - slightly lighter shade */
  background: #263548;
  backdrop-filter: none;
  border: none;
  border-radius: 1rem;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
  animation: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.45s backwards;
}

.wod-def-arb-text {
  font-family: var(--arabic-font);
  text-align: right;
  line-height: 1.8;
}

/* Examples Preview - Bilingual */
.wod-examples-preview {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-top: 1rem;
}

.wod-example-arb-preview {
  /* Clean Card UI - slightly lighter shade */
  background: #263548;
  backdrop-filter: none;
  border: none;
  border-radius: 1rem;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
  animation: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.55s backwards;
}

.wod-ex-swe {
  font-style: italic;
}

.wod-ex-arb {
  font-family: var(--arabic-font);
  text-align: right;
  line-height: 1.8;
  font-style: italic;
}

/* Idioms Preview - Bilingual */
.wod-idioms-preview {
  margin-top: 1rem;
}

.wod-idiom-preview {
  background: linear-gradient(135deg,
      rgba(255, 215, 0, 0.15) 0%,
      rgba(255, 165, 0, 0.1) 100%);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 1.25rem;
  padding: 1.25rem;
  animation: slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.6s backwards;
}

.wod-idiom-swe {
  font-size: 1rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.95);
  margin-bottom: 0.5rem;
  font-style: italic;
}

.wod-idiom-arb {
  font-size: 1rem;
  font-weight: 600;
  font-family: var(--arabic-font);
  color: rgba(255, 255, 255, 0.9);
  text-align: right;
  line-height: 1.8;
  font-style: italic;
}

[data-theme="dark"] .fav-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Reusable Premium Border Animation Class */
.premium-border-animated {
  position: relative;
  overflow: hidden;
}

/* Word of the Day - Dark Mode - Deep Dark + Corner Glow */
[data-theme="dark"] .word-of-day-card {
  background: linear-gradient(135deg, #0a0a0f 0%, #0d1117 50%, #0f1419 100%);
  border: 1.5px solid rgba(6, 182, 212, 0.4);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 20px rgba(6, 182, 212, 0.2);
  position: relative;
  overflow: hidden;
}

/* Corner Glow Effects for WOD - Animated Turquoise Dot */
[data-theme="dark"] .word-of-day-card::before,
[data-theme="dark"] .premium-border-animated::before {
  content: "";
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.9) 0%,
      rgba(6, 182, 212, 0.5) 40%,
      transparent 70%);
  box-shadow: 0 0 10px rgba(56, 189, 248, 0.8), 0 0 20px rgba(6, 182, 212, 0.4);
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  animation: corner-glow-1 40s ease-in-out infinite;
}

[data-theme="dark"] .word-of-day-card::after,
[data-theme="dark"] .premium-border-animated::after {
  content: "";
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.9) 0%,
      rgba(6, 182, 212, 0.5) 40%,
      transparent 70%);
  box-shadow: 0 0 10px rgba(56, 189, 248, 0.8), 0 0 20px rgba(6, 182, 212, 0.4);
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  animation: corner-glow-2 40s ease-in-out infinite;
}

/* Corner Glow Animation - Light travels between corners (very slow, tiny) */
@keyframes corner-glow-1 {

  0%,
  100% {
    top: 0;
    left: 0;
  }

  25% {
    top: 0;
    left: calc(100% - 3px);
  }

  50% {
    top: calc(100% - 3px);
    left: calc(100% - 3px);
  }

  75% {
    top: calc(100% - 3px);
    left: 0;
  }
}

@keyframes corner-glow-2 {

  0%,
  100% {
    bottom: 0;
    right: 0;
  }

  25% {
    bottom: 0;
    right: calc(100% - 3px);
  }

  50% {
    bottom: calc(100% - 3px);
    right: calc(100% - 3px);
  }

  75% {
    bottom: calc(100% - 3px);
    right: 0;
  }
}

[data-theme="dark"] .word-of-day-card:hover {
  box-shadow: 0 25px 70px rgba(0, 0, 0, 0.7),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}

[data-theme="dark"] .wod-swe,
[data-theme="dark"] .wod-arb {
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.6), 0 0 40px rgba(255, 255, 255, 0.1);
}

/* Responsive */
@media (max-width: 768px) {
  .wod-swe {
    font-size: 2.2rem;
  }

  .wod-arb {
    font-size: 1.5rem;
  }

  .word-of-day-card {
    padding: 1.5rem;
  }

  .wod-def-text,
  .wod-example-text {
    font-size: 0.95rem;
  }
}

/* WOD Modal Body */
.wod-modal-body {
  padding: 0;
  max-height: 80vh;
  overflow-y: auto;
}

.wod-modal-body::-webkit-scrollbar {
  width: 8px;
}

.wod-modal-body::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 10px;
}

.wod-modal-body::-webkit-scrollbar-thumb {
  background: rgba(0, 91, 150, 0.5);
  border-radius: 10px;
}

.wod-modal-body::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 91, 150, 0.7);
}

/* Quiz Mode */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  backdrop-filter: blur(20px) saturate(150%);
  animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Quiz Modal - Premium Redesign (Dark Top and Bottom) */
#quizModal .modal-content {
  background: linear-gradient(135deg, #dc2626 0%, #60a5fa 50%, #dc2626 100%);
  border: none;
  padding: 0;
  max-width: 600px;
  width: 95%;
  border-radius: 2rem;
  box-shadow: 0 30px 80px rgba(37, 99, 235, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.15) inset,
    0 10px 40px rgba(96, 165, 250, 0.2);
  overflow: hidden;
  position: relative;
}

#quizModal .modal-content::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,%3Csvg width="100" height="100" xmlns="http://www.w3.org/2000/svg"%3E%3Cdefs%3E%3Cpattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse"%3E%3Cpath d="M 20 0 L 0 0 0 20" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="0.5"/%3E%3C/pattern%3E%3C/defs%3E%3Crect width="100" height="100" fill="url(%23grid)" /%3E%3C/svg%3E');
  opacity: 0.3;
  pointer-events: none;
}

[data-theme="dark"] #quizModal .modal-content {
  background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

.modal-content.quiz-card {
  background: var(--surface);
  width: 90%;
  max-width: 500px;
  padding: 2rem;
  border-radius: 1.5rem;
  position: relative;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--border);
}

.modal-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  font-size: 2rem;
  color: var(--text-secondary);
  cursor: pointer;
  line-height: 1;
}

.quiz-body {
  padding: 1.5rem 1.25rem;
  /* Increased horizontal padding */
  padding-bottom: 2rem;
  /* Extra bottom padding */
  position: relative;
  z-index: 1;
}

.modal-header {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  padding: 1.5rem 2.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-header h2 {
  color: white;
  font-size: 1rem;
  font-weight: 800;
  margin: 0;
  text-shadow: 0 3px 15px rgba(0, 0, 0, 0.5);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0.95;
}

.close-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1.5rem;
  line-height: 1;
}

.close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: rotate(90deg) scale(1.1);
}

.score-display {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  padding: 0.75rem 1.5rem;
  border-radius: 50px;
  font-weight: 800;
  font-size: 1.2rem;
  color: white;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  margin-bottom: 2rem;
  text-align: center;
  justify-content: center;
  width: 100%;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.score-display::before {
  content: "🏆";
  font-size: 1.4rem;
}

.question-card {
  /* Clean Card UI - WOD-inspired */
  background: #1e293b;
  backdrop-filter: none;
  padding: 2rem 1.5rem;
  border-radius: 1rem;
  margin-bottom: 1rem;
  border: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
  position: relative;
}

.question-card h3 {
  font-size: 2rem;
  font-weight: 800;
  text-align: center;
  margin: 0;
  color: white;
  text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
  line-height: 1.5;
  word-wrap: break-word;
  overflow-wrap: break-word;
  -webkit-hyphens: none;
  hyphens: none;
  max-width: 100%;
  padding: 0 1rem;
}

/* Dynamic font sizing for long Swedish text */
.question-card h3.long-text {
  font-size: 1.7rem;
  line-height: 1.4;
}

.question-card h3.very-long-text {
  font-size: 1.3rem;
  line-height: 1.35;
}

.question-card h3.extra-long-text {
  font-size: 1rem;
  line-height: 1.3;
  word-break: keep-all;
}

.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  /* Increased gap for WOD style */
  margin-bottom: 1rem;
}

/* Quiz Option Buttons - Clean Card UI */
.quiz-options button {
  background: #263548;
  /* Slightly lighter than question card */
  border: none;
  padding: 1.25rem 1rem;
  font-size: 1.1rem;
  font-weight: 600;
  border-radius: 0.75rem;
  cursor: pointer;
  color: rgba(255, 255, 255, 0.95);
  text-align: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.quiz-options button:hover {
  background: #334155;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

.quiz-options button:active {
  transform: scale(0.98);
}

.quiz-options button.correct {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
  color: white !important;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3) !important;
}

.quiz-options button.wrong {
  background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%) !important;
  color: white !important;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3) !important;
}

.quiz-options button:disabled {
  cursor: default;
  transform: none !important;
}

.quiz-options button:disabled:not(.correct):not(.wrong) {
  opacity: 0.5;
  background: #1e293b;
}

/* Quiz Header Compact */
.quiz-header-compact {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1.5rem 1.25rem 1rem;
  /* Top and horizontal padding for safe area */
}

.quiz-header-compact h2 {
  margin: 0;
  text-align: center;
  width: 100%;
}

.quiz-header-right {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  width: 100%;
}

.quiz-score-inline {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  padding: 0.4rem 1rem;
  border-radius: 50px;
  font-weight: 800;
  font-size: 1.1rem;
  color: white;
  min-width: 40px;
  text-align: center;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
}

/* Quiz Example Sentence */
.quiz-example {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.85);
  font-style: italic;
  margin-top: 0.75rem;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 0.75rem;
  border-left: 3px solid rgba(255, 255, 255, 0.3);
  line-height: 1.5;
  text-align: left;
}

/* Quiz Favorite Button - Header Version */
.quiz-fav-btn-header {
  background: rgba(255, 255, 255, 0.15);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: rgba(255, 255, 255, 0.8);
}

.quiz-fav-btn-header:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: scale(1.1);
}

.quiz-fav-btn-header.is-favorite {
  color: #f59e0b;
  background: rgba(245, 158, 11, 0.25);
}

.quiz-fav-btn-header.is-favorite:hover {
  background: rgba(245, 158, 11, 0.35);
}

/* Quiz End Screen */
.quiz-end-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem;
  animation: fade-in 0.5s ease;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.end-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes bounce-in {
  0% {
    transform: scale(0);
  }

  50% {
    transform: scale(1.2);
  }

  100% {
    transform: scale(1);
  }
}

.end-title {
  font-size: 1.8rem;
  font-weight: 800;
  color: white;
  margin-bottom: 1.5rem;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.end-score {
  display: flex;
  align-items: baseline;
  gap: 0.25rem;
  margin-bottom: 1rem;
}

.end-score-value {
  font-size: 4rem;
  font-weight: 900;
  color: white;
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.end-score-total {
  font-size: 1.5rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.7);
}

.end-message {
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 2rem;
  font-weight: 600;
}

#restartQuiz {
  min-width: 200px;
}

/* Quiz Word Info Tooltip */
.quiz-word-tooltip {
  position: fixed;
  z-index: 10001;
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  border-radius: 1rem;
  padding: 1rem 1.25rem;
  min-width: 220px;
  max-width: 320px;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
  animation: tooltip-pop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes tooltip-pop {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.tooltip-header {
  font-size: 1.3rem;
  font-weight: 800;
  color: #60a5fa;
  margin-bottom: 0.5rem;
  text-align: center;
}

.tooltip-arabic-def {
  font-size: 1.1rem;
  font-family: var(--arabic-font);
  color: white;
  text-align: right;
  direction: rtl;
  line-height: 1.6;
  margin-bottom: 0.75rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 0.5rem;
}

.tooltip-example {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.8);
  font-style: italic;
  text-align: left;
  padding: 0.5rem;
  background: rgba(96, 165, 250, 0.1);
  border-radius: 0.5rem;
  border-left: 3px solid #60a5fa;
}

.tooltip-close {
  position: absolute;
  top: 0.5rem;
  right: 0.75rem;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: rgba(255, 255, 255, 0.5);
  font-size: 1.2rem;
  transition: all 0.2s;
}

.tooltip-close:hover {
  color: white;
  transform: scale(1.2);
}

/* Tooltip Arabic Word Display */
.tooltip-arabic-word {
  font-size: 1.4rem;
  font-family: var(--arabic-font);
  color: #fcd34d;
  text-align: center;
  direction: rtl;
  margin-bottom: 0.75rem;
  font-weight: 700;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.tooltip-arabic-def {
  font-size: 1rem;
  font-family: var(--arabic-font);
  color: white;
  text-align: right;
  direction: rtl;
  line-height: 1.7;
  margin-bottom: 0.75rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 0.5rem;
  border-right: 3px solid #fcd34d;
}

.tooltip-arabic-def .def-label {
  color: #fcd34d;
  font-weight: 700;
  font-size: 0.9rem;
  margin-left: 0.25rem;
}

.tooltip-example {
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.9);
  font-style: italic;
  text-align: left;
  padding: 0.75rem;
  background: rgba(96, 165, 250, 0.15);
  border-radius: 0.5rem;
  border-left: 3px solid #60a5fa;
  line-height: 1.6;
  direction: ltr;
}

.tooltip-example .example-label {
  font-style: normal;
  margin-right: 0.5rem;
  font-size: 1.1rem;
}

.quiz-option {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.2);
  padding: 0.85rem 1.25rem;
  border-radius: 0.85rem;
  font-size: 1.2rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-family: var(--arabic-font);
  text-align: center;
  color: white;
  position: relative;
  overflow: hidden;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  line-height: 1.5;
}

/* Dynamic font sizing for long options */
.quiz-option.long-text {
  font-size: 1.1rem;
  padding: 1rem 1.2rem;
}

.quiz-option.very-long-text {
  font-size: 0.95rem;
  padding: 0.9rem 1rem;
  line-height: 1.4;
}

.quiz-option::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent);
  transition: left 0.5s;
}

.quiz-option:hover {
  transform: translateY(-3px) scale(1.02);
  border-color: rgba(255, 255, 255, 0.4);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.2) inset;
}

.quiz-option:hover::before {
  left: 100%;
}

.quiz-option:active {
  transform: translateY(-1px) scale(0.98);
}

.quiz-option.correct {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  border-color: #16a34a;
  color: white;
  box-shadow: 0 10px 40px rgba(34, 197, 94, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.3) inset;
  animation: correct-pulse 0.6s ease-out;
}

.quiz-option.correct::after {
  content: "✓";
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.8rem;
  animation: pop-in 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.quiz-option.wrong {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  border-color: #dc2626;
  color: white;
  opacity: 0.6;
  box-shadow: 0 5px 20px rgba(239, 68, 68, 0.4);
  animation: wrong-shake 0.5s ease-out;
}

.quiz-option.wrong::after {
  content: "✗";
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.8rem;
}

@keyframes correct-pulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.05);
  }
}

@keyframes wrong-shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-10px);
  }

  75% {
    transform: translateX(10px);
  }
}

/* ===== LIGHT MODE QUIZ IMPROVEMENTS ===== */
/* Better contrast and readability for light theme */

/* Quiz Container Light Mode */
:root:not([data-theme="dark"]) #quizInlineContainer,
html:not([data-theme="dark"]) #quizInlineContainer {
  background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 40%, #e0f2fe 100%);
  border: 1px solid rgba(34, 211, 238, 0.3);
}

/* Question Card - Light Mode */
:root:not([data-theme="dark"]) .question-card,
html:not([data-theme="dark"]) .question-card {
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(56, 189, 248, 0.2);
  box-shadow: 0 8px 32px rgba(56, 189, 248, 0.1);
}

/* Question Title - Light Mode */
:root:not([data-theme="dark"]) .question-card h3,
html:not([data-theme="dark"]) .question-card h3 {
  color: #dc2626;
  text-shadow: none;
}

/* Quiz Example - Light Mode */
:root:not([data-theme="dark"]) .quiz-example,
html:not([data-theme="dark"]) .quiz-example {
  color: #475569;
  background: rgba(56, 189, 248, 0.08);
  border-left-color: #dc2626;
}

/* Quiz Options - Light Mode */
:root:not([data-theme="dark"]) .quiz-option,
html:not([data-theme="dark"]) .quiz-option {
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid #22d3ee;
  color: #1e40af;
  text-shadow: none;
  box-shadow: 0 4px 15px rgba(34, 211, 238, 0.15);
}

:root:not([data-theme="dark"]) .quiz-option:hover,
html:not([data-theme="dark"]) .quiz-option:hover {
  background: rgba(255, 255, 255, 1);
  border-color: #06b6d4;
  box-shadow: 0 10px 30px rgba(34, 211, 238, 0.25);
}

/* Quiz Score - Light Mode */
:root:not([data-theme="dark"]) .quiz-score-inline,
html:not([data-theme="dark"]) .quiz-score-inline {
  background: rgba(255, 255, 255, 0.9);
  color: #1e40af;
  border: 1px solid rgba(34, 211, 238, 0.3);
  box-shadow: 0 2px 10px rgba(34, 211, 238, 0.2);
}

/* Quiz Header Title - Light Mode */
:root:not([data-theme="dark"]) .quiz-header-compact h2,
html:not([data-theme="dark"]) .quiz-header-compact h2 {
  color: #1e3a8a;
}

/* Close Button - Light Mode */
:root:not([data-theme="dark"]) .close-btn,
html:not([data-theme="dark"]) .close-btn {
  background: rgba(56, 189, 248, 0.1);
  border: 1px solid rgba(56, 189, 248, 0.2);
  color: #dc2626;
}

:root:not([data-theme="dark"]) .close-btn:hover,
html:not([data-theme="dark"]) .close-btn:hover {
  background: rgba(56, 189, 248, 0.2);
  color: #4f46e5;
}

/* Quiz Favorite Button - Light Mode */
:root:not([data-theme="dark"]) .quiz-fav-btn-header,
html:not([data-theme="dark"]) .quiz-fav-btn-header {
  background: rgba(251, 191, 36, 0.15);
  border: 1px solid rgba(251, 191, 36, 0.3);
  color: #f59e0b;
}

/* End Screen - Light Mode */
:root:not([data-theme="dark"]) .end-title,
html:not([data-theme="dark"]) .end-title {
  color: #1e3a8a;
  text-shadow: none;
}

:root:not([data-theme="dark"]) .end-score-value,
html:not([data-theme="dark"]) .end-score-value {
  color: #dc2626;
  text-shadow: none;
}

:root:not([data-theme="dark"]) .end-message,
html:not([data-theme="dark"]) .end-message {
  color: #475569;
}

/* Next Button - Light Mode */
:root:not([data-theme="dark"]) .action-btn.primary,
:root:not([data-theme="dark"]) #nextQuestion,
html:not([data-theme="dark"]) .action-btn.primary,
html:not([data-theme="dark"]) #nextQuestion {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  border: none;
  color: white;
  box-shadow: 0 4px 15px rgba(56, 189, 248, 0.4);
}

:root:not([data-theme="dark"]) .action-btn.primary:hover,
:root:not([data-theme="dark"]) #nextQuestion:hover,
html:not([data-theme="dark"]) .action-btn.primary:hover,
html:not([data-theme="dark"]) #nextQuestion:hover {
  background: linear-gradient(135deg, #4f46e5 0%, #1e3a8a 100%);
  box-shadow: 0 6px 20px rgba(56, 189, 248, 0.5);
}

/* ===== END LIGHT MODE QUIZ IMPROVEMENTS ===== */

/* ===== DARK MODE QUIZ IMPROVEMENTS ===== */
/* Enhanced contrast and readability for dark theme */

/* Quiz Container Dark Mode - Premium Glossy Corners */
[data-theme="dark"] #quizInlineContainer {
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
  border: none;
  border-radius: 2rem;
  /* Impressive rounded corners */
  position: relative;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Corner Glow Effects - Animated Turquoise Dot */
[data-theme="dark"] #quizInlineContainer::before {
  content: "";
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.9) 0%,
      rgba(6, 182, 212, 0.5) 40%,
      transparent 70%);
  box-shadow: 0 0 10px rgba(56, 189, 248, 0.8), 0 0 20px rgba(6, 182, 212, 0.4);
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  animation: corner-glow-1 40s ease-in-out infinite;
}

[data-theme="dark"] #quizInlineContainer::after {
  content: "";
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle,
      rgba(56, 189, 248, 0.9) 0%,
      rgba(6, 182, 212, 0.5) 40%,
      transparent 70%);
  box-shadow: 0 0 10px rgba(56, 189, 248, 0.8), 0 0 20px rgba(6, 182, 212, 0.4);
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  animation: corner-glow-2 40s ease-in-out infinite;
}

/* Question Card - Dark Mode Enhanced */
[data-theme="dark"] .question-card {
  background: linear-gradient(135deg,
      rgba(56, 189, 248, 0.15) 0%,
      rgba(30, 58, 138, 0.1) 100%);
  border: 1px solid rgba(56, 189, 248, 0.4);
  box-shadow: 0 8px 32px rgba(56, 189, 248, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

/* Question Title - Dark Mode */
[data-theme="dark"] .question-card h3 {
  color: #a5b4fc;
  text-shadow: 0 2px 10px rgba(56, 189, 248, 0.4);
}

/* Quiz Example - Dark Mode */
[data-theme="dark"] .quiz-example {
  color: rgba(255, 255, 255, 0.85);
  background: rgba(56, 189, 248, 0.15);
  border-left-color: #818cf8;
}

/* Quiz Options - Dark Mode Enhanced */
[data-theme="dark"] .quiz-option {
  background: rgba(30, 41, 59, 0.9);
  border: 2px solid rgba(148, 163, 184, 0.3);
  color: #e2e8f0;
  text-shadow: none;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .quiz-option:hover {
  background: rgba(51, 65, 85, 0.95);
  border-color: #818cf8;
  box-shadow: 0 10px 30px rgba(56, 189, 248, 0.3),
    0 0 0 1px rgba(129, 140, 248, 0.2) inset;
}

/* Quiz Score - Dark Mode */
[data-theme="dark"] .quiz-score-inline {
  background: rgba(30, 41, 59, 0.9);
  color: #22d3ee;
  border: 1px solid rgba(34, 211, 238, 0.3);
  box-shadow: 0 2px 10px rgba(34, 211, 238, 0.2);
}

/* Quiz Header Title - Dark Mode */
[data-theme="dark"] .quiz-header-compact h2 {
  color: #e2e8f0;
}

/* Close Button - Dark Mode */
[data-theme="dark"] .close-btn {
  background: rgba(51, 65, 85, 0.8);
  border: 1px solid rgba(148, 163, 184, 0.3);
  color: #e2e8f0;
}

[data-theme="dark"] .close-btn:hover {
  background: rgba(71, 85, 105, 0.9);
  color: #f8fafc;
}

/* Quiz Favorite Button - Dark Mode */
[data-theme="dark"] .quiz-fav-btn-header {
  background: rgba(251, 191, 36, 0.15);
  border: 1px solid rgba(251, 191, 36, 0.3);
  color: #fbbf24;
}

/* End Screen - Dark Mode */
[data-theme="dark"] .end-title {
  color: #e2e8f0;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .end-score-value {
  color: #818cf8;
  text-shadow: 0 2px 15px rgba(56, 189, 248, 0.5);
}

[data-theme="dark"] .end-message {
  color: #94a3b8;
}

/* Next Button - Dark Mode */
[data-theme="dark"] .action-btn.primary,
[data-theme="dark"] #nextQuestion {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  border: none;
  color: white;
  box-shadow: 0 4px 15px rgba(56, 189, 248, 0.4);
}

[data-theme="dark"] .action-btn.primary:hover,
[data-theme="dark"] #nextQuestion:hover {
  background: linear-gradient(135deg, #818cf8 0%, #a78bfa 100%);
  box-shadow: 0 6px 20px rgba(56, 189, 248, 0.5);
}

/* ===== END DARK MODE QUIZ IMPROVEMENTS ===== */

@keyframes pop-in {
  0% {
    transform: translateY(-50%) scale(0);
    opacity: 0;
  }

  50% {
    transform: translateY(-50%) scale(1.3);
  }

  100% {
    transform: translateY(-50%) scale(1);
    opacity: 1;
  }
}

.quiz-feedback {
  text-align: center;
  padding: 1rem;
  border-radius: 1rem;
  font-weight: 700;
  font-size: 1.1rem;
  margin: 1rem 0;
  animation: slide-up 0.4s ease-out;
}

.action-btn.primary,
#nextQuestion {
  width: 100%;
  padding: 1.25rem;
  background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.2) 0%,
      rgba(255, 255, 255, 0.1) 100%);
  backdrop-filter: blur(10px);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 1rem;
  font-size: 1.2rem;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.action-btn.primary::before,
#nextQuestion::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.action-btn.primary:hover,
#nextQuestion:hover {
  transform: translateY(-3px);
  border-color: rgba(255, 255, 255, 0.5);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 255, 255, 0.1);
}

.action-btn.primary:hover::before,
#nextQuestion:hover::before {
  width: 300px;
  height: 300px;
}

.action-btn.primary:active,
#nextQuestion:active {
  transform: translateY(-1px);
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Delight: Pulse Animation */
.pulse-on-load {
  animation: pulse-border 2s ease-out;
}

/* ====================================
   Word of the Day Modal Styles - Enhanced
   ==================================== */

#wodModal .modal-content {
  max-width: 700px;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: var(--surface);
  border-radius: 1.5rem;
}

#wodModal .wod-modal-body {
  overflow-y: auto;
  padding: 0;
  flex: 1;
}

#wodModal .details-container {
  padding: 0;
}

/* Hero Section - Premium Design for Modal */
#wodModal .details-hero {
  background: linear-gradient(135deg, #1e3a8a 0%, #1e3a8a 50%, #0ea5e9 100%);
  padding: 3rem 2rem;
  margin: 0;
  border-radius: 0;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 91, 150, 0.3);
}

#wodModal .details-hero::before {
  content: "";
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 70%);
  animation: rotate-glow 20s linear infinite;
}

@keyframes rotate-glow {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

#wodModal .details-hero-content {
  position: relative;
  z-index: 1;
}

#wodModal .word-swe-hero {
  font-size: 3rem;
  font-weight: 900;
  color: white;
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(255, 255, 255, 0.2);
  margin: 0 0 1rem 0;
  line-height: 1.2;
  text-align: center;
}

#wodModal .word-arb-hero {
  font-size: 2rem;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
  font-family: var(--arabic-font);
  direction: rtl;
  margin: 1rem 0;
  text-align: center;
}

#wodModal .type-badge-hero {
  display: inline-block;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.3);
  padding: 0.5rem 1.5rem;
  border-radius: 50px;
  font-size: 0.9rem;
  font-weight: 700;
  color: white;
  text-transform: uppercase;
  letter-spacing: 1px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* Content Sections - Premium Design */
#wodModal .details-section {
  background: var(--surface);
  border-radius: 1.5rem;
  padding: 2rem;
  margin: 1.5rem;
  margin-top: 0;
  border: 2px solid transparent;
  background-image: linear-gradient(var(--surface), var(--surface)),
    linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#wodModal .details-section:first-of-type {
  margin-top: 1.5rem;
}

#wodModal .details-section:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 40px rgba(0, 91, 150, 0.15);
}

#wodModal .section-title {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-size: 1.2rem;
  font-weight: 800;
  color: var(--primary);
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--border);
}

#wodModal .section-icon {
  font-size: 1.3rem;
}

/* Definition Styles */
#wodModal .def-item {
  padding: 1.25rem;
  background: var(--background);
  border-radius: 1rem;
  border-left: 4px solid #1e3a8a;
  transition: all 0.3s ease;
  margin-bottom: 1rem;
}

#wodModal .def-item:hover {
  transform: translateX(5px);
  border-left-color: #0ea5e9;
  box-shadow: 0 5px 15px rgba(0, 91, 150, 0.1);
}

#wodModal .def-swe-detail {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

#wodModal .def-arb-detail {
  font-size: 1.1rem;
  font-weight: 600;
  font-family: var(--arabic-font);
  color: var(--text-secondary);
  direction: rtl;
  line-height: 1.8;
}

/* Forms Section */
#wodModal .forms-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
}

#wodModal .form-chip {
  background: linear-gradient(135deg,
      rgba(0, 91, 150, 0.1) 0%,
      rgba(14, 165, 233, 0.1) 100%);
  border: 2px solid rgba(0, 91, 150, 0.2);
  padding: 0.6rem 1.2rem;
  border-radius: 50px;
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--primary);
  transition: all 0.3s ease;
}

#wodModal .form-chip:hover {
  background: linear-gradient(135deg,
      rgba(0, 91, 150, 0.2) 0%,
      rgba(14, 165, 233, 0.2) 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 91, 150, 0.2);
}

/* Examples & Idioms */
#wodModal .example-card {
  background: linear-gradient(135deg,
      rgba(0, 91, 150, 0.05) 0%,
      rgba(14, 165, 233, 0.05) 100%);
  border-radius: 1.25rem;
  padding: 1.5rem;
  margin-bottom: 1rem;
  border: 2px solid rgba(0, 91, 150, 0.1);
  position: relative;
  overflow: hidden;
}

#wodModal .example-card::before {
  content: '"';
  position: absolute;
  top: -10px;
  left: 10px;
  font-size: 5rem;
  color: rgba(0, 91, 150, 0.1);
  font-family: Georgia, serif;
  line-height: 1;
}

#wodModal .ex-swe-detail {
  font-size: 1.05rem;
  font-weight: 500;
  color: var(--text-main);
  margin-bottom: 0.75rem;
  position: relative;
  z-index: 1;
  font-style: italic;
}

#wodModal .ex-arb-detail {
  font-size: 1.05rem;
  font-weight: 600;
  font-family: var(--arabic-font);
  color: var(--primary);
  direction: rtl;
  font-style: italic;
}

/* Action Button */
#wodModal .action-btn-premium {
  padding: 1.25rem;
  background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
  color: white;
  border: none;
  border-radius: 1rem;
  font-size: 1.05rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 20px rgba(0, 91, 150, 0.3);
  position: relative;
  overflow: hidden;
}

#wodModal .action-btn-premium::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

#wodModal .action-btn-premium:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 30px rgba(0, 91, 150, 0.4);
}

#wodModal .action-btn-premium:hover::before {
  width: 300px;
  height: 300px;
}

/* Scrollbar Styling */
#wodModal .wod-modal-body::-webkit-scrollbar {
  width: 8px;
}

#wodModal .wod-modal-body::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 4px;
}

#wodModal .wod-modal-body::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
  border-radius: 4px;
}

#wodModal .wod-modal-body::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #1e3a8a 0%, #0ea5e9 100%);
}

/* Dark Mode Adjustments */
[data-theme="dark"] #wodModal .details-hero {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
}

[data-theme="dark"] #wodModal .word-swe-hero,
[data-theme="dark"] #wodModal .word-arb-hero {
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.6), 0 0 40px rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] #wodModal .details-section {
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] #wodModal .details-section:hover {
  box-shadow: 0 15px 40px rgba(14, 165, 233, 0.2);
}

/* Responsive Design */
@media (max-width: 768px) {
  #wodModal .modal-content {
    max-width: 95%;
  }

  #wodModal .word-swe-hero {
    font-size: 2.2rem;
  }

  #wodModal .word-arb-hero {
    font-size: 1.6rem;
  }

  #wodModal .details-hero {
    padding: 2rem 1.5rem;
  }

  #wodModal .details-section {
    padding: 1.5rem;
    margin: 1rem;
  }
}

/* --- Search History & Empty State --- */
.history-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  width: 100%;
  max-width: 500px;
  margin: 0 auto;
  animation: fadeIn 0.5s ease;
}

.history-header {
  display: flex;
  align-items: center;
  font-size: 0.95rem;
  color: var(--text-secondary);
  width: 100%;
  justify-content: flex-start;
  padding-left: 0.5rem;
  margin-bottom: 0.5rem;
}

.history-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  width: 100%;
}

.history-chip {
  padding: 0.4rem 0.8rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 20px;
  font-size: 0.9rem;
  color: var(--text-main);
  cursor: pointer;
  transition: all 0.2s;
  user-select: none;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.history-chip:hover {
  background: var(--surface-raised);
  border-color: var(--accent);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.history-chip:active {
  transform: scale(0.96);
}

.clear-history-btn {
  margin-top: 1rem;
  background: none;
  border: none;
  color: var(--text-secondary);
  font-size: 0.85rem;
  cursor: pointer;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  opacity: 0.6;
  transition: all 0.2s;
}

.clear-history-btn:hover {
  opacity: 1;
  background: rgba(0, 0, 0, 0.03);
  color: var(--text-main);
}

.placeholder-icon {
  margin-bottom: 1rem;
  color: var(--text-tertiary);
  animation: floatOrb 6s ease-in-out infinite;
}

.placeholder-text {
  font-size: 1.1rem;
  color: var(--text-secondary);
  opacity: 0.8;
}

[data-theme="dark"] .history-chip {
  background: var(--surface-raised);
  border-color: var(--border);
}

[data-theme="dark"] .history-chip:hover {
  background: var(--surface-hover);
  border-color: var(--primary);
}

[data-theme="dark"] .clear-history-btn:hover {
  background: rgba(255, 255, 255, 0.05);
}

/* ========================================
   DATA LOADING PROGRESS INDICATOR
   ======================================== */

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 2rem;
  text-align: center;
}

.loading-text {
  font-size: 0.95rem;
  color: var(--text-secondary);
  font-weight: 500;
}

.loading-progress {
  width: 100%;
  max-width: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.progress-bar-container {
  width: 100%;
  height: 6px;
  background: var(--border);
  border-radius: 3px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  border-radius: 3px;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 0.8rem;
  color: var(--text-tertiary);
  font-weight: 600;
}

/* Dark mode adjustments */
[data-theme="dark"] .progress-bar-container {
  background: var(--surface-raised);
}

[data-theme="dark"] .progress-bar-fill {
  background: linear-gradient(90deg, #3b82f6, #60a5fa);
}

/* Spinner animation enhancement */
.spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

[data-theme="dark"] .spinner {
  border-color: var(--surface-raised);
  border-top-color: var(--primary);
}

/* ========================================
   UTILITY CLASSES FOR INLINE STYLE REPLACEMENT
   ======================================== */

/* Display utilities */
.hidden {
  display: none !important;
}

.visibility-hidden {
  visibility: hidden;
}

/* Settings dropdown layout */
.settings-dropdown-layout {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  align-items: center;
}

/* Icon color utilities */
.icon-color-blue {
  color: #1d4ed8;
}

.icon-color-amber {
  color: #f59e0b;
}

.icon-color-star {
  color: #f59e0b;
}

.icon-color-indigo {
  color: #3b82f6;
}

.icon-color-blue {
  color: #1d4ed8;
}

.icon-color-blue {
  color: #3b82f6;
}

.icon-color-green {
  color: #22c55e;
}

.icon-color-emerald {
  color: #10b981;
}

.icon-color-cyan {
  color: #06b6d4;
}

.icon-color-slate {
  color: #64748b;
}

.icon-color-blue-light {
  color: #3b82f6;
}

/* Profile link styling */
.profile-link {
  text-decoration: none;
  margin-bottom: 0.5rem;
  margin-right: 12px;
}

/* Container utilities */
.container-flashcard-inline {
  max-width: 700px;
  margin: 0 auto;
  position: relative;
  z-index: 29;
}

.container-quiz-inline {
  max-width: 700px;
  margin: 0 auto;
  position: relative;
  z-index: 30;
}

/* Next button styled */
.next-btn-styled {
  margin-top: 1rem;
  width: 100%;
  background: linear-gradient(135deg, #3b82f6 0%, #dc2626 100%) !important;
  border: none;
  color: white;
  font-weight: 600;
  font-size: 1rem;
  padding: 0.875rem 1.5rem;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
  transition: all 0.3s ease;
}

.next-btn-styled:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
}

.next-btn-styled:active {
  transform: translateY(0);
}

/* Embedded image in text */
.inline-icon-img {
  width: 20px;
  vertical-align: middle;
}

/* Challenges section */
.challenges-section-styled {
  max-width: 1200px;
  margin: 1rem auto;
  padding: 0 1rem;
}

.challenges-card-styled {
  background: var(--surface);
  padding: 1rem;
  border-radius: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.challenges-card-styled h3 {
  margin-bottom: 1rem;
  color: var(--text);
}

.challenges-list-styled {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

/* ========================================
   ONBOARDING STYLES (from index.html)
   ======================================== */
.onboarding-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.95);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.onboarding-container {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border-radius: 24px;
  padding: 2rem;
  max-width: 400px;
  width: 90%;
  text-align: center;
  position: relative;
  border: 1px solid rgba(37, 99, 235, 0.3);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.onboarding-skip {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: #94a3b8;
  font-size: 0.9rem;
  cursor: pointer;
  padding: 0.5rem;
}

.onboarding-skip:hover {
  color: #f8fafc;
}

.onboarding-slides {
  min-height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.onboarding-slide {
  display: none;
  flex-direction: column;
  align-items: center;
  animation: slideIn 0.4s ease;
}

.onboarding-slide.active {
  display: flex;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(20px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-icon {
  font-size: 4rem;
  margin-bottom: 1.5rem;
  animation: bounce 2s infinite;
}

@keyframes bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.onboarding-slide h2 {
  color: #f8fafc;
  font-size: 1.5rem;
  margin: 0 0 0.5rem 0;
}

.onboarding-slide h3 {
  color: #dc2626;
  font-size: 1.2rem;
  margin: 0 0 1rem 0;
  font-family: "Tajawal", sans-serif;
}

.onboarding-slide p {
  color: #94a3b8;
  margin: 0.25rem 0;
  font-size: 0.95rem;
}

.onboarding-dots {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin: 1.5rem 0;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #334155;
  cursor: pointer;
  transition: all 0.3s;
}

.dot.active {
  background: #dc2626;
  transform: scale(1.2);
}

.onboarding-nav {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
}

.onboarding-btn {
  flex: 1;
  padding: 0.875rem 1.5rem;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  border: none;
}

.onboarding-btn.primary {
  background: linear-gradient(135deg, #3b82f6, #1e40af);
  color: white;
}

.onboarding-btn.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.4);
}

.onboarding-btn.secondary {
  background: #334155;
  color: #f8fafc;
}

.onboarding-btn.secondary:hover {
  background: #475569;
}

/* Dark mode adjustments */
body.dark-mode .onboarding-container {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
}

/* ========================================
   شريط الاختصارات السريعة - Quick Actions
   ======================================== */
.quick-actions-bar {
  display: flex;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.5rem 0.75rem;
  margin: 0 1rem 0.4rem;
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .quick-actions-bar {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
}

.quick-action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.3rem 0.65rem;
  min-width: 45px;

  /* Glassmorphism Style - Matching Titles */
  background: rgba(59, 130, 246, 0.15);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 0.75rem;
  color: #3b82f6;
  text-decoration: none;
  cursor: pointer;

  /* Subtle Shadow */
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  text-shadow: none;

  transition: all 0.3s ease;
}

.quick-action-btn:hover {
  transform: translateY(-2px);
  background: rgba(59, 130, 246, 0.25);
  border-color: rgba(59, 130, 246, 0.5);
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.quick-action-btn:active {
  transform: scale(0.95);
  background: rgba(59, 130, 246, 0.3);
}

/* الوضع الفاتح */
[data-theme="light"] .quick-action-btn {
  background: rgba(59, 130, 246, 0.1);
  color: #dc2626;
  border-color: rgba(59, 130, 246, 0.25);
}

[data-theme="light"] .quick-action-btn:hover {
  background: rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.4);
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.quick-icon {
  font-size: 1.3rem;
  transition: transform 0.2s ease;
  display: inline-block;
}

.quick-label {
  font-size: 0.7rem;
  font-weight: 600;
  opacity: 0.9;
}

/* الوضع المظلم */
[data-theme="dark"] .quick-action-btn {
  background: rgba(96, 165, 250, 0.2);
  border-color: rgba(96, 165, 250, 0.3);
  color: #93c5fd;
  box-shadow: 0 4px 15px rgba(96, 165, 250, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .quick-action-btn:hover {
  background: rgba(96, 165, 250, 0.3);
  border-color: rgba(96, 165, 250, 0.5);
  box-shadow: 0 8px 20px rgba(96, 165, 250, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* ========================================
   شريط التقدم اليومي - Daily Progress
   ======================================== */
.daily-progress-bar {
  margin: 0 1rem 0.75rem;
  padding: 0.75rem 1rem;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .daily-progress-bar {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
}

.progress-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.progress-label {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-main);
}

.progress-count {
  font-size: 0.85rem;
  font-weight: 700;
  color: #3b82f6;
}

.progress-track {
  height: 10px;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  overflow: hidden;
}

[data-theme="dark"] .progress-track {
  background: rgba(255, 255, 255, 0.1);
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3b82f6, #22c55e);
  border-radius: 5px;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.progress-fill::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

/* ========================================
   بطاقة التحدي اليومي - Daily Challenge (Compact)
   ======================================== */
/* ========================================
   بطاقة التحدي اليومي - Daily Challenge (Modern Widget)
   ======================================== */
.daily-challenge-card {
  position: relative;
  margin: 1.5rem 1rem;
  padding: 1.5rem;
  background: linear-gradient(145deg,
      rgba(255, 255, 255, 0.95),
      rgba(255, 255, 255, 0.85));
  border-radius: 1.5rem;
  box-shadow: 0 10px 30px -5px rgba(37, 99, 235, 0.15),
    0 4px 10px -3px rgba(37, 99, 235, 0.1),
    inset 0 0 0 1px rgba(255, 255, 255, 0.8);
  overflow: hidden;
  isolation: isolate;
  border: 1px solid rgba(255, 255, 255, 0.6);
}

/* Gradient Border Glow Effect */
.daily-challenge-card::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 2px;
  border-radius: 1.5rem;
  background: linear-gradient(135deg, #3b82f6, #1e40af, #60a5fa);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.5;
}

/* Glassmorphism Background Shapes */
.daily-challenge-card::after {
  content: "";
  position: absolute;
  top: -50%;
  right: -20%;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle,
      rgba(37, 99, 235, 0.1) 0%,
      transparent 70%);
  z-index: -1;
  filter: blur(20px);
}

[data-theme="dark"] .daily-challenge-card {
  background: linear-gradient(145deg,
      rgba(30, 41, 59, 0.9),
      rgba(15, 23, 42, 0.95));
  border-color: rgba(255, 255, 255, 0.05);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .daily-challenge-card::before {
  opacity: 0.8;
}

.challenge-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.challenge-icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 3rem;
  height: 3rem;
  background: linear-gradient(135deg, #fffbeb, #fef3c7);
  border-radius: 1rem;
  box-shadow: 0 4px 6px rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(251, 191, 36, 0.2);
}

[data-theme="dark"] .challenge-icon-wrapper {
  background: rgba(251, 191, 36, 0.1);
  border-color: rgba(251, 191, 36, 0.2);
}

.challenge-icon {
  font-size: 1.5rem;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.1));
}

.challenge-title {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
  color: #64748b;
  margin-right: auto;
  margin-left: 1rem;
}

[data-theme="dark"] .challenge-title {
  color: #94a3b8;
}

.challenge-text {
  font-size: 1.25rem;
  font-weight: 800;
  color: #1e293b;
  margin-bottom: 1.5rem;
  line-height: 1.3;
  letter-spacing: -0.02em;
  max-width: 90%;
}

[data-theme="dark"] .challenge-text {
  color: #f1f5f9;
}

.challenge-progress {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(0, 0, 0, 0.03);
  padding: 0.5rem;
  border-radius: 1rem;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

[data-theme="dark"] .challenge-progress {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.05);
}

/* Custom Progress Bar styling would typically go here, 
   but we are using the text counter for now. 
   Enhanced counter styles: */
.challenge-progress span {
  font-size: 1.1rem;
  font-weight: 800;
  color: #4f46e5;
  background: #fff;
  padding: 0.4rem 1.2rem;
  border-radius: 0.8rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  min-width: 80px;
  text-align: center;
  font-variant-numeric: tabular-nums;
}

[data-theme="dark"] .challenge-progress span {
  background: #334155;
  color: #818cf8;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.challenge-claim-btn {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: white;
  border: none;
  padding: 0.5rem 1.25rem;
  border-radius: 0.8rem;
  font-weight: 700;
  font-size: 0.95rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
  transition: all 0.2s ease;
}

.challenge-claim-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(34, 197, 94, 0.4);
}

[data-theme="dark"] .challenge-progress {
  background: rgba(0, 0, 0, 0.2);
  border-color: rgba(251, 191, 36, 0.15);
}

.challenge-progress span {
  font-size: 1.3rem;
  font-weight: 900;
  color: #7c2d12;
  background: rgba(255, 255, 255, 0.95);
  padding: 2px 10px;
  border-radius: 0.5rem;
  font-variant-numeric: tabular-nums;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  min-width: 3rem;
  text-align: center;
}

[data-theme="dark"] .challenge-progress span {
  color: #451a03;
  background: #fbbf24;
  box-shadow: 0 2px 8px rgba(251, 191, 36, 0.25);
}

.challenge-claim-btn {
  padding: 0.35rem 0.75rem;
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-size: 0.75rem;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s;
}

.challenge-claim-btn:hover {
  transform: scale(1.05);
}

@keyframes pulse {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }

  50% {
    box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
  }
}

/* ========================================
   إشعارات الإنجازات - Achievement Toast
   ======================================== */
.achievement-toast {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%) translateY(-100px);
  padding: 1rem 1.5rem;
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color: #78350f;
  border-radius: 1rem;
  box-shadow: 0 10px 30px rgba(251, 191, 36, 0.4);
  z-index: 10000;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-weight: 700;
  opacity: 0;
  transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55),
    opacity 0.3s;
}

.achievement-toast.show {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

.achievement-toast .achievement-icon {
  font-size: 2rem;
  animation: spin 1s ease-out;
}

@keyframes spin {
  0% {
    transform: rotate(0deg) scale(0);
  }

  50% {
    transform: rotate(180deg) scale(1.2);
  }

  100% {
    transform: rotate(360deg) scale(1);
  }
}

/* Difficulty Select in Quiz Header */
.difficulty-select-compact {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: none;
  border-radius: 12px;
  padding: 0.4rem 2rem 0.4rem 0.8rem;
  color: white;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  -webkit-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  background-size: 1em;
  outline: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: background 0.2s;
  max-width: 130px;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.difficulty-select-compact:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Page Transitions & Animations */
@keyframes pageFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

body>.container,
main,
.game-container,
.modal-content {
  animation: pageFadeIn 0.4s ease-out forwards;
}

.modal.hidden {
  display: none;
  opacity: 0;
}

.modal:not(.hidden) {
  animation: fadeInModal 0.3s ease-out forwards;
  display: flex;
}

@keyframes fadeInModal {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Smooth transitions for theme changes */
body,
.card,
.container,
header,
footer,
.modal-content {
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease, box-shadow 0.3s ease;
}

.difficulty-select-compact option {
  background: #1e293b;
  color: white;
}

/* ========================================
   SPLASH SCREEN
   ======================================== */

.splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
}

.splash-screen.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.splash-content {
  text-align: center;
  animation: splashFadeIn 0.6s ease-out;
}

@keyframes splashFadeIn {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.splash-logo {
  font-size: 5rem;
  margin-bottom: 1rem;
  animation: splashBounce 1s ease-in-out infinite;
}

@keyframes splashBounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.splash-title {
  font-family: "Inter", sans-serif;
  font-size: 2.5rem;
  font-weight: 700;
  color: #fff;
  margin: 0 0 0.5rem 0;
  letter-spacing: 1px;
}

.splash-subtitle {
  font-family: "Tajawal", sans-serif;
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.7);
  margin: 0 0 2rem 0;
  line-height: 1.6;
}

.splash-loader {
  width: 200px;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  margin: 0 auto;
  overflow: hidden;
}

.splash-loader-bar {
  height: 100%;
  width: 30%;
  background: linear-gradient(90deg, #3b82f6, #60a5fa, #3b82f6);
  background-size: 200% 100%;
  border-radius: 4px;
  animation: splashLoaderSlide 1.5s ease-in-out infinite;
}

@keyframes splashLoaderSlide {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(400%);
  }
}

/* Light mode splash */
[data-theme="light"] .splash-screen {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 50%, #60a5fa 100%);
}

/* ========================================
   ENHANCED TOAST NOTIFICATIONS
   ======================================== */

.toast-notification {
  position: fixed;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: rgba(30, 30, 30, 0.95);
  color: #fff;
  padding: 12px 24px;
  border-radius: 12px;
  font-weight: 500;
  font-size: 0.95rem;
  z-index: 10000;
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
  max-width: 90%;
  text-align: center;
}

.toast-notification.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
}

/* Toast Types */
.toast-notification.toast-success {
  background: linear-gradient(135deg,
      rgba(34, 197, 94, 0.95),
      rgba(22, 163, 74, 0.95));
  border-color: rgba(74, 222, 128, 0.3);
}

.toast-notification.toast-error {
  background: linear-gradient(135deg,
      rgba(239, 68, 68, 0.95),
      rgba(220, 38, 38, 0.95));
  border-color: rgba(248, 113, 113, 0.3);
}

.toast-notification.toast-warning {
  background: linear-gradient(135deg,
      rgba(245, 158, 11, 0.95),
      rgba(217, 119, 6, 0.95));
  border-color: rgba(251, 191, 36, 0.3);
}

.toast-notification.toast-info {
  background: linear-gradient(135deg,
      rgba(59, 130, 246, 0.95),
      rgba(37, 99, 235, 0.95));
  border-color: rgba(96, 165, 250, 0.3);
}

/* Light mode toast */
[data-theme="light"] .toast-notification {
  background: rgba(255, 255, 255, 0.95);
  color: #1f2937;
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
}

[data-theme="light"] .toast-notification.toast-success,
[data-theme="light"] .toast-notification.toast-error,
[data-theme="light"] .toast-notification.toast-warning,
[data-theme="light"] .toast-notification.toast-info {
  color: #fff;
}

/* ========================================
   OFFLINE STATUS BANNER
   ======================================== */

.offline-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: #fff;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-weight: 500;
  font-size: 0.9rem;
  z-index: 9999;
  transform: translateY(-100%);
  transition: transform 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.offline-banner:not(.hidden) {
  transform: translateY(0);
}

.offline-icon {
  font-size: 1.2rem;
  animation: pulse 2s infinite;
}

/* ========================================
   APP UPDATE PROMPT
   ======================================== */

.update-prompt {
  position: fixed;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 9998;
}

.update-prompt:not(.hidden) {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

.update-content {
  display: flex;
  align-items: center;
  gap: 12px;
  background: linear-gradient(135deg,
      rgba(59, 130, 246, 0.95),
      rgba(37, 99, 235, 0.95));
  color: #fff;
  padding: 12px 16px;
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.update-icon {
  font-size: 1.5rem;
  animation: spin 2s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.update-text {
  font-weight: 500;
  font-size: 0.9rem;
}

.update-btn {
  background: #fff;
  color: #3b82f6;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.update-btn:hover {
  background: #f0f9ff;
  transform: scale(1.05);
}

.dismiss-btn {
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0 4px;
  line-height: 1;
}

.dismiss-btn:hover {
  color: #fff;
}

/* ========================================
   PREMIUM SPLASH SCREEN
   ======================================== */

/* Animated Gradient Background */
.splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(-45deg, #1a1a2e, #16213e, #0f3460, #1a1a2e);
  background-size: 400% 400%;
  animation: gradientShift 8s ease infinite;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  transition: opacity 0.6s ease-out, visibility 0.6s ease-out;
  overflow: hidden;
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* Floating Particles */
.splash-particles {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: rgba(59, 130, 246, 0.6);
  border-radius: 50%;
  animation: floatParticle 15s infinite;
  opacity: 0;
}

.particle:nth-child(1) {
  left: 10%;
  animation-delay: 0s;
  width: 8px;
  height: 8px;
}

.particle:nth-child(2) {
  left: 20%;
  animation-delay: 2s;
  width: 12px;
  height: 12px;
}

.particle:nth-child(3) {
  left: 35%;
  animation-delay: 4s;
  width: 6px;
  height: 6px;
}

.particle:nth-child(4) {
  left: 50%;
  animation-delay: 1s;
  width: 10px;
  height: 10px;
}

.particle:nth-child(5) {
  left: 65%;
  animation-delay: 3s;
  width: 14px;
  height: 14px;
}

.particle:nth-child(6) {
  left: 75%;
  animation-delay: 5s;
  width: 8px;
  height: 8px;
}

.particle:nth-child(7) {
  left: 85%;
  animation-delay: 2.5s;
  width: 6px;
  height: 6px;
}

.particle:nth-child(8) {
  left: 95%;
  animation-delay: 1.5s;
  width: 10px;
  height: 10px;
}

@keyframes floatParticle {
  0% {
    bottom: -20px;
    opacity: 0;
    transform: translateX(0) rotate(0deg);
  }

  10% {
    opacity: 0.8;
  }

  90% {
    opacity: 0.8;
  }

  100% {
    bottom: 100%;
    opacity: 0;
    transform: translateX(100px) rotate(720deg);
  }
}

/* Animated Waves */
.splash-waves {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 200px;
  overflow: hidden;
}

.wave {
  position: absolute;
  bottom: 0;
  left: -50%;
  width: 200%;
  height: 100%;
  background: linear-gradient(transparent, rgba(59, 130, 246, 0.1));
  border-radius: 50% 50% 0 0;
  animation: waveMove 6s ease-in-out infinite;
}

.wave-1 {
  animation-delay: 0s;
  opacity: 0.3;
}

.wave-2 {
  animation-delay: 1s;
  opacity: 0.2;
  height: 80%;
}

.wave-3 {
  animation-delay: 2s;
  opacity: 0.1;
  height: 60%;
}

@keyframes waveMove {

  0%,
  100% {
    transform: translateX(-25%) translateY(0);
  }

  50% {
    transform: translateX(0%) translateY(-10px);
  }
}

/* Content Container */
.splash-content {
  text-align: center;
  z-index: 10;
  animation: splashFadeIn 0.8s ease-out;
}

@keyframes splashFadeIn {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Glowing Logo */
.splash-logo-container {
  position: relative;
  display: inline-block;
  margin-bottom: 1rem;
}

.splash-logo-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  background: radial-gradient(circle,
      rgba(59, 130, 246, 0.4) 0%,
      transparent 70%);
  border-radius: 50%;
  animation: logoGlow 2s ease-in-out infinite;
}

@keyframes logoGlow {

  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }

  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
}

.splash-logo {
  font-size: 5rem;
  position: relative;
  animation: logoPulse 1.5s ease-in-out infinite;
  filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.5));
}

@keyframes logoPulse {

  0%,
  100% {
    transform: scale(1) translateY(0);
  }

  50% {
    transform: scale(1.05) translateY(-5px);
  }
}

/* Title */
.splash-title {
  font-family: "Inter", sans-serif;
  font-size: 2.8rem;
  font-weight: 800;
  color: #fff;
  margin: 0 0 0.5rem 0;
  letter-spacing: 2px;
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.splash-subtitle {
  font-family: "Tajawal", sans-serif;
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0 0 1.5rem 0;
  line-height: 1.6;
}

/* Stats Badge */
.splash-stats {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  padding: 8px 20px;
  border-radius: 30px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #fff;
  font-size: 0.95rem;
  margin-bottom: 2rem;
  animation: statsBadgeIn 0.6s ease-out 0.3s both;
}

@keyframes statsBadgeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.stats-icon {
  font-size: 1.2rem;
}

#splashWordCount {
  font-weight: 700;
  color: #60a5fa;
}

/* Progress Container */
.splash-progress-container {
  width: 280px;
  margin: 0 auto 1.5rem;
  animation: progressIn 0.4s ease-out both;
}

@keyframes progressIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.splash-loader {
  width: 100%;
  height: 6px;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 6px;
  overflow: hidden;
  position: relative;
}

.splash-loader-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #3b82f6, #60a5fa, #93c5fd);
  border-radius: 6px;
  transition: width 0.3s ease;
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
}

.splash-progress-text {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.7);
}

#splashPercent {
  font-weight: 600;
  color: #60a5fa;
}

/* Rotating Tips */
.splash-tip {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.6);
  max-width: 300px;
  margin: 0 auto;
  animation: tipFadeIn 0.6s ease-out 0.5s both;
  transition: opacity 0.3s ease;
}

@keyframes tipFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Hidden state */
.splash-screen.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* Mobile Adjustments */
@media (max-width: 480px) {
  .splash-logo {
    font-size: 4rem;
  }

  .splash-title {
    font-size: 2rem;
  }

  .splash-subtitle {
    font-size: 0.95rem;
  }

  .splash-progress-container {
    width: 240px;
  }

  .splash-tip {
    font-size: 0.8rem;
    max-width: 260px;
  }
}

/* ========================================
   Daily Challenge Card - Improved Layout
   ======================================== */
.challenge-left {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.challenge-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.challenge-title {
  margin: 0;
  font-size: 0.9rem;
  font-weight: 700;
  color: #475569;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

[data-theme="dark"] .challenge-title {
  color: #94a3b8;
}

.challenge-points {
  display: flex;
  align-items: center;
  gap: 0.2rem;
  background: linear-gradient(135deg, #10b981, #059669);
  padding: 0.3rem 0.6rem;
  border-radius: 0.6rem;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.challenge-points .points-value {
  font-size: 0.85rem;
  font-weight: 800;
  color: #fff;
}

.challenge-points .points-label {
  font-size: 0.65rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  text-transform: uppercase;
}

/* Progress Row - Bar on left, count on right */
.challenge-progress-row {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.challenge-progress-container.premium-bar .challenge-progress-track {
  flex: 1;
  height: 10px;
  background: rgba(0, 0, 0, 0.08);
  border-radius: 6px;
  overflow: hidden;
  position: relative;
}

[data-theme="dark"] .challenge-progress-container.premium-bar .challenge-progress-track {
  background: rgba(255, 255, 255, 0.1);
}

.challenge-progress-count {
  font-size: 1rem;
  font-weight: 800;
  color: #dc2626;
  background: rgba(37, 99, 235, 0.1);
  padding: 0.35rem 0.75rem;
  border-radius: 0.6rem;
  min-width: 50px;
  text-align: center;
  font-variant-numeric: tabular-nums;
  border: 1px solid rgba(37, 99, 235, 0.2);
}

[data-theme="dark"] .challenge-progress-count {
  background: rgba(129, 140, 248, 0.15);
  color: #a5b4fc;
  border-color: rgba(129, 140, 248, 0.3);
}

/* Compact card adjustments */
.daily-challenge-card {
  margin: 0.75rem 1rem;
  padding: 1rem 1.25rem;
}

.challenge-icon-wrapper {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 0.75rem;
}

.challenge-icon {
  font-size: 1.3rem;
}

/* Challenge Progress Button States */
.challenge-progress-count {
  cursor: default;
  transition: all 0.3s ease;
}

.challenge-progress-count.completed {
  background: linear-gradient(135deg, #22c55e, #16a34a) !important;
  color: #fff !important;
  border-color: transparent !important;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
  animation: pulseGreen 1.5s infinite;
}

.challenge-progress-count.completed:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 16px rgba(34, 197, 94, 0.5);
}

.challenge-progress-count.claimed {
  background: #22c55e !important;
  animation: none;
  cursor: default;
  opacity: 0.8;
}

@keyframes pulseGreen {

  0%,
  100% {
    box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
  }

  50% {
    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.6);
  }
}

[data-theme="dark"] .challenge-progress-count.completed,
[data-theme="dark"] .challenge-progress-count.claimed {
  background: linear-gradient(135deg, #22c55e, #16a34a) !important;
  color: #fff !important;
}

/* Pulse animation for WOD highlighting */
@keyframes pulse-animation {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(var(--primary-rgb), 0.4);
  }

  70% {
    transform: scale(1.02);
    box-shadow: 0 0 0 10px rgba(var(--primary-rgb), 0);
  }

  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(var(--primary-rgb), 0);
  }
}

/* Compact Search Cards - Fixed Height Layout */
.compact-card,
.card.card-link.compact-card {
  padding: 0.75rem 1rem !important;
  height: 120px !important;
  min-height: 120px !important;
  max-height: 120px !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: space-between !important;
  gap: 0.25rem !important;
  box-sizing: border-box !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.compact-card .card-header,
.card.compact-card .card-header {
  margin-bottom: 0 !important;
  align-items: center !important;
  flex-shrink: 0 !important;
  max-height: 40px !important;
  overflow: hidden !important;
}

.compact-card .word-header-group,
.card.compact-card .word-header-group {
  flex-wrap: nowrap !important;
  overflow: hidden !important;
  flex: 1 !important;
  min-width: 0 !important;
}

.compact-card h2.word-swe,
.card.compact-card h2.word-swe,
.compact-card .word-swe {
  font-size: 1.1rem !important;
  margin: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  max-width: calc(100% - 120px) !important;
  flex-shrink: 1 !important;
  line-height: 1.3 !important;
}

.compact-card .word-arb,
.card.compact-card .word-arb,
.compact-card p.word-arb {
  font-size: 1rem !important;
  margin: 0 !important;
  color: var(--text-main);
  opacity: 0.9;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  flex-shrink: 0 !important;
  max-height: 24px !important;
}

.action-button {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  color: var(--text-muted);
}

.action-button:hover {
  background: var(--bg-hover);
  color: var(--primary-color);
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

.action-button.active {
  color: #f59e0b;
  background: rgba(245, 158, 11, 0.1);
  border-color: #f59e0b;
}

[data-theme="dark"] .action-button {
  background: rgba(255, 255, 255, 0.05);
}

/* Inline Quiz Styles - PREMIUM UPGRADE */
.game-container {
  background: var(--surface);
  border-radius: 24px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  position: relative;
  overflow: visible;
  /* Glowing gradient border */
  border: 3px solid #dc2626;
  box-shadow: 0 0 20px rgba(37, 99, 235, 0.4), 0 0 40px rgba(168, 85, 247, 0.2),
    0 8px 32px rgba(0, 0, 0, 0.15);
  animation: quizBorderGlow 3s ease-in-out infinite;
}

@keyframes quizBorderGlow {

  0%,
  100% {
    border-color: #dc2626;
    box-shadow: 0 0 20px rgba(37, 99, 235, 0.4),
      0 0 40px rgba(168, 85, 247, 0.2);
  }

  50% {
    border-color: #3b82f6;
    box-shadow: 0 0 30px rgba(168, 85, 247, 0.5),
      0 0 60px rgba(236, 72, 153, 0.3);
  }
}

.game-container::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle,
      rgba(37, 99, 235, 0.1) 0%,
      transparent 70%);
  animation: quizGlow 8s ease-in-out infinite;
  pointer-events: none;
}

@keyframes quizGlow {

  0%,
  100% {
    transform: translate(0, 0);
  }

  50% {
    transform: translate(10%, 10%);
  }
}

.quiz-header-compact {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  position: relative;
  z-index: 1;
}

.quiz-header-compact h2 {
  font-size: 1.5rem;
  background: linear-gradient(135deg, #dc2626, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.quiz-header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.quiz-score-inline {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  padding: 8px 16px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 1.25rem;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.quiz-fav-btn-header {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.quiz-fav-btn-header:hover {
  background: rgba(239, 68, 68, 0.2);
  transform: scale(1.1);
}

.quiz-fav-btn-header.active svg {
  fill: #ef4444;
  stroke: #ef4444;
}

.question-card {
  background: var(--surface);
  padding: 2rem;
  border-radius: 16px;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 1;
}

.question-card h3 {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--text);
}

.quiz-example {
  color: var(--text-muted);
  font-style: italic;
  font-size: 0.95rem;
}

.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-top: 1.5rem;
  position: relative;
  z-index: 1;
  width: 80%;
  margin-left: auto;
  margin-right: auto;
  align-items: center;
}

.quiz-option {
  background: var(--surface);
  border: 2px solid var(--border-color);
  padding: 1rem 1.5rem;
  border-radius: 14px;
  font-size: 1.3rem;
  font-family: var(--arabic-font);
  cursor: pointer;
  transition: all 0.25s ease;
  text-align: center;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 60px;
  width: 100%;
}

.quiz-option::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent, rgba(37, 99, 235, 0.1));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.quiz-option:hover {
  border-color: #dc2626;
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(37, 99, 235, 0.2);
}

.quiz-option:hover::before {
  opacity: 1;
}

.quiz-option.correct {
  background: linear-gradient(135deg, #10b981, #059669) !important;
  color: white !important;
  border-color: transparent !important;
  animation: correctPulse 0.5s ease-out;
}

@keyframes correctPulse {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.05);
  }

  100% {
    transform: scale(1);
  }
}

.quiz-option.wrong {
  background: linear-gradient(135deg, #ef4444, #dc2626) !important;
  color: white !important;
  border-color: transparent !important;
  animation: wrongShake 0.5s ease-out;
}

@keyframes wrongShake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-8px);
  }

  75% {
    transform: translateX(8px);
  }
}

.quiz-feedback {
  margin-top: 1.5rem;
  text-align: center;
  font-weight: 700;
  font-size: 1.1rem;
  min-height: 1.5rem;
  position: relative;
  z-index: 1;
}

.quiz-feedback.correct {
  color: #10b981;
}

.quiz-feedback.wrong {
  color: #ef4444;
}

.quiz-end-screen {
  text-align: center;
  padding: 3rem 1.5rem;
  position: relative;
  z-index: 1;
}

.end-icon {
  font-size: 4rem;
  margin-bottom: 1.5rem;
  animation: bounce 1s ease infinite;
}

@keyframes bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.end-title {
  font-size: 1.75rem;
  background: linear-gradient(135deg, #dc2626, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 1rem;
}

.end-score {
  font-size: 3.5rem;
  font-weight: 800;
  margin-bottom: 0.5rem;
  color: var(--text);
}

.end-score-total {
  font-size: 1.5rem;
  color: var(--text-muted);
}

/* Quiz Timer */
.quiz-timer {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
  padding: 8px 14px;
  border-radius: 50px;
  font-weight: 800;
  font-size: 1.25rem;
  min-width: 40px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
  transition: all 0.3s ease;
}

.quiz-timer.warning {
  animation: timerPulse 0.5s ease infinite;
}

@keyframes timerPulse {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.15);
    background: #dc2626;
  }
}

/* Quiz Progress Bar */
.quiz-progress-bar {
  width: 100%;
  height: 6px;
  background: var(--border-color);
  border-radius: 3px;
  margin: 1rem 0;
  overflow: hidden;
}

.quiz-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #10b981, #059669);
  border-radius: 3px;
  transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  width: 0%;
}

/* Quiz Progress Text */
.quiz-progress-text {
  background: var(--bg-secondary);
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-muted);
}

/* Mode Selector */
.mode-select-compact {
  background: var(--surface);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 6px 10px;
  font-size: 0.85rem;
  color: var(--text);
  cursor: pointer;
  transition: all 0.2s ease;
}

.mode-select-compact:hover {
  border-color: #dc2626;
}

.quiz-header-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.quiz-header-left h2 {
  margin: 0;
}

/* End Stats */
.end-stats {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 1.5rem 0;
  padding: 1rem;
  background: var(--bg-secondary);
  border-radius: 12px;
}

.end-stat {
  display: flex;
  justify-content: space-between;
  font-size: 0.95rem;
  color: var(--text-muted);
}

.end-stat span:last-child {
  font-weight: 600;
  color: var(--text);
}

/* Confetti */
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  top: -20px;
  animation: confettiFall 3s ease forwards;
  pointer-events: none;
}

@keyframes confettiFall {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }

  100% {
    transform: translateY(500px) rotate(720deg);
    opacity: 0;
  }
}

.pulse-animation {
  animation: pulse-animation 0.5s ease-out;
}

/* Onboarding Styles */
.onboarding-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.95);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.onboarding-container {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border-radius: 24px;
  padding: 2rem;
  max-width: 400px;
  width: 90%;
  text-align: center;
  position: relative;
  border: 1px solid rgba(37, 99, 235, 0.3);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.onboarding-skip {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: #94a3b8;
  font-size: 0.9rem;
  cursor: pointer;
  padding: 0.5rem;
}

.onboarding-skip:hover {
  color: #f8fafc;
}

.onboarding-slides {
  min-height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.onboarding-slide {
  display: none;
  flex-direction: column;
  align-items: center;
  animation: slideIn 0.4s ease;
}

.onboarding-slide.active {
  display: flex;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(20px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-icon {
  font-size: 4rem;
  margin-bottom: 1.5rem;
  animation: bounce 2s infinite;
}

@keyframes bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.onboarding-slide h2 {
  color: #f8fafc;
  font-size: 1.5rem;
  margin: 0 0 0.5rem 0;
}

.onboarding-slide h3 {
  color: #dc2626;
  font-size: 1.2rem;
  margin: 0 0 1rem 0;
  font-family: 'Tajawal', sans-serif;
}

.onboarding-slide p {
  color: #94a3b8;
  margin: 0.25rem 0;
  font-size: 0.95rem;
}

.onboarding-dots {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin: 1.5rem 0;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #334155;
  cursor: pointer;
  transition: all 0.3s;
}

.dot.active {
  background: #dc2626;
  transform: scale(1.2);
}

.onboarding-nav {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
}

.onboarding-btn {
  flex: 1;
  padding: 0.875rem 1.5rem;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  border: none;
}

.onboarding-btn.primary {
  background: linear-gradient(135deg, #3b82f6, #1e40af);
  color: white;
}

.onboarding-btn.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.4);
}

.onboarding-btn.secondary {
  background: #334155;
  color: #f8fafc;
}

.onboarding-btn.secondary:hover {
  background: #475569;
}

/* Dark mode adjustments */
body.dark-mode .onboarding-container {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
}

/* ========================================
   MOBILE RESPONSIVE STYLES
   ======================================== */

/* Mobile - Progress Modal */
@media (max-width: 480px) {
  .progress-modal-content {
    max-width: 100%;
    width: 100%;
    max-height: 90vh;
    margin: 0;
    border-radius: 20px 20px 0 0;
  }

  .progress-modal-body {
    padding: 0.75rem;
    gap: 1rem;
  }

  .daily-progress-section {
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
  }

  .progress-ring-container {
    width: 100px;
    height: 100px;
  }

  .progress-ring-value {
    font-size: 1.5rem;
  }

  .daily-progress-info {
    text-align: center;
  }

  .streak-section {
    flex-direction: column;
    gap: 0.75rem;
  }

  .streak-card {
    width: 100%;
  }

  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }

  .stat-card {
    padding: 0.5rem;
  }

  .stat-card .stat-icon {
    font-size: 1.25rem;
  }

  .stat-card .stat-value {
    font-size: 1rem;
  }

  .activity-chart {
    height: 80px;
    gap: 4px;
  }

  .activity-legend {
    font-size: 0.65rem;
  }

  .goal-adjuster {
    flex-wrap: wrap;
    justify-content: center;
  }
}

/* Mobile - Quick Actions Bar */
@media (max-width: 480px) {
  .quick-actions-bar {
    gap: 0.25rem;
    padding: 0.4rem 0.5rem;
    margin: 0 0.5rem 0.3rem;
  }

  .quick-action-btn {
    padding: 0.25rem 0.5rem;
    min-width: 40px;
  }

  .quick-icon {
    font-size: 1.1rem;
  }

  .quick-label {
    font-size: 0.6rem;
  }
}

/* Mobile - Daily Progress Bar */
@media (max-width: 480px) {
  .daily-progress-bar {
    margin: 0 0.5rem 0.5rem;
    padding: 0.5rem 0.75rem;
  }

  .progress-label,
  .progress-count {
    font-size: 0.8rem;
  }

  .progress-track {
    height: 8px;
  }
}

/* Mobile - Daily Challenge Card */
@media (max-width: 480px) {
  .daily-challenge-card {
    margin: 1rem 0.5rem;
    padding: 1rem;
  }

  .challenge-icon-wrapper {
    width: 2.5rem;
    height: 2.5rem;
  }

  .challenge-icon {
    font-size: 1.25rem;
  }

  .challenge-title {
    font-size: 0.75rem;
  }

  .challenge-points .points-value {
    font-size: 1rem;
  }
}

/* Mobile - Onboarding */
@media (max-width: 480px) {
  .onboarding-container {
    width: 95%;
    padding: 1.5rem;
    border-radius: 20px;
  }

  .onboarding-slides {
    min-height: 240px;
  }

  .slide-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  .onboarding-slide h2 {
    font-size: 1.25rem;
  }

  .onboarding-slide h3 {
    font-size: 1rem;
  }

  .onboarding-slide p {
    font-size: 0.85rem;
  }

  .onboarding-nav {
    flex-direction: column-reverse;
    gap: 0.5rem;
  }

  .onboarding-btn {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }

  .onboarding-dots {
    margin: 1rem 0;
  }
}

/* Mobile - Search Container */
@media (max-width: 480px) {
  .search-container {
    padding: 0 0.5rem;
  }

  .search-wrapper input {
    font-size: 16px;
    /* Prevents zoom on iOS */
    padding: 0.75rem 1rem;
  }

  .filter-toggle-btn {
    padding: 0.5rem;
  }
}

/* Mobile - Results Grid */
@media (max-width: 480px) {
  .results-grid {
    padding: 0 0.5rem;
    gap: 0.5rem;
  }

  .result-card {
    padding: 0.75rem;
  }
}

/* Mobile - Top Navigation */
@media (max-width: 480px) {
  .top-nav {
    padding: 0.5rem;
  }

  .brand-title-swe {
    font-size: 1.1rem;
  }

  .brand-title-arb {
    font-size: 0.9rem;
  }

  .progress-stats-badge {
    padding: 0.3rem 0.6rem;
    gap: 0.4rem;
  }

  .progress-stat .stat-icon {
    font-size: 0.8rem;
  }
}

/* Mobile - Settings Menu */
@media (max-width: 480px) {
  .settings-menu {
    max-width: 90vw;
    max-height: 80vh;
  }

  .menu-item {
    padding: 0.6rem 0.75rem;
  }

  .settings-section-header {
    font-size: 0.75rem;
  }
}

/* Mobile - Word of the Day Card */
@media (max-width: 480px) {
  #wordOfTheDay {
    margin: 0.5rem;
    padding: 1rem;
  }

  .wod-swe {
    font-size: 1.5rem;
  }

  .wod-arb {
    font-size: 1.25rem;
  }

  .wod-action-btn {
    padding: 0.4rem;
  }
}

/* Mobile - Quiz Container */
@media (max-width: 480px) {
  .game-container {
    margin: 0.5rem;
    padding: 0.75rem;
    border-radius: 16px;
  }

  .quiz-header-compact {
    padding: 0.5rem;
  }

  .quiz-options {
    gap: 0.5rem;
  }

  .quiz-option {
    padding: 0.75rem;
  }
}

/* Mobile - Flashcard Container */
@media (max-width: 480px) {
  .flashcard-inline-card {
    min-height: 180px;
  }

  .flashcard-text-inline {
    font-size: 1.5rem;
  }

  .fc-btn-inline {
    padding: 0.5rem 0.75rem;
  }

  .fc-emoji {
    font-size: 1.25rem;
  }

  .fc-label {
    font-size: 0.7rem;
  }
}

/* Mobile View Mode - iPhone Frame Simulation */
@media (max-width: 768px) {
  body.mobile-view-mode .container {
    max-width: 100%;
    padding: 0;
  }
}

/* Touch-friendly improvements */
@media (hover: none) and (pointer: coarse) {

  .quick-action-btn,
  .menu-item,
  .result-card,
  .quiz-option,
  .fc-btn-inline {
    -webkit-tap-highlight-color: transparent;
  }

  .quick-action-btn:active,
  .menu-item:active,
  .result-card:active {
    transform: scale(0.98);
    opacity: 0.9;
  }
}

/* Safe area insets for notched phones */
@supports (padding-top: env(safe-area-inset-top)) {
  .top-nav {
    padding-top: calc(0.5rem + env(safe-area-inset-top));
  }

  .progress-modal-content {
    padding-bottom: env(safe-area-inset-bottom);
  }

  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* ============================================================
   GLOBAL LANGUAGE-SPECIFIC DISPLAY RULES
   Controls visibility of text based on lang-sv, lang-ar, lang-both classes
   ============================================================ */

/* Swedish Only Mode - Hide all Arabic text */
body.lang-sv [dir="rtl"]:not(.card *):not(.details-page-container *):not(.quiz-option),
body.lang-sv .ar-text,
body.lang-sv .arabic-text,
body.lang-sv .text-ar,
body.lang-sv [lang="ar"],
body.lang-sv .bilingual-ar,
body.lang-sv .word-arb:not(.card .word-arb):not(.details-page-container *):not(.cognate-card *),
body.lang-sv .subtitle-ar {
  display: none !important;
}

/* Force show dictionary content on details page even in single-language mode */
.details-page-container [dir="rtl"],
.details-page-container .word-arb-hero,
.details-page-container .word-arb-ext,
.details-page-container .ex-arb-detail,
.details-page-container .def-text[dir="rtl"] {
  display: block !important;
}

.details-page-container span.word-arb-hero,
.details-page-container span.ex-arb-detail {
  display: inline !important;
}

/* Arabic Only Mode - Hide all Swedish text, show Arabic */
body.lang-ar .sv-text,
body.lang-ar .swedish-text,
body.lang-ar .text-sv,
body.lang-ar [lang="sv"],
body.lang-ar .bilingual-sv,
body.lang-ar .word-swe:not(.card .word-swe):not(.details-page-container *),
body.lang-ar .subtitle-sv {
  display: none !important;
}

/* Force show dictionary content on details page even in single-language mode */
.details-page-container .word-swe-hero,
.details-page-container .ex-swe-detail,
.details-page-container .def-text {
  display: block !important;
}

.details-page-container span.word-swe-hero,
.details-page-container span.ex-swe-detail {
  display: inline !important;
}

/* RTL for Arabic mode */
body.lang-ar,
body.rtl {
  direction: rtl;
  text-align: right;
}

body.lang-ar .top-nav,
body.lang-ar .quick-actions-grid,
body.lang-ar .nav-center {
  flex-direction: row-reverse;
}

/* Both Languages - Show everything (default) */
body.lang-both [dir="rtl"],
body.lang-both .arabic-text,
body.lang-both .swedish-text {
  display: block !important;
}

/* For inline elements like spans, use inline display */
body.lang-both .ar-text,
body.lang-both .sv-text {
  display: inline !important;
}

/* Base styles for language text - ensure they're visible by default */
.sv-text,
.ar-text {
  display: inline;
}

/* Swedish mode - show Swedish, hide Arabic */
body.lang-sv .sv-text {
  display: inline !important;
}

/* Arabic mode - show Arabic, hide Swedish */
body.lang-ar .ar-text {
  display: inline !important;
}

/* Language selector - Always show all buttons */
.language-selector,
.language-selector * {
  display: flex !important;
  visibility: visible !important;
}

/* ============================================================
   CUSTOM LANGUAGE-AWARE TOOLTIPS
   Replaces browser tooltips with CSS tooltips that respect language
   ============================================================ */

/* Base tooltip styles */
[data-tooltip-sv],
[data-tooltip-ar] {
  position: relative;
  cursor: pointer;
}

[data-tooltip-sv]::after,
[data-tooltip-ar]::after {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(5px);
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 500;
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s;
  z-index: 9999;
  background: var(--glass-bg, rgba(30, 30, 40, 0.95));
  color: var(--text-main, #fff);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.1));
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

[data-tooltip-sv]:hover::after,
[data-tooltip-ar]:hover::after {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(-5px);
}

/* Swedish mode - show Swedish tooltip */
body.lang-sv [data-tooltip-sv]::after {
  content: attr(data-tooltip-sv);
}

/* Arabic mode - show Arabic tooltip */
body.lang-ar [data-tooltip-ar]::after {
  content: attr(data-tooltip-ar);
  direction: rtl;
  font-family: 'Tajawal', sans-serif;
}

/* Both languages mode - show both separated by slash */
body.lang-both [data-tooltip-sv][data-tooltip-ar]::after {
  content: attr(data-tooltip-sv) " / " attr(data-tooltip-ar);
}

/* Tooltip arrow */
[data-tooltip-sv]::before,
[data-tooltip-ar]::before {
  content: '';
  position: absolute;
  bottom: calc(100% - 5px);
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: var(--glass-bg, rgba(30, 30, 40, 0.95));
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s;
  z-index: 9999;
}

[data-tooltip-sv]:hover::before,
[data-tooltip-ar]:hover::before {
  opacity: 1;
  visibility: visible;
}

/* Tooltip titles are handled by JavaScript */
/* ========================================
   Inline Voice Selector Styles
   ======================================== */
.voice-selector-inline {
  display: flex;
  gap: 8px;
  background: rgba(255, 255, 255, 0.05);
  padding: 4px;
  border-radius: 12px;
  margin-right: auto;
}

.voice-selector-inline .voice-btn {
  width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.1rem;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.voice-selector-inline .voice-btn:hover {
  background: rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.voice-selector-inline .voice-btn.active {
  background: var(--primary);
  color: white;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

[data-theme="dark"] .voice-selector-inline .voice-btn:hover {
  background: rgba(255, 255, 255, 0.1);
}

.voice-search-btn.listening {
  color: #ef4444 !important;
  animation: micPulse 1.5s infinite;
}

@keyframes micPulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }

  50% {
    transform: scale(1.2);
    opacity: 0.7;
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ========================================
   LANGUAGE VISIBILITY CONTROL
   ======================================== */
/* Hide Arabic text when Swedish is active */
body.lang-sv .ar-text {
  display: none !important;
}

/* Hide Swedish text when Arabic is active */
body.lang-ar .sv-text {
  display: none !important;
}

/* Ensure spacing doesn't collapse weirdly */
.sv-text,
.ar-text {
  /* Optional: transitions or display properties */
}

/* ========================================
   SEARCH HISTORY
   ======================================== */
.history-container {
  padding: 0.75rem 1rem;
  margin-bottom: 0.5rem;
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.history-title {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-secondary);
}

.clear-history-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 0.9rem;
  opacity: 0.6;
  transition: opacity 0.2s;
}

.clear-history-btn:hover {
  opacity: 1;
}

.history-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.history-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.4rem 0.75rem;
  background: var(--surface-secondary, rgba(255, 255, 255, 0.05));
  border: 1px solid var(--border, rgba(255, 255, 255, 0.1));
  border-radius: 9999px;
  font-size: 0.85rem;
  color: var(--text-main);
  cursor: pointer;
  transition: all 0.2s ease;
}

.history-chip:hover {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}

.history-icon {
  font-size: 0.75rem;
  opacity: 0.7;
}


/* ========================================
   UTILITY CLASSES (Extracted from inline styles)
   ======================================== */
.ml-sm {
  margin-left: 0.5rem;
}

.flex-1 {
  flex: 1;
}

.w-44 {
  width: 44px;
}

.mb-lg {
  margin-bottom: 24px;
}

.flex-wrap {
  flex-wrap: wrap;
}

.section-title-padded {
  padding: 0 1rem;
  margin-top: 0.75rem;
}

/* Asma ul Husna Filter Button Variants */
.filter-btn--jalal {
  color: #fca5a5 !important;
  border-color: rgba(220, 38, 38, 0.4) !important;
}

.filter-btn--jamal {
  color: #93c5fd !important;
  border-color: rgba(147, 51, 234, 0.4) !important;
}

.filter-btn--kamal {
  color: #93c5fd !important;
  border-color: rgba(37, 99, 235, 0.4) !important;
}

/* Stats actions layout */
.stats-actions-layout {
  margin-top: 1.5rem;
  display: flex;
  gap: 1rem;
  justify-content: center;
}

/* Compact button */
.btn-compact {
  font-size: 0.9rem;
  padding: 0.5rem 1rem;
}

/* SVG stroke utilities */
.stroke-red {
  stroke: #ef4444;
}

/* =========================================
   SHARED AUDIO PLAYER COMPONENT
   ========================================= */
.audio-player-bar {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(15, 23, 42, 0.95);
  border: 1px solid rgba(251, 191, 36, 0.3);
  border-radius: 50px;
  padding: 0.8rem 2rem;
  display: flex;
  align-items: center;
  gap: 2rem;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  width: 90%;
  max-width: 500px;
}

.audio-player-bar.hidden {
  bottom: -150px;
  opacity: 0;
  pointer-events: none;
}

.audio-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  line-height: 1.4;
}

.audio-name-ar {
  color: #fbbf24;
  font-family: 'Amiri', serif;
  font-weight: bold;
  font-size: 1.1rem;
}

.audio-name-sv {
  color: #e2e8f0;
  font-size: 0.9rem;
  opacity: 0.9;
}

.audio-names-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: nowrap;
  width: 100%;
}

.audio-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.audio-btn {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  color: #e2e8f0;
  cursor: pointer;
  font-size: 1.2rem;
  padding: 0;
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
}

.audio-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px);
  color: #fbbf24;
}

.audio-btn:active {
  transform: translateY(0) scale(0.95);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.audio-btn.play-pause {
  background: rgba(251, 191, 36, 0.15);
  border: 1px solid rgba(251, 191, 36, 0.3);
  color: #fbbf24;
  width: 56px;
  height: 56px;
  font-size: 1.6rem;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}

.audio-btn.play-pause:hover {
  background: rgba(251, 191, 36, 0.25);
  border-color: rgba(251, 191, 36, 0.5);
  box-shadow: 0 12px 25px rgba(251, 191, 36, 0.3);
  transform: translateY(-3px) scale(1.05);
}

.speed-btn {
  font-size: 0.85rem;
  font-weight: 600;
  width: auto;
  min-width: 44px;
  border-radius: 16px;
  padding: 0 1rem;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.player-close-btn {
  position: absolute;
  top: -10px;
  right: -10px;
  width: 25px;
  height: 25px;
  background: rgba(239, 68, 68, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 1rem;
  z-index: 1002;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  transition: all 0.2s;
}

.player-close-btn:hover {
  transform: scale(1.1);
  background: #ef4444;
}

@media (max-width: 600px) {
  .audio-player-bar {
    width: 95%;
    padding: 1rem 0.5rem;
    gap: 0.8rem;
    bottom: 5rem;
    /* Raised to avoid bottom nav/border overlap */
    flex-direction: column;
    border-radius: 20px;
    align-items: center;
  }

  .audio-info {
    width: 100%;
    align-items: center;
    text-align: center;
    margin-bottom: 0.5rem;
    order: -1;
    /* Ensure text is above controls */
  }

  .audio-names-row {
    flex-direction: column;
    gap: 0.3rem;
  }

  .audio-controls {
    width: 100%;
    justify-content: center;
    gap: 1.5rem;
    /* Wider gap for easier tapping */
  }

  .player-close-btn {
    top: -12px;
    right: -5px;
    width: 30px;
    /* Larger hit target */
    height: 30px;
    font-size: 1.2rem;
  }
}