const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loader-DOLU1NFP.js","assets/config-8gd_ljfe.js","assets/db-D9nATt-F.js"])))=>i.map(i=>d[i]);
import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import"./loader-DOLU1NFP.js";import"./games-utils-CmJc8SbM.js";import{_ as z}from"./preload-helper-D7HrI6pR.js";import{T as I}from"./tts-D1JXvOqA.js";import{generateEducationalSentence as U,TextSizeManager as K}from"./utils-5O7zxelZ.js";import{DictionaryDB as Q}from"./db-D9nATt-F.js";import"./pwa-Bn3RWWLO.js";import"./config-8gd_ljfe.js";import"./i18n-BpwFYk4h.js";import"./toast-manager-DdtDDR9Z.js";const O="ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ö√Ñ√ñ".split(""),Y=["head","body","leftArm","rightArm","leftLeg","rightLeg"],b={easy:{minLen:3,maxLen:5,lives:8,scoreMultiplier:1},medium:{minLen:4,maxLen:8,lives:6,scoreMultiplier:1.5},hard:{minLen:6,maxLen:12,lives:4,scoreMultiplier:2}},J={all:null,substantiv:"Substantiv",verb:"Verb",adjektiv:"Adjektiv"},X={first:10,type:5,example:20};let s="",v="",r=null,S=[],m=0,E=6,f=!1,w="medium",P="all",M=!1,B=0,h=!0,l=parseInt(localStorage.getItem("hangman_coins")||"100"),y=parseInt(localStorage.getItem("hangman_streak")||"0"),i=JSON.parse(localStorage.getItem("hangman_stats")||'{"gamesPlayed": 0, "wins": 0, "bestStreak": 0, "totalScore": 0}');const N=0,C=1,H=2,W=3,x=7;async function Z(){const t=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",t),localStorage.getItem("mobileView")==="true"&&(document.documentElement.classList.add("iphone-mode"),document.body.classList.add("iphone-view")),g(),V(),window.useHint=lt,window.startNewGame=u,window.learnMore=yt,window.openStatsModal=gt,window.closeStatsModal=ht,window.changeDifficulty=pt,window.changeCategory=St,window.toggleSound=Et,window.startDailyChallenge=ut,window.guessLetter=T,window.createConfetti=F;try{await Q.init()}catch(n){console.error("DB Init failed",n)}window.dictionaryData?u():z(()=>import("./loader-DOLU1NFP.js"),__vite__mapDeps([0,1,2])).then(()=>{window.dictionaryData?u():window.addEventListener("dictionaryLoaded",()=>u())})}function tt(){const t=window.dictionaryData;if(!t)return console.error("Dictionary data not loaded"),{word:"LADDAR",hint:"V√§ntar p√• data...",type:"Loading",example:"",id:"0"};const n=b[w],e=J[P],o=t.filter(c=>{const d=c[H],L=c[C];return!(!d||!/^[a-zA-Z√•√§√∂√Ö√Ñ√ñ]+$/.test(d)||d.length<n.minLen||d.length>n.maxLen||e&&!L.toLowerCase().includes(e.toLowerCase()))});if(o.length===0)return{word:"TOMT",hint:"No words found",type:"Error",example:"",id:"0"};const a=o[Math.floor(Math.random()*o.length)];return r=a,{word:a[H].toUpperCase(),hint:a[W],type:a[C],example:a[x]||"",id:a[N]}}function u(){const t=tt();s=t.word,v=t.hint,S=[],m=0,f=!1,E=b[w].lives;const n=document.getElementById("mainHint"),e=document.getElementById("categoryBadge"),o=document.getElementById("resultOverlay");n&&(n.textContent=`üîç ${v}`),e&&(e.textContent=t.type.replace(".","")),o&&o.classList.remove("visible"),rt(),mt(),et(),nt(),ot(),k("happy")}function et(){const t=document.getElementById("livesBar");if(t){t.innerHTML="";for(let n=0;n<E;n++){const e=document.createElement("span");e.className="heart",e.id=`heart-${n}`,e.textContent="‚ù§Ô∏è",t.appendChild(e)}}}function nt(){const t=document.getElementById("keyboard");t&&(t.innerHTML="",O.forEach(n=>{const e=document.createElement("button");e.className="key",e.textContent=n,e.onclick=()=>T(n,e),t.appendChild(e)}))}function ot(){const t=document.getElementById("wordDisplay");t&&(t.innerHTML="",s.split("").forEach((n,e)=>{const o=document.createElement("div");o.className="letter-slot",o.id=`slot-${e}`,t.appendChild(o)}))}function T(t,n){f||S.includes(t)||(S.push(t),n.classList.add("used"),s.includes(t)?(n.classList.add("correct"),R(t),$("correct"),at()&&(f=!0,it())):(n.classList.add("wrong"),m++,ct(m-1),dt(),$("wrong"),k(m>=E-2?"worried":"normal"),m>=E&&(f=!0,st())))}function R(t,n=!1){s.split("").forEach((e,o)=>{if(e===t){const a=document.getElementById(`slot-${o}`);a&&(a.textContent=t,a.classList.add(n?"hint-revealed":"revealed"))}}),I&&h&&setTimeout(()=>I.speak(t.toLowerCase(),"sv"),50)}function at(){return s.split("").every(t=>S.includes(t))}function it(){const n=(E-m)*20,e=b[w].scoreMultiplier,o=Math.round((100+n)*e);y++,l+=o,i.wins++,i.gamesPlayed++,i.totalScore+=o,y>i.bestStreak&&(i.bestStreak=y),p(),g(),F(),M&&(B++,B>=5&&ft()),G(!0,o)}function st(){y=0,i.gamesPlayed++,p(),g(),k("sad"),s.split("").forEach((t,n)=>{const e=document.getElementById(`slot-${n}`);e&&!e.textContent&&(e.textContent=t,e.classList.add("revealed-wrong"))}),G(!1,0)}function lt(t){const n=X[t];if(l<n){alert("Inte tillr√§ckligt med mynt! / ŸÑŸäÿ≥ ŸÖŸÜ ÿßŸÑÿπŸÖŸÑÿßÿ™");return}if(t==="first"){const e=s[0];if(!S.includes(e)){l-=n,p(),g(),S.push(e),R(e,!0);const o=Array.from(document.querySelectorAll(".key")).find(a=>a.textContent===e);o&&o.classList.add("used","hint-used")}}else if(t==="type"){const e=document.getElementById("mainHint");e&&(l-=n,p(),g(),e.textContent+=` (${r[C]})`)}else if(t==="example"){const e=document.getElementById("mainHint"),o=r[x];e&&o&&(l-=n,p(),g(),e.textContent=`üìù ${o}`)}}function rt(){document.querySelectorAll(".hangman-part").forEach(t=>{t.style.opacity="0"})}function ct(t){const n=Y[t];if(n){const e=document.getElementById(n);e&&(e.style.opacity="1")}}function dt(){const t=document.getElementById(`heart-${E-m}`);t&&(t.classList.add("lost"),setTimeout(()=>t.textContent="üñ§",300))}function k(t){const n=document.getElementById("leftEye"),e=document.getElementById("rightEye"),o=document.getElementById("mouth");!n||!e||!o||(n.style.opacity="1",e.style.opacity="1",o.style.opacity="1",t==="happy"?o.setAttribute("d","M124,60 Q130,65 136,60"):t==="worried"?o.setAttribute("d","M124,62 Q130,62 136,62"):t==="sad"&&o.setAttribute("d","M124,65 Q130,60 136,65"))}function mt(){document.querySelectorAll(".hint-chip").forEach(t=>t.classList.remove("used"))}function D(){const t=new Date;return`hangman_daily_${t.getFullYear()}_${t.getMonth()}_${t.getDate()}`}function V(){const t=localStorage.getItem(D())==="completed",n=document.getElementById("dailyBtn");n&&t&&(n.classList.add("completed"),n.textContent="‚úÖ Klar!")}function ut(){if(localStorage.getItem(D())==="completed")return;M=!0,B=0,w="medium";const t=document.getElementById("difficultySelect");t&&(t.value="medium"),u()}function ft(){localStorage.setItem(D(),"completed"),l+=50,p(),g(),V(),M=!1}function g(){const t=document.getElementById("coinsValue"),n=document.getElementById("streakValue");t&&(t.textContent=l.toString()),n&&(n.textContent=y.toString())}function p(){localStorage.setItem("hangman_coins",l.toString()),localStorage.setItem("hangman_streak",y.toString()),localStorage.setItem("hangman_stats",JSON.stringify(i))}function G(t,n){const e=document.getElementById("resultOverlay"),o=document.getElementById("resultEmoji"),a=document.getElementById("resultText"),c=document.getElementById("resultWord"),d=document.getElementById("resultScore"),L=document.getElementById("resultStreak");e&&e.classList.add("visible"),o&&(o.textContent=t?"üéâ":"üò¢"),a&&(a.textContent=t?"Bra jobbat! / ÿ£ÿ≠ÿ≥ŸÜÿ™!":"Tyv√§rr! / ŸÑŸÑÿ£ÿ≥ŸÅ!");const _=U(s,v,r[x],r[W],void 0,r[C]);c&&(c.innerHTML=`
            <div style="margin-bottom: 0.5rem; font-size: 1.4rem; color: #4ade80;">${s}</div>
            <div style="font-size: 1.1rem; color: #cbd5e1;">${_.s}</div>
            <div style="font-size: 1rem; color: #fbbf24; margin-top: 0.3rem; font-family: 'Tajawal', sans-serif;">${_.a}</div>
        `),d&&(d.textContent=t?`+${n}`:"0"),L&&(L.textContent=y.toString()),I&&h&&setTimeout(()=>I.speak(s.toLowerCase(),"sv"),500),c&&c.querySelectorAll("div").forEach((A,j)=>{const q=j===0?1:2;K.apply(A,A.textContent||"",q)})}function yt(){r&&(window.location.href=`../details.html?id=${r[N]}`)}function gt(){const t=document.getElementById("statGamesPlayed"),n=document.getElementById("statWinRate"),e=document.getElementById("statBestStreak"),o=document.getElementById("statTotalScore"),a=document.getElementById("statsModal");t&&(t.textContent=i.gamesPlayed.toString()),n&&(n.textContent=i.gamesPlayed>0?Math.round(i.wins/i.gamesPlayed*100)+"%":"0%"),e&&(e.textContent=i.bestStreak.toString()),o&&(o.textContent=i.totalScore.toString()),a&&a.classList.add("visible")}function ht(){const t=document.getElementById("statsModal");t&&t.classList.remove("visible")}function pt(){const t=document.getElementById("difficultySelect");t&&(w=t.value,f||u())}function St(){const t=document.getElementById("categorySelect");t&&(P=t.value,f||u())}function Et(){h=!h;const t=document.querySelector(".sound-btn");t&&(t.textContent=h?"üîä":"üîá")}function $(t){h&&console.log("Play sound:",t)}function F(){const t=document.getElementById("confettiContainer");if(!t)return;const n=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#a29bfe"];for(let e=0;e<50;e++){const o=document.createElement("div");o.className="confetti",o.style.left=Math.random()*100+"%",o.style.background=n[Math.floor(Math.random()*n.length)],o.style.width=Math.random()*10+5+"px",o.style.height=o.style.width,o.style.borderRadius=Math.random()>.5?"50%":"0",o.style.animation=`confettiFall ${Math.random()*2+2}s linear forwards`,o.style.animationDelay=Math.random()*.5+"s",t.appendChild(o)}setTimeout(()=>{t&&(t.innerHTML="")},2e3)}document.addEventListener("keydown",t=>{const n=t.key.toUpperCase();if(O.includes(n)&&!f){const e=Array.from(document.querySelectorAll(".key")).find(o=>o.textContent===n);e&&!e.classList.contains("used")&&T(n,e)}});document.addEventListener("DOMContentLoaded",Z);
