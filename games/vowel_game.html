<!DOCTYPE html>
<html lang="sv" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vokalspel / Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±ÙˆÙ - SnabbaLexin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="../assets/css/style.css?v=global3d">
    <link
        href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&family=Inter:wght@300;400;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/vowel_game.css">




</head>

<body>

    <div class="ambient-bg">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
    </div>

    <!-- START SCREEN -->
    <div id="startScreen" class="start-screen">
        <div class="orb orb-1 start-orb-large"></div>
        <h1 class="start-title">Svenska Vokaler<br><span class="start-subtitle">ØªØ­Ø¯ÙŠ
                Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ø³ÙˆÙŠØ¯ÙŠØ©</span></h1>

        <!-- Vowel Intro Section -->
        <div class="vowel-intro" id="vowelIntro">
            <p class="intro-text">ğŸ¯ <span class="sv-text">LÃ¤r dig skillnaden mellan svenska vokaler</span><span
                    class="ar-text">ØªØ¹Ù„Ù… Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ø§Ù„Ø³ÙˆÙŠØ¯ÙŠØ©</span></p>
            <div class="vowel-comparison">
                <button class="vowel-demo" onclick="playVowelDemo('A')">A</button>
                <button class="vowel-demo" onclick="playVowelDemo('O')">O</button>
                <button class="vowel-demo" onclick="playVowelDemo('U')">U</button>
                <button class="vowel-demo" onclick="playVowelDemo('Ã…')">Ã…</button>
                <button class="vowel-demo" onclick="playVowelDemo('Ã„')">Ã„</button>
                <button class="vowel-demo" onclick="playVowelDemo('Ã–')">Ã–</button>
            </div>
            <p class="intro-hint">ğŸ”Š <span class="sv-text">Klicka fÃ¶r att hÃ¶ra</span> / <span class="ar-text">Ø§Ø¶ØºØ·
                    Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹</span></p>
        </div>

        <button class="start-btn" onclick="startGame()"><span class="sv-text">BÃ¶rja Spela</span><span
                class="ar-text">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</span> â–¶</button>
        <div class="secondary-btns">
            <button class="daily-btn" id="dailyBtn" onclick="startDailyChallenge()">ğŸŒŸ <span class="sv-text">Dagens
                    Utmaning</span></button>
            <button class="audio-btn" onclick="startAudioMode()">ğŸ”Š <span class="sv-text">LjudlÃ¤ge</span></button>
        </div>
        <p class="start-hint">ğŸ”Š Turn on sound for the best experience</p>
    </div>

    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>

    <header>
        <button class="back-btn" onclick="window.history.back()" aria-label="Tillbaka" title="Tillbaka">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </button>
        <button id="mobileToggle" class="mobile-toggle-btn" onclick="toggleMobileView()"
            title="ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">ğŸ“±</button>
        <button id="focusModeToggle" class="mobile-toggle-btn" onclick="toggleFocusMode()"
            title="ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² / Focus Mode">ğŸ‘ï¸</button>

        <div class="stats-bar">
            <div class="lives-container" id="livesContainer">
                <span class="heart">â¤ï¸</span><span class="heart">â¤ï¸</span><span class="heart">â¤ï¸</span>
            </div>
            <div class="level-badge level-badge-clickable" id="levelBadge" onclick="toggleStageMap()">Start!</div>
        </div>
    </header>

    <div class="title-bar">
        <h1 class="game-title title-floating-bounce">ğŸ”¤ <span class="sv-text">Vokalspel</span><span class="ar-text">Ù„Ø¹Ø¨Ø©
                Ø§Ù„Ø­Ø±ÙˆÙ
                Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©</span></h1>
    </div>

    <div class="game-container">

        <!-- Stage Map Modal - Hidden by default -->
        <div id="stageMapOverlay" class="stage-map-overlay" style="display: none;">
            <h2 class="stage-map-title">KartlÃ¤ggning ğŸ—ºï¸</h2>
            <div id="stageGrid" class="stage-grid"></div>
            <button onclick="toggleStageMap()" class="stage-map-close-btn">Close</button>
        </div>

        <!-- Celebration Container -->
        <div id="celebrationOverlay" class="celebration-overlay"></div>

        <!-- Daily Challenge UI -->
        <div class="daily-timer" id="dailyTimer">â±ï¸ 00:00</div>
        <div class="daily-badge" id="dailyBadge">
            ğŸ† Dagens Utmaning Avklarad!<br>
            <span class="daily-badge-amount">+3 â¤ï¸</span>
        </div>

        <div id="playArea" class="play-area-container">

            <div id="bossBanner" class="boss-banner">âš ï¸ BOSS WAVE âš ï¸</div>

            <div id="inlineCountdown" class="inline-countdown"></div>

            <div class="speed-badge" id="speedBadge">SNABB! âš¡ï¸</div>

            <div class="audio-hint" id="audioHint">ğŸ”Š Klicka pÃ¥ hÃ¶gtalaren fÃ¶r att lyssna!</div>

            <div class="card-flipper slide-in" id="cardFlipper">
                <!-- FRONT -->
                <div id="questionCard" class="pair-card">
                    <div class="word-row">
                        <div id="slot1" class="word-item drop-zone" data-slot="1">
                            <div class="word-emoji" id="emoji1"></div>
                            <div class="word-top-row">
                                <div class="word-text word-1-text">B<span class="missing-vowel"></span>l</div>
                                <button class="listen-btn" onclick="playAudioForSlot(1)" aria-label="Lyssna">ğŸ”Š</button>
                            </div>
                            <div class="word-def word-1-def">ÙƒØ±Ø©</div>
                        </div>
                        <div id="slot2" class="word-item drop-zone" data-slot="2">
                            <div class="word-emoji" id="emoji2"></div>
                            <div class="word-top-row">
                                <div class="word-text word-2-text">B<span class="missing-vowel"></span>l</div>
                                <button class="listen-btn" onclick="playAudioForSlot(2)" aria-label="Lyssna">ğŸ”Š</button>
                            </div>
                            <div class="word-def word-2-def">Ø¬Ø°Ø¹ (Ø´Ø¬Ø±Ø©)</div>
                        </div>
                    </div>
                </div>

                <!-- BACK -->
                <div class="back-face" id="backFace">
                    <div class="context-title">Exempelmeningar</div>
                    <div class="context-row">
                        <span class="context-emoji" id="backEmoji1"></span>
                        <div class="context-sv" id="sentence1"></div>
                    </div>
                    <div class="context-row">
                        <span class="context-emoji" id="backEmoji2"></span>
                        <div class="context-sv" id="sentence2"></div>
                    </div>
                </div>
            </div>

            <!-- Feedback -->
            <div class="feedback-overlay" id="feedbackOverlay">
                <span class="feedback-icon" id="feedbackIcon">âœ…</span>
                <div class="feedback-text" id="feedbackText">Bra jobbat!</div>
            </div>

            <div class="options-area" id="optionsArea"></div>
        </div>

        <div id="endScreen" class="end-screen">
            <h1 id="endTitle"><span class="sv-text">Grattis!</span><span class="ar-text">Ù…Ø¨Ø±ÙˆÙƒ!</span> ğŸ‘‘</h1>
            <p id="endMessage"><span class="sv-text">Du klarade spelet!</span><span class="ar-text">Ø£ØªÙ…Ù…Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</span>
            </p>
            <div class="end-score" id="finalScore"></div>
            <button class="restart-btn" onclick="location.reload()"><span class="sv-text">Spela igen</span><span
                    class="ar-text">Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</span></button>
        </div>
    </div>

    <script type="module" src="../src/games/vowelGame.ts"></script>

    <script type="module" src="/src/pwa.ts"></script>
</body>

</html>