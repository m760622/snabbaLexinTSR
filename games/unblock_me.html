<!DOCTYPE html>
<html lang="sv" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><span class="sv-text">LÃ¥s Upp</span><span class="ar-text">ÙÙƒ Ø§Ù„Ù‚ÙÙ„</span> - Unblock Me</title>
    <link rel="stylesheet" href="../assets/css/style.css?v=global3d">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Tajawal:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/unblock_me.css">
</head>

<body>
    <header>
        <button class="icon-btn" onclick="window.location.href='games.html'" aria-label="Back">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        </button>
        <button id="mobileToggle" class="mobile-toggle-btn" onclick="toggleMobileView()"
            title="ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">ğŸ“±</button>
        <button id="focusModeToggle" class="mobile-toggle-btn" onclick="toggleFocusMode()"
            title="ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² / Focus Mode">ğŸ‘ï¸</button>
        <h1>
            <span class="sv-text">LÃ¥s Upp</span>
            <span class="ar-text">ÙÙƒ Ø§Ù„Ù‚ÙÙ„</span>
        </h1>
        <button class="icon-btn" onclick="game.toggleNightMode()" aria-label="Toggle Night Mode">
            <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </header>

    <!-- Start Screen -->
    <div id="start-screen">
        <h1 class="start-title">
            <span class="sv-text">LÃ¥s Upp</span>
            <span class="ar-text">ÙÙƒ Ø§Ù„Ù‚ÙÙ„</span>
        </h1>
        <div class="mode-card" onclick="game.startMode('classic')">
            <div class="mode-title">
                <span class="sv-text">Klassisk</span>
                <span class="ar-text">ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</span>
            </div>
            <div class="mode-desc">
                <span class="sv-text">Flytta blocken fritt</span>
                <span class="ar-text">Ø­Ø±Ùƒ Ø§Ù„ÙƒØªÙ„ Ø¨Ø­Ø±ÙŠØ©</span>
            </div>
        </div>
        <div class="mode-card" onclick="game.startMode('ice')">
            <div class="mode-title">
                <span class="sv-text">Isblock</span>
                <span class="ar-text">Ø¬Ù„ÙŠØ¯</span>
            </div>
            <div class="mode-desc">
                <span class="sv-text">Blocken glider till slutet</span>
                <span class="ar-text">Ø§Ù„ÙƒØªÙ„ ØªÙ†Ø²Ù„Ù‚ Ù„Ù„Ù†Ù‡Ø§ÙŠØ©</span>
            </div>
        </div>
    </div>

    <div id="game-container">
        <div id="board">
            <div class="exit-gate"></div>
            <div class="exit-arrow">âœ</div>
            <!-- Blocks will be injected here -->
        </div>
    </div>

    <div class="info-bar">
        <div class="info-item">
            <div class="info-label">
                <span class="sv-text">NivÃ¥</span>
                <span class="ar-text">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</span>
            </div>
            <div class="info-value" id="level-display">1</div>
        </div>
        <div class="info-item">
            <div class="info-label">
                <span class="sv-text">Drag</span>
                <span class="ar-text">Ø­Ø±ÙƒØ§Øª</span>
            </div>
            <div class="info-value" id="moves-display">0</div>
        </div>
        <div class="info-item">
            <div class="info-label">
                <span class="sv-text">BÃ¤sta</span>
                <span class="ar-text">Ø§Ù„Ø£ÙØ¶Ù„</span>
            </div>
            <div class="info-value" id="best-display">-</div>
        </div>
    </div>

    <div class="controls">
        <button class="btn undo-btn" onclick="game.undo()">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 7v6h6" />
                <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13" />
            </svg>
            <span class="sv-text">Ã…ngra</span>
            <span class="ar-text">ØªØ±Ø§Ø¬Ø¹</span>
        </button>
        <button class="btn" onclick="game.resetLevel()">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12" />
            </svg>
            <span class="sv-text">Ã…terstÃ¤ll</span>
            <span class="ar-text">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</span>
        </button>
    </div>

    <!-- Win Modal -->
    <div id="win-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">
                <span class="sv-text">Bra jobbat!</span>
                <span class="ar-text">Ø£Ø­Ø³Ù†Øª!</span>
            </div>
            <div class="level-complete-stars" id="modal-stars">â˜…â˜…â˜…</div>
            <p class="sv-text">Du klarade nivÃ¥n pÃ¥ <span id="modal-moves">0</span> drag.</p>
            <p class="ar-text">Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙÙŠ <span id="modal-moves-ar">0</span> Ø­Ø±ÙƒØ©.</p>
            <button class="btn next-level-btn" onclick="game.nextLevel()">
                <span class="sv-text">NÃ¤sta</span>
                <span class="ar-text">Ø§Ù„ØªØ§Ù„ÙŠ</span>
            </button>
        </div>
    </div>
    <script type="module" src="../src/games/unblockMeGame.ts"></script>
    <script type="module" src="../src/loader.ts"></script>
    <script type="module" src="/src/pwa.ts"></script>
</body>

</html>